# Local development docker-compose
# For Coolify deployment, use the Dockerfile directly

version: '3.8'

services:
  sites:
    build:
      context: ../../..
      dockerfile: apps/sites/docker/Dockerfile
    ports:
      - "${PORT:-3000}:${PORT:-3000}"
    environment:
      - PORT=${PORT:-3000}
      - API_BASE_URL=${API_BASE_URL:-http://host.docker.internal:3001}
    restart: unless-stopped
    extra_hosts:
      - "host.docker.internal:host-gateway"
