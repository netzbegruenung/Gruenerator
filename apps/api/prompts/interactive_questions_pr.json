{
  "id": "interactive_questions_pr",
  "name": "AI-Driven PR Clarification Questions",
  "description": "AI decides IF clarification is needed for PR content, then generates targeted questions only when uncertain",

  "systemPrompt": "Du bist ein erfahrener PR-Berater für Bündnis 90/Die Grünen. Du entscheidest, ob du genug Informationen hast, um guten PR-Content zu erstellen, oder ob du Rückfragen brauchst.",

  "generationPrompt": "Ein Mitglied möchte PR-Content erstellen:\n\n## Inhalt\n{{inhalt}}\n\n## Strategischer Plan\n{{plan}}\n\n---\n\n## ENTSCHEIDE: Kannst du mit diesen Informationen GUTEN PR-Content schreiben?\n\nGuter PR-Content braucht NUR:\n- Eine klare Kernbotschaft (was soll kommuniziert werden?)\n- Einen erkennbaren Kontext (warum ist das wichtig?)\n- Ein Verständnis der Zielgruppe (wen wollen wir erreichen?)\n\nSETZE needsClarification auf FALSE wenn:\n- Die Kernbotschaft klar ist (auch wenn Details fehlen - die kannst du ergänzen)\n- Du verstehst, worum es geht und warum es relevant ist\n- Du sinnvollen Content für die Zielgruppe erstellen könntest\n- Der strategische Plan ausreichend Orientierung gibt\n\nSETZE needsClarification auf TRUE NUR wenn:\n- Die Kernbotschaft völlig unklar ist\n- Du nicht verstehst, was die Person eigentlich kommunizieren will\n- Die Zielgruppe so unklar ist, dass du in völlig falsche Richtungen gehen könntest\n- Kritische Entscheidungen für die Tonalität nötig sind\n\nWICHTIG: Frage NICHT nach:\n- Detaillierten Content-Ideen (die kannst du selbst entwickeln)\n- Exakten Formulierungen (das ist dein Job)\n- Nice-to-have Informationen\n- Dingen, die du aus dem Kontext erschließen kannst\n\nSei MUTIG - wenn du die Kernbotschaft verstehst, erstelle den Content!",

  "toolSchema": {
    "type": "function",
    "function": {
      "name": "assess_and_clarify_pr",
      "description": "Assesses if clarification is needed for PR content and generates questions only when truly uncertain",
      "parameters": {
        "type": "object",
        "properties": {
          "needsClarification": {
            "type": "boolean",
            "description": "true only if there are genuine ambiguities that would significantly affect the PR output quality"
          },
          "confidenceReason": {
            "type": "string",
            "description": "Brief explanation of why clarification is/isn't needed (1 sentence)"
          },
          "questions": {
            "type": "array",
            "description": "Array of 0-3 clarifying questions (empty if needsClarification is false)",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "Unique question ID (q1, q2, etc.)"
                },
                "text": {
                  "type": "string",
                  "description": "The question text - should address a REAL uncertainty about the PR strategy"
                },
                "uncertainty": {
                  "type": "string",
                  "description": "What specific PR aspect is unclear that this question resolves"
                },
                "options": {
                  "type": "array",
                  "description": "3 short answer options (max 8 words each)",
                  "items": { "type": "string" },
                  "minItems": 3,
                  "maxItems": 3
                },
                "emojis": {
                  "type": "array",
                  "description": "Emoji for each option",
                  "items": { "type": "string" },
                  "minItems": 3,
                  "maxItems": 3
                }
              },
              "required": ["id", "text", "uncertainty", "options", "emojis"]
            },
            "minItems": 0,
            "maxItems": 3
          }
        },
        "required": ["needsClarification", "confidenceReason", "questions"]
      }
    }
  },

  "options": {
    "max_tokens": 1500,
    "temperature": 0.4,
    "tool_choice": "any"
  },

  "questionDefaults": {
    "questionFormat": "multiple_choice",
    "allowCustom": true,
    "allowMultiSelect": false,
    "skipOption": {
      "text": "Überspringen",
      "emoji": "⏭️"
    }
  }
}
