import{j as e,P as T,F as S,a as R,u as D,b as N,c as w,E as M}from"./index-DyXXXUoc.js";import{b as r}from"./vendor-CPnJIadx.js";/* empty css                  *//* empty css               *//* empty css               *//* empty css                 */import{B as L}from"./BaseForm-c3ucbGGj.js";import"./HelpDisplay-BuoYnQy0.js";import"./DisplaySection-B2S7b4Z_.js";import"./ActionButtons-D6KUb2mX.js";import"./index-CqWIjGOL.js";import"./index-02I5EOAM.js";const c={REDE:"rede",WAHLPROGRAMM:"wahlprogramm",UNIVERSAL:"universal"},q={[c.REDE]:"Rede",[c.WAHLPROGRAMM]:"Wahlprogramm",[c.UNIVERSAL]:"Universal"},I={[c.REDE]:"Grünerator für Reden",[c.WAHLPROGRAMM]:"Grünerator für Wahlprogramm-Kapitel",[c.UNIVERSAL]:"Universal Grünerator"},f=({selectedType:p,onTypeChange:i})=>e.jsxs("div",{className:"form-group text-type-selector",children:[e.jsx("h3",{children:e.jsx("label",{htmlFor:"textType",children:"Art des Textes"})}),e.jsxs("div",{className:"select-wrapper",children:[e.jsx("select",{id:"textType",value:p,onChange:s=>i(s.target.value),className:"form-control custom-select",children:Object.entries(q).map(([s,m])=>e.jsx("option",{value:s,children:m},s))}),e.jsx("span",{className:"select-arrow",children:"▼"})]})]});f.propTypes={selectedType:T.oneOf(Object.values(c)).isRequired,onTypeChange:T.func.isRequired};const b=p=>{const[i,s]=r.useState({}),m=r.useCallback(h=>{const n={};return Object.keys(p).forEach(a=>{const u=h[a],t=p[a];t.required&&(!u||u.trim()==="")?n[a]=t.message||`${a} ist erforderlich`:t.min&&Number(u)<t.min?n[a]=t.message||`${a} muss mindestens ${t.min} sein`:t.max&&Number(u)>t.max&&(n[a]=t.message||`${a} darf maximal ${t.max} sein`)}),s(n),Object.keys(n).length===0},[p]);return{errors:i,validateForm:m}},y=r.forwardRef((p,i)=>{const[s,m]=r.useState(""),[h,n]=r.useState(""),[a,u]=r.useState(""),[t,x]=r.useState(""),[l,d]=r.useState(""),g={redezeit:{required:!0,min:1,max:5,message:"Die Redezeit muss zwischen 1 und 3 Minuten liegen"}},{errors:v,validateForm:F}=b(g);return r.useImperativeHandle(i,()=>({getFormData:()=>{const o={rolle:s,thema:h,zielgruppe:a,schwerpunkte:t,redezeit:l};return F(o)?o:null}})),e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:e.jsx("label",{htmlFor:"rolle",children:"Rolle/Position"})}),e.jsx("input",{id:"rolle",type:"text",name:"rolle",placeholder:"Sprecher*in der Grünen OV Musterdorf, Antragssteller*in etc.",value:s,onChange:o=>m(o.target.value),"aria-required":"true"}),e.jsx("h3",{children:e.jsx("label",{htmlFor:"thema",children:"Spezifisches Thema oder Anlass der Rede"})}),e.jsx("input",{id:"thema",type:"text",name:"thema",placeholder:"Umwelt- und Klimaschutz in der Stadt",value:h,onChange:o=>n(o.target.value),"aria-required":"true"}),e.jsx("h3",{children:e.jsx("label",{htmlFor:"zielgruppe",children:"Zielgruppe"})}),e.jsx("input",{id:"zielgruppe",type:"text",name:"zielgruppe",placeholder:"Bürger*innen von Musterdorf",value:a,onChange:o=>u(o.target.value),"aria-required":"true"}),e.jsx("h3",{children:e.jsx("label",{htmlFor:"schwerpunkte",children:"Besondere Schwerpunkte oder lokale Aspekte"})}),e.jsx("textarea",{id:"schwerpunkte",name:"schwerpunkte",style:{height:"120px"},placeholder:"Durchführung von Projekten zur Förderung erneuerbarer Energien, Unterstützung lokaler Initiativen...",value:t,onChange:o=>x(o.target.value),"aria-required":"true"}),e.jsx("h3",{children:e.jsx("label",{htmlFor:"redezeit",children:"Gewünschte Redezeit (in Minuten)"})}),e.jsx("input",{id:"redezeit",type:"number",name:"redezeit",placeholder:"1-5",value:l,onChange:o=>d(o.target.value),"aria-required":"true"}),v.redezeit&&e.jsx("small",{className:"error-text",children:v.redezeit}),e.jsx("small",{className:"help-text",children:"Maximal 5 Minuten möglich"})]})});y.displayName="RedeForm";const C=r.forwardRef((p,i)=>{const[s,m]=r.useState(""),[h,n]=r.useState(""),[a,u]=r.useState(""),t={thema:{required:!0,message:"Bitte geben Sie ein Thema an"},zeichenanzahl:{required:!0,min:1e3,max:3500,message:"Die Zeichenanzahl muss zwischen 1.000 und 3.500 liegen"}},{errors:x,validateForm:l}=b(t);return r.useImperativeHandle(i,()=>({getFormData:()=>{const d={thema:s,details:h,zeichenanzahl:a};return l(d)?d:null}})),e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:e.jsx("label",{htmlFor:"thema",children:S.THEME})}),e.jsx("input",{id:"thema",type:"text",name:"thema",placeholder:R.THEME,value:s,onChange:d=>m(d.target.value),"aria-required":"true"}),x.thema&&e.jsx("small",{className:"error-text",children:x.thema}),e.jsx("h3",{children:e.jsx("label",{htmlFor:"details",children:S.DETAILS})}),e.jsx("textarea",{id:"details",name:"details",style:{height:"120px"},placeholder:R.DETAILS,value:h,onChange:d=>n(d.target.value),"aria-required":"true"}),e.jsx("h3",{children:e.jsx("label",{htmlFor:"zeichenanzahl",children:S.CHARACTER_COUNT})}),e.jsx("input",{id:"zeichenanzahl",type:"number",name:"zeichenanzahl",placeholder:"1000-3500",value:a,onChange:d=>u(d.target.value),"aria-required":"true"}),x.zeichenanzahl&&e.jsx("small",{className:"error-text",children:x.zeichenanzahl}),e.jsx("small",{className:"help-text",children:"Zwischen 1.000 und 3.500 Zeichen möglich"})]})});C.displayName="WahlprogrammForm";const A=r.forwardRef((p,i)=>{const[s,m]=r.useState(""),[h,n]=r.useState(""),[a,u]=r.useState(""),[t,x]=r.useState("");return r.useImperativeHandle(i,()=>({getFormData:()=>({textForm:s,sprache:h,thema:a,details:t})})),e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:e.jsx("label",{htmlFor:"textForm",children:"Textform"})}),e.jsx("input",{id:"textForm",type:"text",name:"textForm",placeholder:"z.B. Antrag, Pressemitteilung, Social Media Post, Rede...",value:s,onChange:l=>m(l.target.value),"aria-required":"true"}),e.jsx("h3",{children:e.jsx("label",{htmlFor:"sprache",children:"Sprache & Stil"})}),e.jsx("input",{id:"sprache",type:"text",name:"sprache",placeholder:"z.B. formal, sachlich, emotional, aktivierend...",value:h,onChange:l=>n(l.target.value),"aria-required":"true"}),e.jsx("h3",{children:e.jsx("label",{htmlFor:"thema",children:S.THEME})}),e.jsx("input",{id:"thema",type:"text",name:"thema",placeholder:R.THEME,value:a,onChange:l=>u(l.target.value),"aria-required":"true"}),e.jsx("h3",{children:e.jsx("label",{htmlFor:"details",children:S.DETAILS})}),e.jsx("textarea",{id:"details",name:"details",style:{height:"120px"},placeholder:R.DETAILS,value:t,onChange:l=>x(l.target.value),"aria-required":"true"})]})});A.displayName="UniversalForm";const P={[c.REDE]:"/claude_rede",[c.WAHLPROGRAMM]:"/claude_wahlprogramm",[c.UNIVERSAL]:"/claude_universal"},k=({showHeaderFooter:p=!0})=>{const[i,s]=r.useState(c.UNIVERSAL),[m,h]=r.useState(""),n=r.useRef(),a=D(m,1.2,.8,[1e3,2e3]),{submitForm:u,loading:t,success:x,resetSuccess:l,error:d}=N(P[i]),{setGeneratedContent:g}=r.useContext(w),v=r.useCallback(async()=>{var z;if(!((z=n.current)!=null&&z.getFormData))return;const j=n.current.getFormData();if(j)try{const E=await u(j);E&&(h(E),g(E),setTimeout(l,3e3))}catch(E){console.error("Error submitting form:",E)}},[u,l,g]),F=r.useCallback(j=>{h(j),g(j)},[g]),o=()=>{switch(i){case c.REDE:return e.jsx(y,{ref:n});case c.WAHLPROGRAMM:return e.jsx(C,{ref:n});case c.UNIVERSAL:return e.jsx(A,{ref:n});default:return null}};return e.jsx(M,{children:e.jsx("div",{className:`container ${p?"with-header":""}`,children:e.jsxs(L,{title:I[i],loading:t,success:x,error:d,generatedContent:m,textSize:a,onGeneratedContentChange:F,onSubmit:v,children:[e.jsx(f,{selectedType:i,onTypeChange:s}),o()]})})})};k.propTypes={showHeaderFooter:T.bool};export{k as default};
