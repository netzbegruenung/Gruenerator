import{u as M,b as w,c as R,j as t,E as _,F as x,a as g,P as B}from"./index-DyXXXUoc.js";import{b as s}from"./vendor-CPnJIadx.js";import{B as H}from"./BaseForm-c3ucbGGj.js";import{S as I}from"./AnimatedCheckbox-DTlO6gN8.js";import{u as L}from"./useSharedContent-C0ZuNfBf.js";import"./HelpDisplay-BuoYnQy0.js";import"./DisplaySection-B2S7b4Z_.js";import"./ActionButtons-D6KUb2mX.js";import"./index-CqWIjGOL.js";import"./index-02I5EOAM.js";const N=(m={thema:"",details:""})=>{const[o,b]=s.useState(m.thema),[i,k]=s.useState(m.details),[r,l]=s.useState({facebook:!1,instagram:!1,twitter:!1,linkedin:!1,actionIdeas:!1,reelScript:!1,pressemitteilung:!1}),[c,C]=s.useState(""),[d,S]=s.useState(""),j=s.useCallback(n=>{l(a=>({...a,[n]:!a[n]}))},[]),u=s.useCallback(()=>{const n=Object.keys(r).filter(f=>r[f]),a={thema:o,details:i,platforms:n};return r.pressemitteilung&&(a.was=o,a.wie=i,a.zitatgeber=c,a.pressekontakt=d),a},[o,i,r,c,d]);return{thema:o,setThema:b,details:i,setDetails:k,platforms:r,setPlatforms:l,handlePlatformChange:j,zitatgeber:c,setZitatgeber:C,pressekontakt:d,setPressekontakt:S,getFormData:u}},G=({showHeaderFooter:m=!0})=>{const{initialContent:o}=L(),{thema:b,setThema:i,details:k,setDetails:r,platforms:l,handlePlatformChange:c,zitatgeber:C,setZitatgeber:d,pressekontakt:S,setPressekontakt:j,getFormData:u}=N(o),[n,a]=s.useState(""),f=M(n,1.2,.8,[1e3,2e3]),{submitForm:E,loading:T,success:v,resetSuccess:F,error:y}=w("/claude_social"),{setGeneratedContent:p}=s.useContext(R),[P,O]=s.useState(!1),D=s.useCallback(async()=>{try{const e=u(),h=await E(e,P);h&&(a(h),p(h),setTimeout(F,3e3))}catch{}},[u,E,F,p,P]),A=s.useCallback(e=>{a(e),p(e)},[p]),z=()=>t.jsxs(t.Fragment,{children:[t.jsx("h3",{children:t.jsx("label",{htmlFor:"thema",children:x.THEME})}),t.jsx("input",{id:"thema",type:"text",name:"thema",placeholder:g.THEME,value:b,onChange:e=>i(e.target.value),"aria-required":"true"}),t.jsx("h3",{children:t.jsx("label",{htmlFor:"details",children:x.DETAILS})}),t.jsx("textarea",{id:"details",name:"details",style:{height:"120px"},placeholder:g.DETAILS,value:k,onChange:e=>r(e.target.value),"aria-required":"true"}),t.jsx("h3",{children:"Plattformen & Formate"}),t.jsx("div",{className:"platform-checkboxes",children:Object.entries(l).map(([e,h])=>t.jsx(I,{id:`checkbox-${e}`,checked:h,onChange:()=>c(e),label:e==="actionIdeas"?"Aktionsideen":e==="reelScript"?"Instagram Reel":e==="pressemitteilung"?"Pressemitteilung":e.charAt(0).toUpperCase()+e.slice(1)},e))}),l.pressemitteilung&&t.jsxs("div",{className:"press-release-fields",children:[t.jsx("h3",{children:t.jsx("label",{htmlFor:"zitatgeber",children:x.WHO_QUOTE})}),t.jsx("p",{className:"subtext",children:"Mehrere Personen können genannt werden."}),t.jsx("input",{id:"zitatgeber",type:"text",name:"zitatgeber",placeholder:g.WHO_QUOTE,value:C,onChange:e=>d(e.target.value),"aria-required":"true"}),t.jsx("h3",{children:t.jsx("label",{htmlFor:"pressekontakt",children:x.PRESS_CONTACT})}),t.jsx("textarea",{id:"pressekontakt",name:"pressekontakt",placeholder:g.PRESS_CONTACT,value:S,onChange:e=>j(e.target.value),"aria-required":"true"})]})]});return t.jsx(_,{children:t.jsx("div",{className:`container ${m?"with-header":""}`,children:t.jsx(H,{title:"Presse- & Social Media Grünerator",onSubmit:D,loading:T,success:v,error:y,generatedContent:n,textSize:f,onGeneratedContentChange:A,useBackupProvider:P,setUseBackupProvider:O,usePlatformContainers:!0,children:z()})})})};G.propTypes={showHeaderFooter:B.bool};export{G as default};
