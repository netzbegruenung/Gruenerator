import{P as ee,c as gr,j as Y,D as je,o as Li,A as ji,B as Ii}from"./index-DyXXXUoc.js";import{c as Ae,r as Ci,a as Mi,g as fi,b as te,R as ge}from"./vendor-CPnJIadx.js";import{A as Di}from"./ActionButtons-D6KUb2mX.js";import{b as xe,a as Bi,S as Fi}from"./HelpDisplay-BuoYnQy0.js";import{s as Ui,t as Hi,u as Ki,v as Gi,w as zi,d as ci,x as Vi,f as Wi,y as $i,z as Zi,A as Yi,r as Qi,q as Xi,B as Ji,p as eo}from"./index-02I5EOAM.js";import{I as to,a as ro}from"./index-CqWIjGOL.js";const no=S=>{if(!S)return"";const R={400:"Deine Eingabe konnte nicht verarbeitet werden. Bitte überprüfe deine Eingaben und versuche es erneut.",401:"Es gibt ein Problem mit der Verbindung zum Server. Bitte lade die Seite neu.",403:"Du hast leider keine Berechtigung für diese Aktion. Bitte kontaktiere uns, wenn du denkst, dass dies ein Fehler ist.",404:"Die angeforderte Ressource wurde nicht gefunden. Möglicherweise wurde sie gelöscht oder verschoben.",413:"Deine Eingabe ist zu lang. Bitte kürze deinen Text etwas.",429:"Unser System wird gerade von zu vielen Nutzer*innen verwendet. Bitte warte einen Moment und versuche es dann erneut. Du kannst alternativ den Grünerator Backup verwenden.",500:"Ein unerwarteter Fehler ist aufgetreten. Du kannst alternativ Grünerator Backup verwenden.",529:"Die Server unseres KI-Anbieters Anthropic sind momentan überlastet. Bitte versuche es in einigen Minuten erneut. Du kannst alternativ den Grünerator Backup verwenden."};for(const[E,f]of Object.entries(R))if(S.includes(E))return`[Fehler ${E}] ${f} Es tut mir sehr leid. Bitte versuche es später erneut.`;return"Ein Fehler ist aufgetreten. Es tut mir sehr leid. Bitte versuche es später erneut."},ol=(S={})=>Object.keys(S).length>0;var Ie,Ar;function io(){if(Ar)return Ie;Ar=1;function S(){this.__data__=[],this.size=0}return Ie=S,Ie}var Ce,Tr;function hi(){if(Tr)return Ce;Tr=1;function S(R,E){return R===E||R!==R&&E!==E}return Ce=S,Ce}var Me,wr;function ke(){if(wr)return Me;wr=1;var S=hi();function R(E,f){for(var s=E.length;s--;)if(S(E[s][0],f))return s;return-1}return Me=R,Me}var De,xr;function oo(){if(xr)return De;xr=1;var S=ke(),R=Array.prototype,E=R.splice;function f(s){var O=this.__data__,g=S(O,s);if(g<0)return!1;var b=O.length-1;return g==b?O.pop():E.call(O,g,1),--this.size,!0}return De=f,De}var Be,Nr;function ao(){if(Nr)return Be;Nr=1;var S=ke();function R(E){var f=this.__data__,s=S(f,E);return s<0?void 0:f[s][1]}return Be=R,Be}var Fe,kr;function lo(){if(kr)return Fe;kr=1;var S=ke();function R(E){return S(this.__data__,E)>-1}return Fe=R,Fe}var Ue,Sr;function uo(){if(Sr)return Ue;Sr=1;var S=ke();function R(E,f){var s=this.__data__,O=S(s,E);return O<0?(++this.size,s.push([E,f])):s[O][1]=f,this}return Ue=R,Ue}var He,qr;function Se(){if(qr)return He;qr=1;var S=io(),R=oo(),E=ao(),f=lo(),s=uo();function O(g){var b=-1,y=g==null?0:g.length;for(this.clear();++b<y;){var v=g[b];this.set(v[0],v[1])}}return O.prototype.clear=S,O.prototype.delete=R,O.prototype.get=E,O.prototype.has=f,O.prototype.set=s,He=O,He}var Ke,Rr;function so(){if(Rr)return Ke;Rr=1;var S=Se();function R(){this.__data__=new S,this.size=0}return Ke=R,Ke}var Ge,Pr;function fo(){if(Pr)return Ge;Pr=1;function S(R){var E=this.__data__,f=E.delete(R);return this.size=E.size,f}return Ge=S,Ge}var ze,Lr;function co(){if(Lr)return ze;Lr=1;function S(R){return this.__data__.get(R)}return ze=S,ze}var Ve,jr;function ho(){if(jr)return Ve;jr=1;function S(R){return this.__data__.has(R)}return Ve=S,Ve}var We,Ir;function di(){if(Ir)return We;Ir=1;var S=typeof Ae=="object"&&Ae&&Ae.Object===Object&&Ae;return We=S,We}var $e,Cr;function me(){if(Cr)return $e;Cr=1;var S=di(),R=typeof self=="object"&&self&&self.Object===Object&&self,E=S||R||Function("return this")();return $e=E,$e}var Ze,Mr;function mr(){if(Mr)return Ze;Mr=1;var S=me(),R=S.Symbol;return Ze=R,Ze}var Ye,Dr;function vo(){if(Dr)return Ye;Dr=1;var S=mr(),R=Object.prototype,E=R.hasOwnProperty,f=R.toString,s=S?S.toStringTag:void 0;function O(g){var b=E.call(g,s),y=g[s];try{g[s]=void 0;var v=!0}catch{}var c=f.call(g);return v&&(b?g[s]=y:delete g[s]),c}return Ye=O,Ye}var Qe,Br;function po(){if(Br)return Qe;Br=1;var S=Object.prototype,R=S.toString;function E(f){return R.call(f)}return Qe=E,Qe}var Xe,Fr;function qe(){if(Fr)return Xe;Fr=1;var S=mr(),R=vo(),E=po(),f="[object Null]",s="[object Undefined]",O=S?S.toStringTag:void 0;function g(b){return b==null?b===void 0?s:f:O&&O in Object(b)?R(b):E(b)}return Xe=g,Xe}var Je,Ur;function vi(){if(Ur)return Je;Ur=1;function S(R){var E=typeof R;return R!=null&&(E=="object"||E=="function")}return Je=S,Je}var et,Hr;function pi(){if(Hr)return et;Hr=1;var S=qe(),R=vi(),E="[object AsyncFunction]",f="[object Function]",s="[object GeneratorFunction]",O="[object Proxy]";function g(b){if(!R(b))return!1;var y=S(b);return y==f||y==s||y==E||y==O}return et=g,et}var tt,Kr;function yo(){if(Kr)return tt;Kr=1;var S=me(),R=S["__core-js_shared__"];return tt=R,tt}var rt,Gr;function go(){if(Gr)return rt;Gr=1;var S=yo(),R=function(){var f=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}();function E(f){return!!R&&R in f}return rt=E,rt}var nt,zr;function yi(){if(zr)return nt;zr=1;var S=Function.prototype,R=S.toString;function E(f){if(f!=null){try{return R.call(f)}catch{}try{return f+""}catch{}}return""}return nt=E,nt}var it,Vr;function mo(){if(Vr)return it;Vr=1;var S=pi(),R=go(),E=vi(),f=yi(),s=/[\\^$.*+?()[\]{}|]/g,O=/^\[object .+?Constructor\]$/,g=Function.prototype,b=Object.prototype,y=g.toString,v=b.hasOwnProperty,c=RegExp("^"+y.call(v).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function r(e){if(!E(e)||R(e))return!1;var t=S(e)?c:O;return t.test(f(e))}return it=r,it}var ot,Wr;function bo(){if(Wr)return ot;Wr=1;function S(R,E){return R==null?void 0:R[E]}return ot=S,ot}var at,$r;function _e(){if($r)return at;$r=1;var S=mo(),R=bo();function E(f,s){var O=R(f,s);return S(O)?O:void 0}return at=E,at}var lt,Zr;function br(){if(Zr)return lt;Zr=1;var S=_e(),R=me(),E=S(R,"Map");return lt=E,lt}var ut,Yr;function Re(){if(Yr)return ut;Yr=1;var S=_e(),R=S(Object,"create");return ut=R,ut}var st,Qr;function _o(){if(Qr)return st;Qr=1;var S=Re();function R(){this.__data__=S?S(null):{},this.size=0}return st=R,st}var ft,Xr;function Eo(){if(Xr)return ft;Xr=1;function S(R){var E=this.has(R)&&delete this.__data__[R];return this.size-=E?1:0,E}return ft=S,ft}var ct,Jr;function Oo(){if(Jr)return ct;Jr=1;var S=Re(),R="__lodash_hash_undefined__",E=Object.prototype,f=E.hasOwnProperty;function s(O){var g=this.__data__;if(S){var b=g[O];return b===R?void 0:b}return f.call(g,O)?g[O]:void 0}return ct=s,ct}var ht,en;function Ao(){if(en)return ht;en=1;var S=Re(),R=Object.prototype,E=R.hasOwnProperty;function f(s){var O=this.__data__;return S?O[s]!==void 0:E.call(O,s)}return ht=f,ht}var dt,tn;function To(){if(tn)return dt;tn=1;var S=Re(),R="__lodash_hash_undefined__";function E(f,s){var O=this.__data__;return this.size+=this.has(f)?0:1,O[f]=S&&s===void 0?R:s,this}return dt=E,dt}var vt,rn;function wo(){if(rn)return vt;rn=1;var S=_o(),R=Eo(),E=Oo(),f=Ao(),s=To();function O(g){var b=-1,y=g==null?0:g.length;for(this.clear();++b<y;){var v=g[b];this.set(v[0],v[1])}}return O.prototype.clear=S,O.prototype.delete=R,O.prototype.get=E,O.prototype.has=f,O.prototype.set=s,vt=O,vt}var pt,nn;function xo(){if(nn)return pt;nn=1;var S=wo(),R=Se(),E=br();function f(){this.size=0,this.__data__={hash:new S,map:new(E||R),string:new S}}return pt=f,pt}var yt,on;function No(){if(on)return yt;on=1;function S(R){var E=typeof R;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?R!=="__proto__":R===null}return yt=S,yt}var gt,an;function Pe(){if(an)return gt;an=1;var S=No();function R(E,f){var s=E.__data__;return S(f)?s[typeof f=="string"?"string":"hash"]:s.map}return gt=R,gt}var mt,ln;function ko(){if(ln)return mt;ln=1;var S=Pe();function R(E){var f=S(this,E).delete(E);return this.size-=f?1:0,f}return mt=R,mt}var bt,un;function So(){if(un)return bt;un=1;var S=Pe();function R(E){return S(this,E).get(E)}return bt=R,bt}var _t,sn;function qo(){if(sn)return _t;sn=1;var S=Pe();function R(E){return S(this,E).has(E)}return _t=R,_t}var Et,fn;function Ro(){if(fn)return Et;fn=1;var S=Pe();function R(E,f){var s=S(this,E),O=s.size;return s.set(E,f),this.size+=s.size==O?0:1,this}return Et=R,Et}var Ot,cn;function gi(){if(cn)return Ot;cn=1;var S=xo(),R=ko(),E=So(),f=qo(),s=Ro();function O(g){var b=-1,y=g==null?0:g.length;for(this.clear();++b<y;){var v=g[b];this.set(v[0],v[1])}}return O.prototype.clear=S,O.prototype.delete=R,O.prototype.get=E,O.prototype.has=f,O.prototype.set=s,Ot=O,Ot}var At,hn;function Po(){if(hn)return At;hn=1;var S=Se(),R=br(),E=gi(),f=200;function s(O,g){var b=this.__data__;if(b instanceof S){var y=b.__data__;if(!R||y.length<f-1)return y.push([O,g]),this.size=++b.size,this;b=this.__data__=new E(y)}return b.set(O,g),this.size=b.size,this}return At=s,At}var Tt,dn;function Lo(){if(dn)return Tt;dn=1;var S=Se(),R=so(),E=fo(),f=co(),s=ho(),O=Po();function g(b){var y=this.__data__=new S(b);this.size=y.size}return g.prototype.clear=R,g.prototype.delete=E,g.prototype.get=f,g.prototype.has=s,g.prototype.set=O,Tt=g,Tt}var wt,vn;function jo(){if(vn)return wt;vn=1;var S="__lodash_hash_undefined__";function R(E){return this.__data__.set(E,S),this}return wt=R,wt}var xt,pn;function Io(){if(pn)return xt;pn=1;function S(R){return this.__data__.has(R)}return xt=S,xt}var Nt,yn;function Co(){if(yn)return Nt;yn=1;var S=gi(),R=jo(),E=Io();function f(s){var O=-1,g=s==null?0:s.length;for(this.__data__=new S;++O<g;)this.add(s[O])}return f.prototype.add=f.prototype.push=R,f.prototype.has=E,Nt=f,Nt}var kt,gn;function Mo(){if(gn)return kt;gn=1;function S(R,E){for(var f=-1,s=R==null?0:R.length;++f<s;)if(E(R[f],f,R))return!0;return!1}return kt=S,kt}var St,mn;function Do(){if(mn)return St;mn=1;function S(R,E){return R.has(E)}return St=S,St}var qt,bn;function mi(){if(bn)return qt;bn=1;var S=Co(),R=Mo(),E=Do(),f=1,s=2;function O(g,b,y,v,c,r){var e=y&f,t=g.length,u=b.length;if(t!=u&&!(e&&u>t))return!1;var a=r.get(g),l=r.get(b);if(a&&l)return a==b&&l==g;var i=-1,o=!0,h=y&s?new S:void 0;for(r.set(g,b),r.set(b,g);++i<t;){var n=g[i],d=b[i];if(v)var w=e?v(d,n,i,b,g,r):v(n,d,i,g,b,r);if(w!==void 0){if(w)continue;o=!1;break}if(h){if(!R(b,function(A,T){if(!E(h,T)&&(n===A||c(n,A,y,v,r)))return h.push(T)})){o=!1;break}}else if(!(n===d||c(n,d,y,v,r))){o=!1;break}}return r.delete(g),r.delete(b),o}return qt=O,qt}var Rt,_n;function Bo(){if(_n)return Rt;_n=1;var S=me(),R=S.Uint8Array;return Rt=R,Rt}var Pt,En;function Fo(){if(En)return Pt;En=1;function S(R){var E=-1,f=Array(R.size);return R.forEach(function(s,O){f[++E]=[O,s]}),f}return Pt=S,Pt}var Lt,On;function Uo(){if(On)return Lt;On=1;function S(R){var E=-1,f=Array(R.size);return R.forEach(function(s){f[++E]=s}),f}return Lt=S,Lt}var jt,An;function Ho(){if(An)return jt;An=1;var S=mr(),R=Bo(),E=hi(),f=mi(),s=Fo(),O=Uo(),g=1,b=2,y="[object Boolean]",v="[object Date]",c="[object Error]",r="[object Map]",e="[object Number]",t="[object RegExp]",u="[object Set]",a="[object String]",l="[object Symbol]",i="[object ArrayBuffer]",o="[object DataView]",h=S?S.prototype:void 0,n=h?h.valueOf:void 0;function d(w,A,T,k,m,p,_){switch(T){case o:if(w.byteLength!=A.byteLength||w.byteOffset!=A.byteOffset)return!1;w=w.buffer,A=A.buffer;case i:return!(w.byteLength!=A.byteLength||!p(new R(w),new R(A)));case y:case v:case e:return E(+w,+A);case c:return w.name==A.name&&w.message==A.message;case t:case a:return w==A+"";case r:var x=s;case u:var q=k&g;if(x||(x=O),w.size!=A.size&&!q)return!1;var I=_.get(w);if(I)return I==A;k|=b,_.set(w,A);var F=f(x(w),x(A),k,m,p,_);return _.delete(w),F;case l:if(n)return n.call(w)==n.call(A)}return!1}return jt=d,jt}var It,Tn;function Ko(){if(Tn)return It;Tn=1;function S(R,E){for(var f=-1,s=E.length,O=R.length;++f<s;)R[O+f]=E[f];return R}return It=S,It}var Ct,wn;function _r(){if(wn)return Ct;wn=1;var S=Array.isArray;return Ct=S,Ct}var Mt,xn;function Go(){if(xn)return Mt;xn=1;var S=Ko(),R=_r();function E(f,s,O){var g=s(f);return R(f)?g:S(g,O(f))}return Mt=E,Mt}var Dt,Nn;function zo(){if(Nn)return Dt;Nn=1;function S(R,E){for(var f=-1,s=R==null?0:R.length,O=0,g=[];++f<s;){var b=R[f];E(b,f,R)&&(g[O++]=b)}return g}return Dt=S,Dt}var Bt,kn;function Vo(){if(kn)return Bt;kn=1;function S(){return[]}return Bt=S,Bt}var Ft,Sn;function Wo(){if(Sn)return Ft;Sn=1;var S=zo(),R=Vo(),E=Object.prototype,f=E.propertyIsEnumerable,s=Object.getOwnPropertySymbols,O=s?function(g){return g==null?[]:(g=Object(g),S(s(g),function(b){return f.call(g,b)}))}:R;return Ft=O,Ft}var Ut,qn;function $o(){if(qn)return Ut;qn=1;function S(R,E){for(var f=-1,s=Array(R);++f<R;)s[f]=E(f);return s}return Ut=S,Ut}var Ht,Rn;function Le(){if(Rn)return Ht;Rn=1;function S(R){return R!=null&&typeof R=="object"}return Ht=S,Ht}var Kt,Pn;function Zo(){if(Pn)return Kt;Pn=1;var S=qe(),R=Le(),E="[object Arguments]";function f(s){return R(s)&&S(s)==E}return Kt=f,Kt}var Gt,Ln;function Yo(){if(Ln)return Gt;Ln=1;var S=Zo(),R=Le(),E=Object.prototype,f=E.hasOwnProperty,s=E.propertyIsEnumerable,O=S(function(){return arguments}())?S:function(g){return R(g)&&f.call(g,"callee")&&!s.call(g,"callee")};return Gt=O,Gt}var Ee={exports:{}},zt,jn;function Qo(){if(jn)return zt;jn=1;function S(){return!1}return zt=S,zt}Ee.exports;var In;function bi(){return In||(In=1,function(S,R){var E=me(),f=Qo(),s=R&&!R.nodeType&&R,O=s&&!0&&S&&!S.nodeType&&S,g=O&&O.exports===s,b=g?E.Buffer:void 0,y=b?b.isBuffer:void 0,v=y||f;S.exports=v}(Ee,Ee.exports)),Ee.exports}var Vt,Cn;function Xo(){if(Cn)return Vt;Cn=1;var S=9007199254740991,R=/^(?:0|[1-9]\d*)$/;function E(f,s){var O=typeof f;return s=s??S,!!s&&(O=="number"||O!="symbol"&&R.test(f))&&f>-1&&f%1==0&&f<s}return Vt=E,Vt}var Wt,Mn;function _i(){if(Mn)return Wt;Mn=1;var S=9007199254740991;function R(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=S}return Wt=R,Wt}var $t,Dn;function Jo(){if(Dn)return $t;Dn=1;var S=qe(),R=_i(),E=Le(),f="[object Arguments]",s="[object Array]",O="[object Boolean]",g="[object Date]",b="[object Error]",y="[object Function]",v="[object Map]",c="[object Number]",r="[object Object]",e="[object RegExp]",t="[object Set]",u="[object String]",a="[object WeakMap]",l="[object ArrayBuffer]",i="[object DataView]",o="[object Float32Array]",h="[object Float64Array]",n="[object Int8Array]",d="[object Int16Array]",w="[object Int32Array]",A="[object Uint8Array]",T="[object Uint8ClampedArray]",k="[object Uint16Array]",m="[object Uint32Array]",p={};p[o]=p[h]=p[n]=p[d]=p[w]=p[A]=p[T]=p[k]=p[m]=!0,p[f]=p[s]=p[l]=p[O]=p[i]=p[g]=p[b]=p[y]=p[v]=p[c]=p[r]=p[e]=p[t]=p[u]=p[a]=!1;function _(x){return E(x)&&R(x.length)&&!!p[S(x)]}return $t=_,$t}var Zt,Bn;function ea(){if(Bn)return Zt;Bn=1;function S(R){return function(E){return R(E)}}return Zt=S,Zt}var Oe={exports:{}};Oe.exports;var Fn;function ta(){return Fn||(Fn=1,function(S,R){var E=di(),f=R&&!R.nodeType&&R,s=f&&!0&&S&&!S.nodeType&&S,O=s&&s.exports===f,g=O&&E.process,b=function(){try{var y=s&&s.require&&s.require("util").types;return y||g&&g.binding&&g.binding("util")}catch{}}();S.exports=b}(Oe,Oe.exports)),Oe.exports}var Yt,Un;function Ei(){if(Un)return Yt;Un=1;var S=Jo(),R=ea(),E=ta(),f=E&&E.isTypedArray,s=f?R(f):S;return Yt=s,Yt}var Qt,Hn;function ra(){if(Hn)return Qt;Hn=1;var S=$o(),R=Yo(),E=_r(),f=bi(),s=Xo(),O=Ei(),g=Object.prototype,b=g.hasOwnProperty;function y(v,c){var r=E(v),e=!r&&R(v),t=!r&&!e&&f(v),u=!r&&!e&&!t&&O(v),a=r||e||t||u,l=a?S(v.length,String):[],i=l.length;for(var o in v)(c||b.call(v,o))&&!(a&&(o=="length"||t&&(o=="offset"||o=="parent")||u&&(o=="buffer"||o=="byteLength"||o=="byteOffset")||s(o,i)))&&l.push(o);return l}return Qt=y,Qt}var Xt,Kn;function na(){if(Kn)return Xt;Kn=1;var S=Object.prototype;function R(E){var f=E&&E.constructor,s=typeof f=="function"&&f.prototype||S;return E===s}return Xt=R,Xt}var Jt,Gn;function ia(){if(Gn)return Jt;Gn=1;function S(R,E){return function(f){return R(E(f))}}return Jt=S,Jt}var er,zn;function oa(){if(zn)return er;zn=1;var S=ia(),R=S(Object.keys,Object);return er=R,er}var tr,Vn;function aa(){if(Vn)return tr;Vn=1;var S=na(),R=oa(),E=Object.prototype,f=E.hasOwnProperty;function s(O){if(!S(O))return R(O);var g=[];for(var b in Object(O))f.call(O,b)&&b!="constructor"&&g.push(b);return g}return tr=s,tr}var rr,Wn;function la(){if(Wn)return rr;Wn=1;var S=pi(),R=_i();function E(f){return f!=null&&R(f.length)&&!S(f)}return rr=E,rr}var nr,$n;function ua(){if($n)return nr;$n=1;var S=ra(),R=aa(),E=la();function f(s){return E(s)?S(s):R(s)}return nr=f,nr}var ir,Zn;function sa(){if(Zn)return ir;Zn=1;var S=Go(),R=Wo(),E=ua();function f(s){return S(s,E,R)}return ir=f,ir}var or,Yn;function fa(){if(Yn)return or;Yn=1;var S=sa(),R=1,E=Object.prototype,f=E.hasOwnProperty;function s(O,g,b,y,v,c){var r=b&R,e=S(O),t=e.length,u=S(g),a=u.length;if(t!=a&&!r)return!1;for(var l=t;l--;){var i=e[l];if(!(r?i in g:f.call(g,i)))return!1}var o=c.get(O),h=c.get(g);if(o&&h)return o==g&&h==O;var n=!0;c.set(O,g),c.set(g,O);for(var d=r;++l<t;){i=e[l];var w=O[i],A=g[i];if(y)var T=r?y(A,w,i,g,O,c):y(w,A,i,O,g,c);if(!(T===void 0?w===A||v(w,A,b,y,c):T)){n=!1;break}d||(d=i=="constructor")}if(n&&!d){var k=O.constructor,m=g.constructor;k!=m&&"constructor"in O&&"constructor"in g&&!(typeof k=="function"&&k instanceof k&&typeof m=="function"&&m instanceof m)&&(n=!1)}return c.delete(O),c.delete(g),n}return or=s,or}var ar,Qn;function ca(){if(Qn)return ar;Qn=1;var S=_e(),R=me(),E=S(R,"DataView");return ar=E,ar}var lr,Xn;function ha(){if(Xn)return lr;Xn=1;var S=_e(),R=me(),E=S(R,"Promise");return lr=E,lr}var ur,Jn;function da(){if(Jn)return ur;Jn=1;var S=_e(),R=me(),E=S(R,"Set");return ur=E,ur}var sr,ei;function va(){if(ei)return sr;ei=1;var S=_e(),R=me(),E=S(R,"WeakMap");return sr=E,sr}var fr,ti;function pa(){if(ti)return fr;ti=1;var S=ca(),R=br(),E=ha(),f=da(),s=va(),O=qe(),g=yi(),b="[object Map]",y="[object Object]",v="[object Promise]",c="[object Set]",r="[object WeakMap]",e="[object DataView]",t=g(S),u=g(R),a=g(E),l=g(f),i=g(s),o=O;return(S&&o(new S(new ArrayBuffer(1)))!=e||R&&o(new R)!=b||E&&o(E.resolve())!=v||f&&o(new f)!=c||s&&o(new s)!=r)&&(o=function(h){var n=O(h),d=n==y?h.constructor:void 0,w=d?g(d):"";if(w)switch(w){case t:return e;case u:return b;case a:return v;case l:return c;case i:return r}return n}),fr=o,fr}var cr,ri;function ya(){if(ri)return cr;ri=1;var S=Lo(),R=mi(),E=Ho(),f=fa(),s=pa(),O=_r(),g=bi(),b=Ei(),y=1,v="[object Arguments]",c="[object Array]",r="[object Object]",e=Object.prototype,t=e.hasOwnProperty;function u(a,l,i,o,h,n){var d=O(a),w=O(l),A=d?c:s(a),T=w?c:s(l);A=A==v?r:A,T=T==v?r:T;var k=A==r,m=T==r,p=A==T;if(p&&g(a)){if(!g(l))return!1;d=!0,k=!1}if(p&&!k)return n||(n=new S),d||b(a)?R(a,l,i,o,h,n):E(a,l,A,i,o,h,n);if(!(i&y)){var _=k&&t.call(a,"__wrapped__"),x=m&&t.call(l,"__wrapped__");if(_||x){var q=_?a.value():a,I=x?l.value():l;return n||(n=new S),h(q,I,i,o,n)}}return p?(n||(n=new S),f(a,l,i,o,h,n)):!1}return cr=u,cr}var hr,ni;function ga(){if(ni)return hr;ni=1;var S=ya(),R=Le();function E(f,s,O,g,b){return f===s?!0:f==null||s==null||!R(f)&&!R(s)?f!==f&&s!==s:S(f,s,O,g,E,b)}return hr=E,hr}var dr,ii;function ma(){if(ii)return dr;ii=1;var S=ga();function R(E,f){return S(E,f)}return dr=R,dr}var Ne={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var ba=Ne.exports,oi;function _a(){return oi||(oi=1,function(S,R){(function(f,s){S.exports=s()})(typeof self<"u"?self:ba,function(){return function(E){var f={};function s(O){if(f[O])return f[O].exports;var g=f[O]={i:O,l:!1,exports:{}};return E[O].call(g.exports,g,g.exports,s),g.l=!0,g.exports}return s.m=E,s.c=f,s.d=function(O,g,b){s.o(O,g)||Object.defineProperty(O,g,{configurable:!1,enumerable:!0,get:b})},s.n=function(O){var g=O&&O.__esModule?function(){return O.default}:function(){return O};return s.d(g,"a",g),g},s.o=function(O,g){return Object.prototype.hasOwnProperty.call(O,g)},s.p="",s(s.s=109)}([function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=s(17),g=s(18),b=s(19),y=s(45),v=s(46),c=s(47),r=s(48),e=s(49),t=s(12),u=s(32),a=s(33),l=s(31),i=s(1),o={Scope:i.Scope,create:i.create,find:i.find,query:i.query,register:i.register,Container:O.default,Format:g.default,Leaf:b.default,Embed:r.default,Scroll:y.default,Block:c.default,Inline:v.default,Text:e.default,Attributor:{Attribute:t.default,Class:u.default,Style:a.default,Store:l.default}};f.default=o},function(E,f,s){var O=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var h in o)o.hasOwnProperty(h)&&(i[h]=o[h])};return function(i,o){l(i,o);function h(){this.constructor=i}i.prototype=o===null?Object.create(o):(h.prototype=o.prototype,new h)}}();Object.defineProperty(f,"__esModule",{value:!0});var g=function(l){O(i,l);function i(o){var h=this;return o="[Parchment] "+o,h=l.call(this,o)||this,h.message=o,h.name=h.constructor.name,h}return i}(Error);f.ParchmentError=g;var b={},y={},v={},c={};f.DATA_KEY="__blot";var r;(function(l){l[l.TYPE=3]="TYPE",l[l.LEVEL=12]="LEVEL",l[l.ATTRIBUTE=13]="ATTRIBUTE",l[l.BLOT=14]="BLOT",l[l.INLINE=7]="INLINE",l[l.BLOCK=11]="BLOCK",l[l.BLOCK_BLOT=10]="BLOCK_BLOT",l[l.INLINE_BLOT=6]="INLINE_BLOT",l[l.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",l[l.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",l[l.ANY=15]="ANY"})(r=f.Scope||(f.Scope={}));function e(l,i){var o=u(l);if(o==null)throw new g("Unable to create "+l+" blot");var h=o,n=l instanceof Node||l.nodeType===Node.TEXT_NODE?l:h.create(i);return new h(n,i)}f.create=e;function t(l,i){return i===void 0&&(i=!1),l==null?null:l[f.DATA_KEY]!=null?l[f.DATA_KEY].blot:i?t(l.parentNode,i):null}f.find=t;function u(l,i){i===void 0&&(i=r.ANY);var o;if(typeof l=="string")o=c[l]||b[l];else if(l instanceof Text||l.nodeType===Node.TEXT_NODE)o=c.text;else if(typeof l=="number")l&r.LEVEL&r.BLOCK?o=c.block:l&r.LEVEL&r.INLINE&&(o=c.inline);else if(l instanceof HTMLElement){var h=(l.getAttribute("class")||"").split(/\s+/);for(var n in h)if(o=y[h[n]],o)break;o=o||v[l.tagName]}return o==null?null:i&r.LEVEL&o.scope&&i&r.TYPE&o.scope?o:null}f.query=u;function a(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];if(l.length>1)return l.map(function(n){return a(n)});var o=l[0];if(typeof o.blotName!="string"&&typeof o.attrName!="string")throw new g("Invalid definition");if(o.blotName==="abstract")throw new g("Cannot register abstract class");if(c[o.blotName||o.attrName]=o,typeof o.keyName=="string")b[o.keyName]=o;else if(o.className!=null&&(y[o.className]=o),o.tagName!=null){Array.isArray(o.tagName)?o.tagName=o.tagName.map(function(n){return n.toUpperCase()}):o.tagName=o.tagName.toUpperCase();var h=Array.isArray(o.tagName)?o.tagName:[o.tagName];h.forEach(function(n){(v[n]==null||o.className==null)&&(v[n]=o)})}return o}f.register=a},function(E,f,s){var O=s(51),g=s(11),b=s(3),y=s(20),v="\0",c=function(r){Array.isArray(r)?this.ops=r:r!=null&&Array.isArray(r.ops)?this.ops=r.ops:this.ops=[]};c.prototype.insert=function(r,e){var t={};return r.length===0?this:(t.insert=r,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t))},c.prototype.delete=function(r){return r<=0?this:this.push({delete:r})},c.prototype.retain=function(r,e){if(r<=0)return this;var t={retain:r};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t)},c.prototype.push=function(r){var e=this.ops.length,t=this.ops[e-1];if(r=b(!0,{},r),typeof t=="object"){if(typeof r.delete=="number"&&typeof t.delete=="number")return this.ops[e-1]={delete:t.delete+r.delete},this;if(typeof t.delete=="number"&&r.insert!=null&&(e-=1,t=this.ops[e-1],typeof t!="object"))return this.ops.unshift(r),this;if(g(r.attributes,t.attributes)){if(typeof r.insert=="string"&&typeof t.insert=="string")return this.ops[e-1]={insert:t.insert+r.insert},typeof r.attributes=="object"&&(this.ops[e-1].attributes=r.attributes),this;if(typeof r.retain=="number"&&typeof t.retain=="number")return this.ops[e-1]={retain:t.retain+r.retain},typeof r.attributes=="object"&&(this.ops[e-1].attributes=r.attributes),this}}return e===this.ops.length?this.ops.push(r):this.ops.splice(e,0,r),this},c.prototype.chop=function(){var r=this.ops[this.ops.length-1];return r&&r.retain&&!r.attributes&&this.ops.pop(),this},c.prototype.filter=function(r){return this.ops.filter(r)},c.prototype.forEach=function(r){this.ops.forEach(r)},c.prototype.map=function(r){return this.ops.map(r)},c.prototype.partition=function(r){var e=[],t=[];return this.forEach(function(u){var a=r(u)?e:t;a.push(u)}),[e,t]},c.prototype.reduce=function(r,e){return this.ops.reduce(r,e)},c.prototype.changeLength=function(){return this.reduce(function(r,e){return e.insert?r+y.length(e):e.delete?r-e.delete:r},0)},c.prototype.length=function(){return this.reduce(function(r,e){return r+y.length(e)},0)},c.prototype.slice=function(r,e){r=r||0,typeof e!="number"&&(e=1/0);for(var t=[],u=y.iterator(this.ops),a=0;a<e&&u.hasNext();){var l;a<r?l=u.next(r-a):(l=u.next(e-a),t.push(l)),a+=y.length(l)}return new c(t)},c.prototype.compose=function(r){var e=y.iterator(this.ops),t=y.iterator(r.ops),u=[],a=t.peek();if(a!=null&&typeof a.retain=="number"&&a.attributes==null){for(var l=a.retain;e.peekType()==="insert"&&e.peekLength()<=l;)l-=e.peekLength(),u.push(e.next());a.retain-l>0&&t.next(a.retain-l)}for(var i=new c(u);e.hasNext()||t.hasNext();)if(t.peekType()==="insert")i.push(t.next());else if(e.peekType()==="delete")i.push(e.next());else{var o=Math.min(e.peekLength(),t.peekLength()),h=e.next(o),n=t.next(o);if(typeof n.retain=="number"){var d={};typeof h.retain=="number"?d.retain=o:d.insert=h.insert;var w=y.attributes.compose(h.attributes,n.attributes,typeof h.retain=="number");if(w&&(d.attributes=w),i.push(d),!t.hasNext()&&g(i.ops[i.ops.length-1],d)){var A=new c(e.rest());return i.concat(A).chop()}}else typeof n.delete=="number"&&typeof h.retain=="number"&&i.push(n)}return i.chop()},c.prototype.concat=function(r){var e=new c(this.ops.slice());return r.ops.length>0&&(e.push(r.ops[0]),e.ops=e.ops.concat(r.ops.slice(1))),e},c.prototype.diff=function(r,e){if(this.ops===r.ops)return new c;var t=[this,r].map(function(o){return o.map(function(h){if(h.insert!=null)return typeof h.insert=="string"?h.insert:v;var n=o===r?"on":"with";throw new Error("diff() called "+n+" non-document")}).join("")}),u=new c,a=O(t[0],t[1],e),l=y.iterator(this.ops),i=y.iterator(r.ops);return a.forEach(function(o){for(var h=o[1].length;h>0;){var n=0;switch(o[0]){case O.INSERT:n=Math.min(i.peekLength(),h),u.push(i.next(n));break;case O.DELETE:n=Math.min(h,l.peekLength()),l.next(n),u.delete(n);break;case O.EQUAL:n=Math.min(l.peekLength(),i.peekLength(),h);var d=l.next(n),w=i.next(n);g(d.insert,w.insert)?u.retain(n,y.attributes.diff(d.attributes,w.attributes)):u.push(w).delete(n);break}h-=n}}),u.chop()},c.prototype.eachLine=function(r,e){e=e||`
`;for(var t=y.iterator(this.ops),u=new c,a=0;t.hasNext();){if(t.peekType()!=="insert")return;var l=t.peek(),i=y.length(l)-t.peekLength(),o=typeof l.insert=="string"?l.insert.indexOf(e,i)-i:-1;if(o<0)u.push(t.next());else if(o>0)u.push(t.next(o));else{if(r(u,t.next(1).attributes||{},a)===!1)return;a+=1,u=new c}}u.length()>0&&r(u,{},a)},c.prototype.transform=function(r,e){if(e=!!e,typeof r=="number")return this.transformPosition(r,e);for(var t=y.iterator(this.ops),u=y.iterator(r.ops),a=new c;t.hasNext()||u.hasNext();)if(t.peekType()==="insert"&&(e||u.peekType()!=="insert"))a.retain(y.length(t.next()));else if(u.peekType()==="insert")a.push(u.next());else{var l=Math.min(t.peekLength(),u.peekLength()),i=t.next(l),o=u.next(l);if(i.delete)continue;o.delete?a.push(o):a.retain(l,y.attributes.transform(i.attributes,o.attributes,e))}return a.chop()},c.prototype.transformPosition=function(r,e){e=!!e;for(var t=y.iterator(this.ops),u=0;t.hasNext()&&u<=r;){var a=t.peekLength(),l=t.peekType();if(t.next(),l==="delete"){r-=Math.min(a,r-u);continue}else l==="insert"&&(u<r||!e)&&(r+=a);u+=a}return r},E.exports=c},function(E,f){var s=Object.prototype.hasOwnProperty,O=Object.prototype.toString,g=Object.defineProperty,b=Object.getOwnPropertyDescriptor,y=function(t){return typeof Array.isArray=="function"?Array.isArray(t):O.call(t)==="[object Array]"},v=function(t){if(!t||O.call(t)!=="[object Object]")return!1;var u=s.call(t,"constructor"),a=t.constructor&&t.constructor.prototype&&s.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!u&&!a)return!1;var l;for(l in t);return typeof l>"u"||s.call(t,l)},c=function(t,u){g&&u.name==="__proto__"?g(t,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):t[u.name]=u.newValue},r=function(t,u){if(u==="__proto__")if(s.call(t,u)){if(b)return b(t,u).value}else return;return t[u]};E.exports=function e(){var t,u,a,l,i,o,h=arguments[0],n=1,d=arguments.length,w=!1;for(typeof h=="boolean"&&(w=h,h=arguments[1]||{},n=2),(h==null||typeof h!="object"&&typeof h!="function")&&(h={});n<d;++n)if(t=arguments[n],t!=null)for(u in t)a=r(h,u),l=r(t,u),h!==l&&(w&&l&&(v(l)||(i=y(l)))?(i?(i=!1,o=a&&y(a)?a:[]):o=a&&v(a)?a:{},c(h,{name:u,newValue:e(w,o,l)})):typeof l<"u"&&c(h,{name:u,newValue:l}));return h}},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.BlockEmbed=f.bubbleFormats=void 0;var O=function(){function p(_,x){for(var q=0;q<x.length;q++){var I=x[q];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,x,q){return x&&p(_.prototype,x),q&&p(_,q),_}}(),g=function p(_,x,q){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,x);if(I===void 0){var F=Object.getPrototypeOf(_);return F===null?void 0:p(F,x,q)}else{if("value"in I)return I.value;var K=I.get;return K===void 0?void 0:K.call(q)}},b=s(3),y=h(b),v=s(2),c=h(v),r=s(0),e=h(r),t=s(16),u=h(t),a=s(6),l=h(a),i=s(7),o=h(i);function h(p){return p&&p.__esModule?p:{default:p}}function n(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function d(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function w(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var A=1,T=function(p){w(_,p);function _(){return n(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return O(_,[{key:"attach",value:function(){g(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"attach",this).call(this),this.attributes=new e.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,y.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(q,I){var F=e.default.query(q,e.default.Scope.BLOCK_ATTRIBUTE);F!=null&&this.attributes.attribute(F,I)}},{key:"formatAt",value:function(q,I,F,K){this.format(F,K)}},{key:"insertAt",value:function(q,I,F){if(typeof I=="string"&&I.endsWith(`
`)){var K=e.default.create(k.blotName);this.parent.insertBefore(K,q===0?this:this.next),K.insertAt(0,I.slice(0,-1))}else g(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,q,I,F)}}]),_}(e.default.Embed);T.scope=e.default.Scope.BLOCK_BLOT;var k=function(p){w(_,p);function _(x){n(this,_);var q=d(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,x));return q.cache={},q}return O(_,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(e.default.Leaf).reduce(function(q,I){return I.length()===0?q:q.insert(I.value(),m(I))},new c.default).insert(`
`,m(this))),this.cache.delta}},{key:"deleteAt",value:function(q,I){g(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"deleteAt",this).call(this,q,I),this.cache={}}},{key:"formatAt",value:function(q,I,F,K){I<=0||(e.default.query(F,e.default.Scope.BLOCK)?q+I===this.length()&&this.format(F,K):g(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,q,Math.min(I,this.length()-q-1),F,K),this.cache={})}},{key:"insertAt",value:function(q,I,F){if(F!=null)return g(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,q,I,F);if(I.length!==0){var K=I.split(`
`),Z=K.shift();Z.length>0&&(q<this.length()-1||this.children.tail==null?g(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,Math.min(q,this.length()-1),Z):this.children.tail.insertAt(this.children.tail.length(),Z),this.cache={});var D=this;K.reduce(function(C,N){return D=D.split(C,!0),D.insertAt(0,N),N.length},q+Z.length)}}},{key:"insertBefore",value:function(q,I){var F=this.children.head;g(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,q,I),F instanceof u.default&&F.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=g(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"length",this).call(this)+A),this.cache.length}},{key:"moveChildren",value:function(q,I){g(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"moveChildren",this).call(this,q,I),this.cache={}}},{key:"optimize",value:function(q){g(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,q),this.cache={}}},{key:"path",value:function(q){return g(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"path",this).call(this,q,!0)}},{key:"removeChild",value:function(q){g(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"removeChild",this).call(this,q),this.cache={}}},{key:"split",value:function(q){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I&&(q===0||q>=this.length()-A)){var F=this.clone();return q===0?(this.parent.insertBefore(F,this),this):(this.parent.insertBefore(F,this.next),F)}else{var K=g(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"split",this).call(this,q,I);return this.cache={},K}}}]),_}(e.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[l.default,e.default.Embed,o.default];function m(p){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return p==null||(typeof p.formats=="function"&&(_=(0,y.default)(_,p.formats())),p.parent==null||p.parent.blotName=="scroll"||p.parent.statics.scope!==p.statics.scope)?_:m(p.parent,_)}f.bubbleFormats=m,f.BlockEmbed=T,f.default=k},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.overload=f.expandConfig=void 0;var O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},g=function(){function D(C,N){var j=[],M=!0,H=!1,U=void 0;try{for(var P=C[Symbol.iterator](),L;!(M=(L=P.next()).done)&&(j.push(L.value),!(N&&j.length===N));M=!0);}catch(B){H=!0,U=B}finally{try{!M&&P.return&&P.return()}finally{if(H)throw U}}return j}return function(C,N){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return D(C,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(){function D(C,N){for(var j=0;j<N.length;j++){var M=N[j];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(C,M.key,M)}}return function(C,N,j){return N&&D(C.prototype,N),j&&D(C,j),C}}();s(50);var y=s(2),v=m(y),c=s(14),r=m(c),e=s(8),t=m(e),u=s(9),a=m(u),l=s(0),i=m(l),o=s(15),h=m(o),n=s(3),d=m(n),w=s(10),A=m(w),T=s(34),k=m(T);function m(D){return D&&D.__esModule?D:{default:D}}function p(D,C,N){return C in D?Object.defineProperty(D,C,{value:N,enumerable:!0,configurable:!0,writable:!0}):D[C]=N,D}function _(D,C){if(!(D instanceof C))throw new TypeError("Cannot call a class as a function")}var x=(0,A.default)("quill"),q=function(){b(D,null,[{key:"debug",value:function(N){N===!0&&(N="log"),A.default.level(N)}},{key:"find",value:function(N){return N.__quill||i.default.find(N)}},{key:"import",value:function(N){return this.imports[N]==null&&x.error("Cannot import "+N+". Are you sure it was registered?"),this.imports[N]}},{key:"register",value:function(N,j){var M=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof N!="string"){var U=N.attrName||N.blotName;typeof U=="string"?this.register("formats/"+U,N,j):Object.keys(N).forEach(function(P){M.register(P,N[P],j)})}else this.imports[N]!=null&&!H&&x.warn("Overwriting "+N+" with",j),this.imports[N]=j,(N.startsWith("blots/")||N.startsWith("formats/"))&&j.blotName!=="abstract"?i.default.register(j):N.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function D(C){var N=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_(this,D),this.options=I(C,j),this.container=this.options.container,this.container==null)return x.error("Invalid Quill container",C);this.options.debug&&D.debug(this.options.debug);var M=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new t.default,this.scroll=i.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new r.default(this.scroll),this.selection=new h.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(t.default.events.EDITOR_CHANGE,function(U){U===t.default.events.TEXT_CHANGE&&N.root.classList.toggle("ql-blank",N.editor.isBlank())}),this.emitter.on(t.default.events.SCROLL_UPDATE,function(U,P){var L=N.selection.lastRange,B=L&&L.length===0?L.index:void 0;F.call(N,function(){return N.editor.update(null,P,B)},U)});var H=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+M+"<p><br></p></div>");this.setContents(H),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return b(D,[{key:"addContainer",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof N=="string"){var M=N;N=document.createElement("div"),N.classList.add(M)}return this.container.insertBefore(N,j),N}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(N,j,M){var H=this,U=K(N,j,M),P=g(U,4);return N=P[0],j=P[1],M=P[3],F.call(this,function(){return H.editor.deleteText(N,j)},M,N,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(N),this.container.classList.toggle("ql-disabled",!N)}},{key:"focus",value:function(){var N=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=N,this.scrollIntoView()}},{key:"format",value:function(N,j){var M=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.default.sources.API;return F.call(this,function(){var U=M.getSelection(!0),P=new v.default;if(U==null)return P;if(i.default.query(N,i.default.Scope.BLOCK))P=M.editor.formatLine(U.index,U.length,p({},N,j));else{if(U.length===0)return M.selection.format(N,j),P;P=M.editor.formatText(U.index,U.length,p({},N,j))}return M.setSelection(U,t.default.sources.SILENT),P},H)}},{key:"formatLine",value:function(N,j,M,H,U){var P=this,L=void 0,B=K(N,j,M,H,U),G=g(B,4);return N=G[0],j=G[1],L=G[2],U=G[3],F.call(this,function(){return P.editor.formatLine(N,j,L)},U,N,0)}},{key:"formatText",value:function(N,j,M,H,U){var P=this,L=void 0,B=K(N,j,M,H,U),G=g(B,4);return N=G[0],j=G[1],L=G[2],U=G[3],F.call(this,function(){return P.editor.formatText(N,j,L)},U,N,0)}},{key:"getBounds",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=void 0;typeof N=="number"?M=this.selection.getBounds(N,j):M=this.selection.getBounds(N.index,N.length);var H=this.container.getBoundingClientRect();return{bottom:M.bottom-H.top,height:M.height,left:M.left-H.left,right:M.right-H.left,top:M.top-H.top,width:M.width}}},{key:"getContents",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,M=K(N,j),H=g(M,2);return N=H[0],j=H[1],this.editor.getContents(N,j)}},{key:"getFormat",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof N=="number"?this.editor.getFormat(N,j):this.editor.getFormat(N.index,N.length)}},{key:"getIndex",value:function(N){return N.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(N){return this.scroll.leaf(N)}},{key:"getLine",value:function(N){return this.scroll.line(N)}},{key:"getLines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof N!="number"?this.scroll.lines(N.index,N.length):this.scroll.lines(N,j)}},{key:"getModule",value:function(N){return this.theme.modules[N]}},{key:"getSelection",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return N&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,M=K(N,j),H=g(M,2);return N=H[0],j=H[1],this.editor.getText(N,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(N,j,M){var H=this,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D.sources.API;return F.call(this,function(){return H.editor.insertEmbed(N,j,M)},U,N)}},{key:"insertText",value:function(N,j,M,H,U){var P=this,L=void 0,B=K(N,0,M,H,U),G=g(B,4);return N=G[0],L=G[2],U=G[3],F.call(this,function(){return P.editor.insertText(N,j,L)},U,N,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(N,j,M){this.clipboard.dangerouslyPasteHTML(N,j,M)}},{key:"removeFormat",value:function(N,j,M){var H=this,U=K(N,j,M),P=g(U,4);return N=P[0],j=P[1],M=P[3],F.call(this,function(){return H.editor.removeFormat(N,j)},M,N)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(N){var j=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return F.call(this,function(){N=new v.default(N);var H=j.getLength(),U=j.editor.deleteText(0,H),P=j.editor.applyDelta(N),L=P.ops[P.ops.length-1];L!=null&&typeof L.insert=="string"&&L.insert[L.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),P.delete(1));var B=U.compose(P);return B},M)}},{key:"setSelection",value:function(N,j,M){if(N==null)this.selection.setRange(null,j||D.sources.API);else{var H=K(N,j,M),U=g(H,4);N=U[0],j=U[1],M=U[3],this.selection.setRange(new o.Range(N,j),M),M!==t.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API,M=new v.default().insert(N);return this.setContents(M,j)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.default.sources.USER,j=this.scroll.update(N);return this.selection.update(N),j}},{key:"updateContents",value:function(N){var j=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return F.call(this,function(){return N=new v.default(N),j.editor.applyDelta(N,M)},M,!0)}}]),D}();q.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},q.events=t.default.events,q.sources=t.default.sources,q.version="1.3.7",q.imports={delta:v.default,parchment:i.default,"core/module":a.default,"core/theme":k.default};function I(D,C){if(C=(0,d.default)(!0,{container:D,modules:{clipboard:!0,keyboard:!0,history:!0}},C),!C.theme||C.theme===q.DEFAULTS.theme)C.theme=k.default;else if(C.theme=q.import("themes/"+C.theme),C.theme==null)throw new Error("Invalid theme "+C.theme+". Did you register it?");var N=(0,d.default)(!0,{},C.theme.DEFAULTS);[N,C].forEach(function(H){H.modules=H.modules||{},Object.keys(H.modules).forEach(function(U){H.modules[U]===!0&&(H.modules[U]={})})});var j=Object.keys(N.modules).concat(Object.keys(C.modules)),M=j.reduce(function(H,U){var P=q.import("modules/"+U);return P==null?x.error("Cannot load "+U+" module. Are you sure you registered it?"):H[U]=P.DEFAULTS||{},H},{});return C.modules!=null&&C.modules.toolbar&&C.modules.toolbar.constructor!==Object&&(C.modules.toolbar={container:C.modules.toolbar}),C=(0,d.default)(!0,{},q.DEFAULTS,{modules:M},N,C),["bounds","container","scrollingContainer"].forEach(function(H){typeof C[H]=="string"&&(C[H]=document.querySelector(C[H]))}),C.modules=Object.keys(C.modules).reduce(function(H,U){return C.modules[U]&&(H[U]=C.modules[U]),H},{}),C}function F(D,C,N,j){if(this.options.strict&&!this.isEnabled()&&C===t.default.sources.USER)return new v.default;var M=N==null?null:this.getSelection(),H=this.editor.delta,U=D();if(M!=null&&(N===!0&&(N=M.index),j==null?M=Z(M,U,C):j!==0&&(M=Z(M,N,j,C)),this.setSelection(M,t.default.sources.SILENT)),U.length()>0){var P,L=[t.default.events.TEXT_CHANGE,U,H,C];if((P=this.emitter).emit.apply(P,[t.default.events.EDITOR_CHANGE].concat(L)),C!==t.default.sources.SILENT){var B;(B=this.emitter).emit.apply(B,L)}}return U}function K(D,C,N,j,M){var H={};return typeof D.index=="number"&&typeof D.length=="number"?typeof C!="number"?(M=j,j=N,N=C,C=D.length,D=D.index):(C=D.length,D=D.index):typeof C!="number"&&(M=j,j=N,N=C,C=0),(typeof N>"u"?"undefined":O(N))==="object"?(H=N,M=j):typeof N=="string"&&(j!=null?H[N]=j:M=N),M=M||t.default.sources.API,[D,C,H,M]}function Z(D,C,N,j){if(D==null)return null;var M=void 0,H=void 0;if(C instanceof v.default){var U=[D.index,D.index+D.length].map(function(G){return C.transformPosition(G,j!==t.default.sources.USER)}),P=g(U,2);M=P[0],H=P[1]}else{var L=[D.index,D.index+D.length].map(function(G){return G<C||G===C&&j===t.default.sources.USER?G:N>=0?G+N:Math.max(C,G+N)}),B=g(L,2);M=B[0],H=B[1]}return new o.Range(M,H-M)}f.expandConfig=I,f.overload=K,f.default=q},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function l(i,o){for(var h=0;h<o.length;h++){var n=o[h];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,o,h){return o&&l(i.prototype,o),h&&l(i,h),i}}(),g=function l(i,o,h){i===null&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,o);if(n===void 0){var d=Object.getPrototypeOf(i);return d===null?void 0:l(d,o,h)}else{if("value"in n)return n.value;var w=n.get;return w===void 0?void 0:w.call(h)}},b=s(7),y=r(b),v=s(0),c=r(v);function r(l){return l&&l.__esModule?l:{default:l}}function e(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}function t(l,i){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:l}function u(l,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);l.prototype=Object.create(i&&i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(l,i):l.__proto__=i)}var a=function(l){u(i,l);function i(){return e(this,i),t(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return O(i,[{key:"formatAt",value:function(h,n,d,w){if(i.compare(this.statics.blotName,d)<0&&c.default.query(d,c.default.Scope.BLOT)){var A=this.isolate(h,n);w&&A.wrap(d,w)}else g(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"formatAt",this).call(this,h,n,d,w)}},{key:"optimize",value:function(h){if(g(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"optimize",this).call(this,h),this.parent instanceof i&&i.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(h,n){var d=i.order.indexOf(h),w=i.order.indexOf(n);return d>=0||w>=0?d-w:h===n?0:h<n?-1:1}}]),i}(c.default.Inline);a.allowedChildren=[a,c.default.Embed,y.default],a.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],f.default=a},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=s(0),g=b(O);function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(e){c(t,e);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(g.default.Text);f.default=r},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function o(h,n){for(var d=0;d<n.length;d++){var w=n[d];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,n,d){return n&&o(h.prototype,n),d&&o(h,d),h}}(),g=function o(h,n,d){h===null&&(h=Function.prototype);var w=Object.getOwnPropertyDescriptor(h,n);if(w===void 0){var A=Object.getPrototypeOf(h);return A===null?void 0:o(A,n,d)}else{if("value"in w)return w.value;var T=w.get;return T===void 0?void 0:T.call(d)}},b=s(54),y=r(b),v=s(10),c=r(v);function r(o){return o&&o.__esModule?o:{default:o}}function e(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function t(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function u(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var a=(0,c.default)("quill:events"),l=["selectionchange","mousedown","mouseup","click"];l.forEach(function(o){document.addEventListener(o,function(){for(var h=arguments.length,n=Array(h),d=0;d<h;d++)n[d]=arguments[d];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(w){if(w.__quill&&w.__quill.emitter){var A;(A=w.__quill.emitter).handleDOM.apply(A,n)}})})});var i=function(o){u(h,o);function h(){e(this,h);var n=t(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return n.listeners={},n.on("error",a.error),n}return O(h,[{key:"emit",value:function(){a.log.apply(a,arguments),g(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(d){for(var w=arguments.length,A=Array(w>1?w-1:0),T=1;T<w;T++)A[T-1]=arguments[T];(this.listeners[d.type]||[]).forEach(function(k){var m=k.node,p=k.handler;(d.target===m||m.contains(d.target))&&p.apply(void 0,[d].concat(A))})}},{key:"listenDOM",value:function(d,w,A){this.listeners[d]||(this.listeners[d]=[]),this.listeners[d].push({node:w,handler:A})}}]),h}(y.default);i.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},i.sources={API:"api",SILENT:"silent",USER:"user"},f.default=i},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});function O(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}var g=function b(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};O(this,b),this.quill=y,this.options=v};g.DEFAULTS={},f.default=g},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=["error","warn","log","info"],g="warn";function b(v){if(O.indexOf(v)<=O.indexOf(g)){for(var c,r=arguments.length,e=Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];(c=console)[v].apply(c,e)}}function y(v){return O.reduce(function(c,r){return c[r]=b.bind(console,r,v),c},{})}b.level=y.level=function(v){g=v},f.default=y},function(E,f,s){var O=Array.prototype.slice,g=s(52),b=s(53),y=E.exports=function(e,t,u){return u||(u={}),e===t?!0:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||typeof e!="object"&&typeof t!="object"?u.strict?e===t:e==t:r(e,t,u)};function v(e){return e==null}function c(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function r(e,t,u){var a,l;if(v(e)||v(t)||e.prototype!==t.prototype)return!1;if(b(e))return b(t)?(e=O.call(e),t=O.call(t),y(e,t,u)):!1;if(c(e)){if(!c(t)||e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}try{var i=g(e),o=g(t)}catch{return!1}if(i.length!=o.length)return!1;for(i.sort(),o.sort(),a=i.length-1;a>=0;a--)if(i[a]!=o[a])return!1;for(a=i.length-1;a>=0;a--)if(l=i[a],!y(e[l],t[l],u))return!1;return typeof e==typeof t}},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=s(1),g=function(){function b(y,v,c){c===void 0&&(c={}),this.attrName=y,this.keyName=v;var r=O.Scope.TYPE&O.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&O.Scope.LEVEL|r:this.scope=O.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return b.keys=function(y){return[].map.call(y.attributes,function(v){return v.name})},b.prototype.add=function(y,v){return this.canAdd(y,v)?(y.setAttribute(this.keyName,v),!0):!1},b.prototype.canAdd=function(y,v){var c=O.query(y,O.Scope.BLOT&(this.scope|O.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof v=="string"?this.whitelist.indexOf(v.replace(/["']/g,""))>-1:this.whitelist.indexOf(v)>-1},b.prototype.remove=function(y){y.removeAttribute(this.keyName)},b.prototype.value=function(y){var v=y.getAttribute(this.keyName);return this.canAdd(y,v)&&v?v:""},b}();f.default=g},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.Code=void 0;var O=function(){function T(k,m){var p=[],_=!0,x=!1,q=void 0;try{for(var I=k[Symbol.iterator](),F;!(_=(F=I.next()).done)&&(p.push(F.value),!(m&&p.length===m));_=!0);}catch(K){x=!0,q=K}finally{try{!_&&I.return&&I.return()}finally{if(x)throw q}}return p}return function(k,m){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return T(k,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function T(k,m){for(var p=0;p<m.length;p++){var _=m[p];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(k,_.key,_)}}return function(k,m,p){return m&&T(k.prototype,m),p&&T(k,p),k}}(),b=function T(k,m,p){k===null&&(k=Function.prototype);var _=Object.getOwnPropertyDescriptor(k,m);if(_===void 0){var x=Object.getPrototypeOf(k);return x===null?void 0:T(x,m,p)}else{if("value"in _)return _.value;var q=_.get;return q===void 0?void 0:q.call(p)}},y=s(2),v=o(y),c=s(0),r=o(c),e=s(4),t=o(e),u=s(6),a=o(u),l=s(7),i=o(l);function o(T){return T&&T.__esModule?T:{default:T}}function h(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}function n(T,k){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:T}function d(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}var w=function(T){d(k,T);function k(){return h(this,k),n(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(a.default);w.blotName="code",w.tagName="CODE";var A=function(T){d(k,T);function k(){return h(this,k),n(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return g(k,[{key:"delta",value:function(){var p=this,_=this.domNode.textContent;return _.endsWith(`
`)&&(_=_.slice(0,-1)),_.split(`
`).reduce(function(x,q){return x.insert(q).insert(`
`,p.formats())},new v.default)}},{key:"format",value:function(p,_){if(!(p===this.statics.blotName&&_)){var x=this.descendant(i.default,this.length()-1),q=O(x,1),I=q[0];I!=null&&I.deleteAt(I.length()-1,1),b(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,p,_)}}},{key:"formatAt",value:function(p,_,x,q){if(_!==0&&!(r.default.query(x,r.default.Scope.BLOCK)==null||x===this.statics.blotName&&q===this.statics.formats(this.domNode))){var I=this.newlineIndex(p);if(!(I<0||I>=p+_)){var F=this.newlineIndex(p,!0)+1,K=I-F+1,Z=this.isolate(F,K),D=Z.next;Z.format(x,q),D instanceof k&&D.formatAt(0,p-F+_-K,x,q)}}}},{key:"insertAt",value:function(p,_,x){if(x==null){var q=this.descendant(i.default,p),I=O(q,2),F=I[0],K=I[1];F.insertAt(K,_)}}},{key:"length",value:function(){var p=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?p:p+1}},{key:"newlineIndex",value:function(p){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(_)return this.domNode.textContent.slice(0,p).lastIndexOf(`
`);var x=this.domNode.textContent.slice(p).indexOf(`
`);return x>-1?p+x:-1}},{key:"optimize",value:function(p){this.domNode.textContent.endsWith(`
`)||this.appendChild(r.default.create("text",`
`)),b(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,p);var _=this.next;_!=null&&_.prev===this&&_.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===_.statics.formats(_.domNode)&&(_.optimize(p),_.moveChildren(this),_.remove())}},{key:"replace",value:function(p){b(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,p),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(_){var x=r.default.find(_);x==null?_.parentNode.removeChild(_):x instanceof r.default.Embed?x.remove():x.unwrap()})}}],[{key:"create",value:function(p){var _=b(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,p);return _.setAttribute("spellcheck",!1),_}},{key:"formats",value:function(){return!0}}]),k}(t.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",f.Code=w,f.default=A},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},g=function(){function D(C,N){var j=[],M=!0,H=!1,U=void 0;try{for(var P=C[Symbol.iterator](),L;!(M=(L=P.next()).done)&&(j.push(L.value),!(N&&j.length===N));M=!0);}catch(B){H=!0,U=B}finally{try{!M&&P.return&&P.return()}finally{if(H)throw U}}return j}return function(C,N){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return D(C,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(){function D(C,N){for(var j=0;j<N.length;j++){var M=N[j];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(C,M.key,M)}}return function(C,N,j){return N&&D(C.prototype,N),j&&D(C,j),C}}(),y=s(2),v=_(y),c=s(20),r=_(c),e=s(0),t=_(e),u=s(13),a=_(u),l=s(24),i=_(l),o=s(4),h=_(o),n=s(16),d=_(n),w=s(21),A=_(w),T=s(11),k=_(T),m=s(3),p=_(m);function _(D){return D&&D.__esModule?D:{default:D}}function x(D,C,N){return C in D?Object.defineProperty(D,C,{value:N,enumerable:!0,configurable:!0,writable:!0}):D[C]=N,D}function q(D,C){if(!(D instanceof C))throw new TypeError("Cannot call a class as a function")}var I=/^[ -~]*$/,F=function(){function D(C){q(this,D),this.scroll=C,this.delta=this.getDelta()}return b(D,[{key:"applyDelta",value:function(N){var j=this,M=!1;this.scroll.update();var H=this.scroll.length();return this.scroll.batchStart(),N=Z(N),N.reduce(function(U,P){var L=P.retain||P.delete||P.insert.length||1,B=P.attributes||{};if(P.insert!=null){if(typeof P.insert=="string"){var G=P.insert;G.endsWith(`
`)&&M&&(M=!1,G=G.slice(0,-1)),U>=H&&!G.endsWith(`
`)&&(M=!0),j.scroll.insertAt(U,G);var z=j.scroll.line(U),J=g(z,2),re=J[0],ne=J[1],le=(0,p.default)({},(0,o.bubbleFormats)(re));if(re instanceof h.default){var ue=re.descendant(t.default.Leaf,ne),he=g(ue,1),fe=he[0];le=(0,p.default)(le,(0,o.bubbleFormats)(fe))}B=r.default.attributes.diff(le,B)||{}}else if(O(P.insert)==="object"){var V=Object.keys(P.insert)[0];if(V==null)return U;j.scroll.insertAt(U,V,P.insert[V])}H+=L}return Object.keys(B).forEach(function(W){j.scroll.formatAt(U,L,W,B[W])}),U+L},0),N.reduce(function(U,P){return typeof P.delete=="number"?(j.scroll.deleteAt(U,P.delete),U):U+(P.retain||P.insert.length||1)},0),this.scroll.batchEnd(),this.update(N)}},{key:"deleteText",value:function(N,j){return this.scroll.deleteAt(N,j),this.update(new v.default().retain(N).delete(j))}},{key:"formatLine",value:function(N,j){var M=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(H).forEach(function(U){if(!(M.scroll.whitelist!=null&&!M.scroll.whitelist[U])){var P=M.scroll.lines(N,Math.max(j,1)),L=j;P.forEach(function(B){var G=B.length();if(!(B instanceof a.default))B.format(U,H[U]);else{var z=N-B.offset(M.scroll),J=B.newlineIndex(z+L)-z+1;B.formatAt(z,J,U,H[U])}L-=G})}}),this.scroll.optimize(),this.update(new v.default().retain(N).retain(j,(0,A.default)(H)))}},{key:"formatText",value:function(N,j){var M=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(H).forEach(function(U){M.scroll.formatAt(N,j,U,H[U])}),this.update(new v.default().retain(N).retain(j,(0,A.default)(H)))}},{key:"getContents",value:function(N,j){return this.delta.slice(N,N+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(N,j){return N.concat(j.delta())},new v.default)}},{key:"getFormat",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=[],H=[];j===0?this.scroll.path(N).forEach(function(P){var L=g(P,1),B=L[0];B instanceof h.default?M.push(B):B instanceof t.default.Leaf&&H.push(B)}):(M=this.scroll.lines(N,j),H=this.scroll.descendants(t.default.Leaf,N,j));var U=[M,H].map(function(P){if(P.length===0)return{};for(var L=(0,o.bubbleFormats)(P.shift());Object.keys(L).length>0;){var B=P.shift();if(B==null)return L;L=K((0,o.bubbleFormats)(B),L)}return L});return p.default.apply(p.default,U)}},{key:"getText",value:function(N,j){return this.getContents(N,j).filter(function(M){return typeof M.insert=="string"}).map(function(M){return M.insert}).join("")}},{key:"insertEmbed",value:function(N,j,M){return this.scroll.insertAt(N,j,M),this.update(new v.default().retain(N).insert(x({},j,M)))}},{key:"insertText",value:function(N,j){var M=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(N,j),Object.keys(H).forEach(function(U){M.scroll.formatAt(N,j.length,U,H[U])}),this.update(new v.default().retain(N).insert(j,(0,A.default)(H)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var N=this.scroll.children.head;return N.statics.blotName!==h.default.blotName||N.children.length>1?!1:N.children.head instanceof d.default}},{key:"removeFormat",value:function(N,j){var M=this.getText(N,j),H=this.scroll.line(N+j),U=g(H,2),P=U[0],L=U[1],B=0,G=new v.default;P!=null&&(P instanceof a.default?B=P.newlineIndex(L)-L+1:B=P.length()-L,G=P.delta().slice(L,L+B-1).insert(`
`));var z=this.getContents(N,j+B),J=z.diff(new v.default().insert(M).concat(G)),re=new v.default().retain(N).concat(J);return this.applyDelta(re)}},{key:"update",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,H=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(I)&&t.default.find(j[0].target)){var U=t.default.find(j[0].target),P=(0,o.bubbleFormats)(U),L=U.offset(this.scroll),B=j[0].oldValue.replace(i.default.CONTENTS,""),G=new v.default().insert(B),z=new v.default().insert(U.value()),J=new v.default().retain(L).concat(G.diff(z,M));N=J.reduce(function(re,ne){return ne.insert?re.insert(ne.insert,P):re.push(ne)},new v.default),this.delta=H.compose(N)}else this.delta=this.getDelta(),(!N||!(0,k.default)(H.compose(N),this.delta))&&(N=H.diff(this.delta,M));return N}}]),D}();function K(D,C){return Object.keys(C).reduce(function(N,j){return D[j]==null||(C[j]===D[j]?N[j]=C[j]:Array.isArray(C[j])?C[j].indexOf(D[j])<0&&(N[j]=C[j].concat([D[j]])):N[j]=[C[j],D[j]]),N},{})}function Z(D){return D.reduce(function(C,N){if(N.insert===1){var j=(0,A.default)(N.attributes);return delete j.image,C.insert({image:N.attributes.image},j)}if(N.attributes!=null&&(N.attributes.list===!0||N.attributes.bullet===!0)&&(N=(0,A.default)(N),N.attributes.list?N.attributes.list="ordered":(N.attributes.list="bullet",delete N.attributes.bullet)),typeof N.insert=="string"){var M=N.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return C.insert(M,N.attributes)}return C.push(N)},new v.default)}f.default=F},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.Range=void 0;var O=function(){function T(k,m){var p=[],_=!0,x=!1,q=void 0;try{for(var I=k[Symbol.iterator](),F;!(_=(F=I.next()).done)&&(p.push(F.value),!(m&&p.length===m));_=!0);}catch(K){x=!0,q=K}finally{try{!_&&I.return&&I.return()}finally{if(x)throw q}}return p}return function(k,m){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return T(k,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function T(k,m){for(var p=0;p<m.length;p++){var _=m[p];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(k,_.key,_)}}return function(k,m,p){return m&&T(k.prototype,m),p&&T(k,p),k}}(),b=s(0),y=i(b),v=s(21),c=i(v),r=s(11),e=i(r),t=s(8),u=i(t),a=s(10),l=i(a);function i(T){return T&&T.__esModule?T:{default:T}}function o(T){if(Array.isArray(T)){for(var k=0,m=Array(T.length);k<T.length;k++)m[k]=T[k];return m}else return Array.from(T)}function h(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}var n=(0,l.default)("quill:selection"),d=function T(k){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;h(this,T),this.index=k,this.length=m},w=function(){function T(k,m){var p=this;h(this,T),this.emitter=m,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=y.default.create("cursor",this),this.lastRange=this.savedRange=new d(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){p.mouseDown||setTimeout(p.update.bind(p,u.default.sources.USER),1)}),this.emitter.on(u.default.events.EDITOR_CHANGE,function(_,x){_===u.default.events.TEXT_CHANGE&&x.length()>0&&p.update(u.default.sources.SILENT)}),this.emitter.on(u.default.events.SCROLL_BEFORE_UPDATE,function(){if(p.hasFocus()){var _=p.getNativeRange();_!=null&&_.start.node!==p.cursor.textNode&&p.emitter.once(u.default.events.SCROLL_UPDATE,function(){try{p.setNativeRange(_.start.node,_.start.offset,_.end.node,_.end.offset)}catch{}})}}),this.emitter.on(u.default.events.SCROLL_OPTIMIZE,function(_,x){if(x.range){var q=x.range,I=q.startNode,F=q.startOffset,K=q.endNode,Z=q.endOffset;p.setNativeRange(I,F,K,Z)}}),this.update(u.default.sources.SILENT)}return g(T,[{key:"handleComposition",value:function(){var m=this;this.root.addEventListener("compositionstart",function(){m.composing=!0}),this.root.addEventListener("compositionend",function(){if(m.composing=!1,m.cursor.parent){var p=m.cursor.restore();if(!p)return;setTimeout(function(){m.setNativeRange(p.startNode,p.startOffset,p.endNode,p.endOffset)},1)}})}},{key:"handleDragging",value:function(){var m=this;this.emitter.listenDOM("mousedown",document.body,function(){m.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){m.mouseDown=!1,m.update(u.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(m,p){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[m])){this.scroll.update();var _=this.getNativeRange();if(!(_==null||!_.native.collapsed||y.default.query(m,y.default.Scope.BLOCK))){if(_.start.node!==this.cursor.textNode){var x=y.default.find(_.start.node,!1);if(x==null)return;if(x instanceof y.default.Leaf){var q=x.split(_.start.offset);x.parent.insertBefore(this.cursor,q)}else x.insertBefore(this.cursor,_.start.node);this.cursor.attach()}this.cursor.format(m,p),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(m){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=this.scroll.length();m=Math.min(m,_-1),p=Math.min(m+p,_-1)-m;var x=void 0,q=this.scroll.leaf(m),I=O(q,2),F=I[0],K=I[1];if(F==null)return null;var Z=F.position(K,!0),D=O(Z,2);x=D[0],K=D[1];var C=document.createRange();if(p>0){C.setStart(x,K);var N=this.scroll.leaf(m+p),j=O(N,2);if(F=j[0],K=j[1],F==null)return null;var M=F.position(K,!0),H=O(M,2);return x=H[0],K=H[1],C.setEnd(x,K),C.getBoundingClientRect()}else{var U="left",P=void 0;return x instanceof Text?(K<x.data.length?(C.setStart(x,K),C.setEnd(x,K+1)):(C.setStart(x,K-1),C.setEnd(x,K),U="right"),P=C.getBoundingClientRect()):(P=F.domNode.getBoundingClientRect(),K>0&&(U="right")),{bottom:P.top+P.height,height:P.height,left:P[U],right:P[U],top:P.top,width:0}}}},{key:"getNativeRange",value:function(){var m=document.getSelection();if(m==null||m.rangeCount<=0)return null;var p=m.getRangeAt(0);if(p==null)return null;var _=this.normalizeNative(p);return n.info("getNativeRange",_),_}},{key:"getRange",value:function(){var m=this.getNativeRange();if(m==null)return[null,null];var p=this.normalizedToRange(m);return[p,m]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(m){var p=this,_=[[m.start.node,m.start.offset]];m.native.collapsed||_.push([m.end.node,m.end.offset]);var x=_.map(function(F){var K=O(F,2),Z=K[0],D=K[1],C=y.default.find(Z,!0),N=C.offset(p.scroll);return D===0?N:C instanceof y.default.Container?N+C.length():N+C.index(Z,D)}),q=Math.min(Math.max.apply(Math,o(x)),this.scroll.length()-1),I=Math.min.apply(Math,[q].concat(o(x)));return new d(I,q-I)}},{key:"normalizeNative",value:function(m){if(!A(this.root,m.startContainer)||!m.collapsed&&!A(this.root,m.endContainer))return null;var p={start:{node:m.startContainer,offset:m.startOffset},end:{node:m.endContainer,offset:m.endOffset},native:m};return[p.start,p.end].forEach(function(_){for(var x=_.node,q=_.offset;!(x instanceof Text)&&x.childNodes.length>0;)if(x.childNodes.length>q)x=x.childNodes[q],q=0;else if(x.childNodes.length===q)x=x.lastChild,q=x instanceof Text?x.data.length:x.childNodes.length+1;else break;_.node=x,_.offset=q}),p}},{key:"rangeToNative",value:function(m){var p=this,_=m.collapsed?[m.index]:[m.index,m.index+m.length],x=[],q=this.scroll.length();return _.forEach(function(I,F){I=Math.min(q-1,I);var K=void 0,Z=p.scroll.leaf(I),D=O(Z,2),C=D[0],N=D[1],j=C.position(N,F!==0),M=O(j,2);K=M[0],N=M[1],x.push(K,N)}),x.length<2&&(x=x.concat(x)),x}},{key:"scrollIntoView",value:function(m){var p=this.lastRange;if(p!=null){var _=this.getBounds(p.index,p.length);if(_!=null){var x=this.scroll.length()-1,q=this.scroll.line(Math.min(p.index,x)),I=O(q,1),F=I[0],K=F;if(p.length>0){var Z=this.scroll.line(Math.min(p.index+p.length,x)),D=O(Z,1);K=D[0]}if(!(F==null||K==null)){var C=m.getBoundingClientRect();_.top<C.top?m.scrollTop-=C.top-_.top:_.bottom>C.bottom&&(m.scrollTop+=_.bottom-C.bottom)}}}}},{key:"setNativeRange",value:function(m,p){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p,q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(n.info("setNativeRange",m,p,_,x),!(m!=null&&(this.root.parentNode==null||m.parentNode==null||_.parentNode==null))){var I=document.getSelection();if(I!=null)if(m!=null){this.hasFocus()||this.root.focus();var F=(this.getNativeRange()||{}).native;if(F==null||q||m!==F.startContainer||p!==F.startOffset||_!==F.endContainer||x!==F.endOffset){m.tagName=="BR"&&(p=[].indexOf.call(m.parentNode.childNodes,m),m=m.parentNode),_.tagName=="BR"&&(x=[].indexOf.call(_.parentNode.childNodes,_),_=_.parentNode);var K=document.createRange();K.setStart(m,p),K.setEnd(_,x),I.removeAllRanges(),I.addRange(K)}}else I.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(m){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.default.sources.API;if(typeof p=="string"&&(_=p,p=!1),n.info("setRange",m),m!=null){var x=this.rangeToNative(m);this.setNativeRange.apply(this,o(x).concat([p]))}else this.setNativeRange(null);this.update(_)}},{key:"update",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.default.sources.USER,p=this.lastRange,_=this.getRange(),x=O(_,2),q=x[0],I=x[1];if(this.lastRange=q,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,e.default)(p,this.lastRange)){var F;!this.composing&&I!=null&&I.native.collapsed&&I.start.node!==this.cursor.textNode&&this.cursor.restore();var K=[u.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(p),m];if((F=this.emitter).emit.apply(F,[u.default.events.EDITOR_CHANGE].concat(K)),m!==u.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,K)}}}}]),T}();function A(T,k){try{k.parentNode}catch{return!1}return k instanceof Text&&(k=k.parentNode),T.contains(k)}f.Range=d,f.default=w},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function u(a,l){for(var i=0;i<l.length;i++){var o=l[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,i){return l&&u(a.prototype,l),i&&u(a,i),a}}(),g=function u(a,l,i){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var h=Object.getPrototypeOf(a);return h===null?void 0:u(h,l,i)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(i)}},b=s(0),y=v(b);function v(u){return u&&u.__esModule?u:{default:u}}function c(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function r(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:u}function e(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}var t=function(u){e(a,u);function a(){return c(this,a),r(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return O(a,[{key:"insertInto",value:function(i,o){i.children.length===0?g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"insertInto",this).call(this,i,o):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),a}(y.default.Embed);t.blotName="break",t.tagName="BR",f.default=t},function(E,f,s){var O=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var u in t)t.hasOwnProperty(u)&&(e[u]=t[u])};return function(e,t){r(e,t);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)}}();Object.defineProperty(f,"__esModule",{value:!0});var g=s(44),b=s(30),y=s(1),v=function(r){O(e,r);function e(t){var u=r.call(this,t)||this;return u.build(),u}return e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){r.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.build=function(){var t=this;this.children=new g.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(u){try{var a=c(u);t.insertBefore(a,t.children.head||void 0)}catch(l){if(l instanceof y.ParchmentError)return;throw l}})},e.prototype.deleteAt=function(t,u){if(t===0&&u===this.length())return this.remove();this.children.forEachAt(t,u,function(a,l,i){a.deleteAt(l,i)})},e.prototype.descendant=function(t,u){var a=this.children.find(u),l=a[0],i=a[1];return t.blotName==null&&t(l)||t.blotName!=null&&l instanceof t?[l,i]:l instanceof e?l.descendant(t,i):[null,-1]},e.prototype.descendants=function(t,u,a){u===void 0&&(u=0),a===void 0&&(a=Number.MAX_VALUE);var l=[],i=a;return this.children.forEachAt(u,a,function(o,h,n){(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&l.push(o),o instanceof e&&(l=l.concat(o.descendants(t,h,i))),i-=n}),l},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),r.prototype.detach.call(this)},e.prototype.formatAt=function(t,u,a,l){this.children.forEachAt(t,u,function(i,o,h){i.formatAt(o,h,a,l)})},e.prototype.insertAt=function(t,u,a){var l=this.children.find(t),i=l[0],o=l[1];if(i)i.insertAt(o,u,a);else{var h=a==null?y.create("text",u):y.create(u,a);this.appendChild(h)}},e.prototype.insertBefore=function(t,u){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(a){return t instanceof a}))throw new y.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,u)},e.prototype.length=function(){return this.children.reduce(function(t,u){return t+u.length()},0)},e.prototype.moveChildren=function(t,u){this.children.forEach(function(a){t.insertBefore(a,u)})},e.prototype.optimize=function(t){if(r.prototype.optimize.call(this,t),this.children.length===0)if(this.statics.defaultChild!=null){var u=y.create(this.statics.defaultChild);this.appendChild(u),u.optimize(t)}else this.remove()},e.prototype.path=function(t,u){u===void 0&&(u=!1);var a=this.children.find(t,u),l=a[0],i=a[1],o=[[this,t]];return l instanceof e?o.concat(l.path(i,u)):(l!=null&&o.push([l,i]),o)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(t){t instanceof e&&t.moveChildren(this),r.prototype.replace.call(this,t)},e.prototype.split=function(t,u){if(u===void 0&&(u=!1),!u){if(t===0)return this;if(t===this.length())return this.next}var a=this.clone();return this.parent.insertBefore(a,this.next),this.children.forEachAt(t,this.length(),function(l,i,o){l=l.split(i,u),a.appendChild(l)}),a},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,u){var a=this,l=[],i=[];t.forEach(function(o){o.target===a.domNode&&o.type==="childList"&&(l.push.apply(l,o.addedNodes),i.push.apply(i,o.removedNodes))}),i.forEach(function(o){if(!(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var h=y.find(o);h!=null&&(h.domNode.parentNode==null||h.domNode.parentNode===a.domNode)&&h.detach()}}),l.filter(function(o){return o.parentNode==a.domNode}).sort(function(o,h){return o===h?0:o.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(o){var h=null;o.nextSibling!=null&&(h=y.find(o.nextSibling));var n=c(o);(n.next!=h||n.next==null)&&(n.parent!=null&&n.parent.removeChild(a),a.insertBefore(n,h||void 0))})},e}(b.default);function c(r){var e=y.find(r);if(e==null)try{e=y.create(r)}catch{e=y.create(y.Scope.INLINE),[].slice.call(r.childNodes).forEach(function(u){e.domNode.appendChild(u)}),r.parentNode&&r.parentNode.replaceChild(e.domNode,r),e.attach()}return e}f.default=v},function(E,f,s){var O=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var u in t)t.hasOwnProperty(u)&&(e[u]=t[u])};return function(e,t){r(e,t);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)}}();Object.defineProperty(f,"__esModule",{value:!0});var g=s(12),b=s(31),y=s(17),v=s(1),c=function(r){O(e,r);function e(t){var u=r.call(this,t)||this;return u.attributes=new b.default(u.domNode),u}return e.formats=function(t){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()},e.prototype.format=function(t,u){var a=v.query(t);a instanceof g.default?this.attributes.attribute(a,u):u&&a!=null&&(t!==this.statics.blotName||this.formats()[t]!==u)&&this.replaceWith(t,u)},e.prototype.formats=function(){var t=this.attributes.values(),u=this.statics.formats(this.domNode);return u!=null&&(t[this.statics.blotName]=u),t},e.prototype.replaceWith=function(t,u){var a=r.prototype.replaceWith.call(this,t,u);return this.attributes.copy(a),a},e.prototype.update=function(t,u){var a=this;r.prototype.update.call(this,t,u),t.some(function(l){return l.target===a.domNode&&l.type==="attributes"})&&this.attributes.build()},e.prototype.wrap=function(t,u){var a=r.prototype.wrap.call(this,t,u);return a instanceof e&&a.statics.scope===this.statics.scope&&this.attributes.move(a),a},e}(y.default);f.default=c},function(E,f,s){var O=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,r){c.__proto__=r}||function(c,r){for(var e in r)r.hasOwnProperty(e)&&(c[e]=r[e])};return function(c,r){v(c,r);function e(){this.constructor=c}c.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}();Object.defineProperty(f,"__esModule",{value:!0});var g=s(30),b=s(1),y=function(v){O(c,v);function c(){return v!==null&&v.apply(this,arguments)||this}return c.value=function(r){return!0},c.prototype.index=function(r,e){return this.domNode===r||this.domNode.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},c.prototype.position=function(r,e){var t=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return r>0&&(t+=1),[this.parent.domNode,t]},c.prototype.value=function(){var r;return r={},r[this.statics.blotName]=this.statics.value(this.domNode)||!0,r},c.scope=b.Scope.INLINE_BLOT,c}(g.default);f.default=y},function(E,f,s){var O=s(11),g=s(3),b={attributes:{compose:function(v,c,r){typeof v!="object"&&(v={}),typeof c!="object"&&(c={});var e=g(!0,{},c);r||(e=Object.keys(e).reduce(function(u,a){return e[a]!=null&&(u[a]=e[a]),u},{}));for(var t in v)v[t]!==void 0&&c[t]===void 0&&(e[t]=v[t]);return Object.keys(e).length>0?e:void 0},diff:function(v,c){typeof v!="object"&&(v={}),typeof c!="object"&&(c={});var r=Object.keys(v).concat(Object.keys(c)).reduce(function(e,t){return O(v[t],c[t])||(e[t]=c[t]===void 0?null:c[t]),e},{});return Object.keys(r).length>0?r:void 0},transform:function(v,c,r){if(typeof v!="object")return c;if(typeof c=="object"){if(!r)return c;var e=Object.keys(c).reduce(function(t,u){return v[u]===void 0&&(t[u]=c[u]),t},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(v){return new y(v)},length:function(v){return typeof v.delete=="number"?v.delete:typeof v.retain=="number"?v.retain:typeof v.insert=="string"?v.insert.length:1}};function y(v){this.ops=v,this.index=0,this.offset=0}y.prototype.hasNext=function(){return this.peekLength()<1/0},y.prototype.next=function(v){v||(v=1/0);var c=this.ops[this.index];if(c){var r=this.offset,e=b.length(c);if(v>=e-r?(v=e-r,this.index+=1,this.offset=0):this.offset+=v,typeof c.delete=="number")return{delete:v};var t={};return c.attributes&&(t.attributes=c.attributes),typeof c.retain=="number"?t.retain=v:typeof c.insert=="string"?t.insert=c.insert.substr(r,v):t.insert=c.insert,t}else return{retain:1/0}},y.prototype.peek=function(){return this.ops[this.index]},y.prototype.peekLength=function(){return this.ops[this.index]?b.length(this.ops[this.index])-this.offset:1/0},y.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},y.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var v=this.offset,c=this.index,r=this.next(),e=this.ops.slice(this.index);return this.offset=v,this.index=c,[r].concat(e)}else return[]},E.exports=b},function(E,f){var s=function(){function O(a,l){return l!=null&&a instanceof l}var g;try{g=Map}catch{g=function(){}}var b;try{b=Set}catch{b=function(){}}var y;try{y=Promise}catch{y=function(){}}function v(a,l,i,o,h){typeof l=="object"&&(i=l.depth,o=l.prototype,h=l.includeNonEnumerable,l=l.circular);var n=[],d=[],w=typeof Buffer<"u";typeof l>"u"&&(l=!0),typeof i>"u"&&(i=1/0);function A(T,k){if(T===null)return null;if(k===0)return T;var m,p;if(typeof T!="object")return T;if(O(T,g))m=new g;else if(O(T,b))m=new b;else if(O(T,y))m=new y(function(C,N){T.then(function(j){C(A(j,k-1))},function(j){N(A(j,k-1))})});else if(v.__isArray(T))m=[];else if(v.__isRegExp(T))m=new RegExp(T.source,u(T)),T.lastIndex&&(m.lastIndex=T.lastIndex);else if(v.__isDate(T))m=new Date(T.getTime());else{if(w&&Buffer.isBuffer(T))return Buffer.allocUnsafe?m=Buffer.allocUnsafe(T.length):m=new Buffer(T.length),T.copy(m),m;O(T,Error)?m=Object.create(T):typeof o>"u"?(p=Object.getPrototypeOf(T),m=Object.create(p)):(m=Object.create(o),p=o)}if(l){var _=n.indexOf(T);if(_!=-1)return d[_];n.push(T),d.push(m)}O(T,g)&&T.forEach(function(C,N){var j=A(N,k-1),M=A(C,k-1);m.set(j,M)}),O(T,b)&&T.forEach(function(C){var N=A(C,k-1);m.add(N)});for(var x in T){var q;p&&(q=Object.getOwnPropertyDescriptor(p,x)),!(q&&q.set==null)&&(m[x]=A(T[x],k-1))}if(Object.getOwnPropertySymbols)for(var I=Object.getOwnPropertySymbols(T),x=0;x<I.length;x++){var F=I[x],K=Object.getOwnPropertyDescriptor(T,F);K&&!K.enumerable&&!h||(m[F]=A(T[F],k-1),K.enumerable||Object.defineProperty(m,F,{enumerable:!1}))}if(h)for(var Z=Object.getOwnPropertyNames(T),x=0;x<Z.length;x++){var D=Z[x],K=Object.getOwnPropertyDescriptor(T,D);K&&K.enumerable||(m[D]=A(T[D],k-1),Object.defineProperty(m,D,{enumerable:!1}))}return m}return A(a,i)}v.clonePrototype=function(l){if(l===null)return null;var i=function(){};return i.prototype=l,new i};function c(a){return Object.prototype.toString.call(a)}v.__objToStr=c;function r(a){return typeof a=="object"&&c(a)==="[object Date]"}v.__isDate=r;function e(a){return typeof a=="object"&&c(a)==="[object Array]"}v.__isArray=e;function t(a){return typeof a=="object"&&c(a)==="[object RegExp]"}v.__isRegExp=t;function u(a){var l="";return a.global&&(l+="g"),a.ignoreCase&&(l+="i"),a.multiline&&(l+="m"),l}return v.__getRegExpFlags=u,v}();typeof E=="object"&&E.exports&&(E.exports=s)},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function m(p,_){var x=[],q=!0,I=!1,F=void 0;try{for(var K=p[Symbol.iterator](),Z;!(q=(Z=K.next()).done)&&(x.push(Z.value),!(_&&x.length===_));q=!0);}catch(D){I=!0,F=D}finally{try{!q&&K.return&&K.return()}finally{if(I)throw F}}return x}return function(p,_){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return m(p,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function m(p,_){for(var x=0;x<_.length;x++){var q=_[x];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(p,q.key,q)}}return function(p,_,x){return _&&m(p.prototype,_),x&&m(p,x),p}}(),b=function m(p,_,x){p===null&&(p=Function.prototype);var q=Object.getOwnPropertyDescriptor(p,_);if(q===void 0){var I=Object.getPrototypeOf(p);return I===null?void 0:m(I,_,x)}else{if("value"in q)return q.value;var F=q.get;return F===void 0?void 0:F.call(x)}},y=s(0),v=n(y),c=s(8),r=n(c),e=s(4),t=n(e),u=s(16),a=n(u),l=s(13),i=n(l),o=s(25),h=n(o);function n(m){return m&&m.__esModule?m:{default:m}}function d(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function w(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function A(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}function T(m){return m instanceof t.default||m instanceof e.BlockEmbed}var k=function(m){A(p,m);function p(_,x){d(this,p);var q=w(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,_));return q.emitter=x.emitter,Array.isArray(x.whitelist)&&(q.whitelist=x.whitelist.reduce(function(I,F){return I[F]=!0,I},{})),q.domNode.addEventListener("DOMNodeInserted",function(){}),q.optimize(),q.enable(),q}return g(p,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(x,q){var I=this.line(x),F=O(I,2),K=F[0],Z=F[1],D=this.line(x+q),C=O(D,1),N=C[0];if(b(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"deleteAt",this).call(this,x,q),N!=null&&K!==N&&Z>0){if(K instanceof e.BlockEmbed||N instanceof e.BlockEmbed){this.optimize();return}if(K instanceof i.default){var j=K.newlineIndex(K.length(),!0);if(j>-1&&(K=K.split(j+1),K===N)){this.optimize();return}}else if(N instanceof i.default){var M=N.newlineIndex(0);M>-1&&N.split(M+1)}var H=N.children.head instanceof a.default?null:N.children.head;K.moveChildren(N,H),K.remove()}this.optimize()}},{key:"enable",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",x)}},{key:"formatAt",value:function(x,q,I,F){this.whitelist!=null&&!this.whitelist[I]||(b(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,x,q,I,F),this.optimize())}},{key:"insertAt",value:function(x,q,I){if(!(I!=null&&this.whitelist!=null&&!this.whitelist[q])){if(x>=this.length())if(I==null||v.default.query(q,v.default.Scope.BLOCK)==null){var F=v.default.create(this.statics.defaultChild);this.appendChild(F),I==null&&q.endsWith(`
`)&&(q=q.slice(0,-1)),F.insertAt(0,q,I)}else{var K=v.default.create(q,I);this.appendChild(K)}else b(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertAt",this).call(this,x,q,I);this.optimize()}}},{key:"insertBefore",value:function(x,q){if(x.statics.scope===v.default.Scope.INLINE_BLOT){var I=v.default.create(this.statics.defaultChild);I.appendChild(x),x=I}b(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertBefore",this).call(this,x,q)}},{key:"leaf",value:function(x){return this.path(x).pop()||[null,-1]}},{key:"line",value:function(x){return x===this.length()?this.line(x-1):this.descendant(T,x)}},{key:"lines",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,I=function F(K,Z,D){var C=[],N=D;return K.children.forEachAt(Z,D,function(j,M,H){T(j)?C.push(j):j instanceof v.default.Container&&(C=C.concat(F(j,M,N))),N-=H}),C};return I(this,x,q)}},{key:"optimize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(b(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,x,q),x.length>0&&this.emitter.emit(r.default.events.SCROLL_OPTIMIZE,x,q))}},{key:"path",value:function(x){return b(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"path",this).call(this,x).slice(1)}},{key:"update",value:function(x){if(this.batch!==!0){var q=r.default.sources.USER;typeof x=="string"&&(q=x),Array.isArray(x)||(x=this.observer.takeRecords()),x.length>0&&this.emitter.emit(r.default.events.SCROLL_BEFORE_UPDATE,q,x),b(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"update",this).call(this,x.concat([])),x.length>0&&this.emitter.emit(r.default.events.SCROLL_UPDATE,q,x)}}}]),p}(v.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[t.default,e.BlockEmbed,h.default],f.default=k},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.SHORTKEY=f.default=void 0;var O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},g=function(){function P(L,B){var G=[],z=!0,J=!1,re=void 0;try{for(var ne=L[Symbol.iterator](),le;!(z=(le=ne.next()).done)&&(G.push(le.value),!(B&&G.length===B));z=!0);}catch(ue){J=!0,re=ue}finally{try{!z&&ne.return&&ne.return()}finally{if(J)throw re}}return G}return function(L,B){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return P(L,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(){function P(L,B){for(var G=0;G<B.length;G++){var z=B[G];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(L,z.key,z)}}return function(L,B,G){return B&&P(L.prototype,B),G&&P(L,G),L}}(),y=s(21),v=m(y),c=s(11),r=m(c),e=s(3),t=m(e),u=s(2),a=m(u),l=s(20),i=m(l),o=s(0),h=m(o),n=s(5),d=m(n),w=s(10),A=m(w),T=s(9),k=m(T);function m(P){return P&&P.__esModule?P:{default:P}}function p(P,L,B){return L in P?Object.defineProperty(P,L,{value:B,enumerable:!0,configurable:!0,writable:!0}):P[L]=B,P}function _(P,L){if(!(P instanceof L))throw new TypeError("Cannot call a class as a function")}function x(P,L){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:P}function q(P,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);P.prototype=Object.create(L&&L.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(P,L):P.__proto__=L)}var I=(0,A.default)("quill:keyboard"),F=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",K=function(P){q(L,P),b(L,null,[{key:"match",value:function(G,z){return z=U(z),["altKey","ctrlKey","metaKey","shiftKey"].some(function(J){return!!z[J]!==G[J]&&z[J]!==null})?!1:z.key===(G.which||G.keyCode)}}]);function L(B,G){_(this,L);var z=x(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,B,G));return z.bindings={},Object.keys(z.options.bindings).forEach(function(J){J==="list autofill"&&B.scroll.whitelist!=null&&!B.scroll.whitelist.list||z.options.bindings[J]&&z.addBinding(z.options.bindings[J])}),z.addBinding({key:L.keys.ENTER,shiftKey:null},j),z.addBinding({key:L.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(z.addBinding({key:L.keys.BACKSPACE},{collapsed:!0},D),z.addBinding({key:L.keys.DELETE},{collapsed:!0},C)):(z.addBinding({key:L.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},D),z.addBinding({key:L.keys.DELETE},{collapsed:!0,suffix:/^.?$/},C)),z.addBinding({key:L.keys.BACKSPACE},{collapsed:!1},N),z.addBinding({key:L.keys.DELETE},{collapsed:!1},N),z.addBinding({key:L.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},D),z.listen(),z}return b(L,[{key:"addBinding",value:function(G){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},re=U(G);if(re==null||re.key==null)return I.warn("Attempted to add invalid keyboard binding",re);typeof z=="function"&&(z={handler:z}),typeof J=="function"&&(J={handler:J}),re=(0,t.default)(re,z,J),this.bindings[re.key]=this.bindings[re.key]||[],this.bindings[re.key].push(re)}},{key:"listen",value:function(){var G=this;this.quill.root.addEventListener("keydown",function(z){if(!z.defaultPrevented){var J=z.which||z.keyCode,re=(G.bindings[J]||[]).filter(function(ce){return L.match(z,ce)});if(re.length!==0){var ne=G.quill.getSelection();if(!(ne==null||!G.quill.hasFocus())){var le=G.quill.getLine(ne.index),ue=g(le,2),he=ue[0],fe=ue[1],V=G.quill.getLeaf(ne.index),W=g(V,2),X=W[0],Q=W[1],$=ne.length===0?[X,Q]:G.quill.getLeaf(ne.index+ne.length),ie=g($,2),ae=ie[0],oe=ie[1],ve=X instanceof h.default.Text?X.value().slice(0,Q):"",pe=ae instanceof h.default.Text?ae.value().slice(oe):"",se={collapsed:ne.length===0,empty:ne.length===0&&he.length()<=1,format:G.quill.getFormat(ne),offset:fe,prefix:ve,suffix:pe},Pi=re.some(function(ce){if(ce.collapsed!=null&&ce.collapsed!==se.collapsed||ce.empty!=null&&ce.empty!==se.empty||ce.offset!=null&&ce.offset!==se.offset)return!1;if(Array.isArray(ce.format)){if(ce.format.every(function(be){return se.format[be]==null}))return!1}else if(O(ce.format)==="object"&&!Object.keys(ce.format).every(function(be){return ce.format[be]===!0?se.format[be]!=null:ce.format[be]===!1?se.format[be]==null:(0,r.default)(ce.format[be],se.format[be])}))return!1;return ce.prefix!=null&&!ce.prefix.test(se.prefix)||ce.suffix!=null&&!ce.suffix.test(se.suffix)?!1:ce.handler.call(G,ne,se)!==!0});Pi&&z.preventDefault()}}}})}}]),L}(k.default);K.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},K.DEFAULTS={bindings:{bold:H("bold"),italic:H("italic"),underline:H("underline"),indent:{key:K.keys.TAB,format:["blockquote","indent","list"],handler:function(L,B){if(B.collapsed&&B.offset!==0)return!0;this.quill.format("indent","+1",d.default.sources.USER)}},outdent:{key:K.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(L,B){if(B.collapsed&&B.offset!==0)return!0;this.quill.format("indent","-1",d.default.sources.USER)}},"outdent backspace":{key:K.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(L,B){B.format.indent!=null?this.quill.format("indent","-1",d.default.sources.USER):B.format.list!=null&&this.quill.format("list",!1,d.default.sources.USER)}},"indent code-block":M(!0),"outdent code-block":M(!1),"remove tab":{key:K.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(L){this.quill.deleteText(L.index-1,1,d.default.sources.USER)}},tab:{key:K.keys.TAB,handler:function(L){this.quill.history.cutoff();var B=new a.default().retain(L.index).delete(L.length).insert("	");this.quill.updateContents(B,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(L.index+1,d.default.sources.SILENT)}},"list empty enter":{key:K.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(L,B){this.quill.format("list",!1,d.default.sources.USER),B.format.indent&&this.quill.format("indent",!1,d.default.sources.USER)}},"checklist enter":{key:K.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(L){var B=this.quill.getLine(L.index),G=g(B,2),z=G[0],J=G[1],re=(0,t.default)({},z.formats(),{list:"checked"}),ne=new a.default().retain(L.index).insert(`
`,re).retain(z.length()-J-1).retain(1,{list:"unchecked"});this.quill.updateContents(ne,d.default.sources.USER),this.quill.setSelection(L.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:K.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(L,B){var G=this.quill.getLine(L.index),z=g(G,2),J=z[0],re=z[1],ne=new a.default().retain(L.index).insert(`
`,B.format).retain(J.length()-re-1).retain(1,{header:null});this.quill.updateContents(ne,d.default.sources.USER),this.quill.setSelection(L.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(L,B){var G=B.prefix.length,z=this.quill.getLine(L.index),J=g(z,2),re=J[0],ne=J[1];if(ne>G)return!0;var le=void 0;switch(B.prefix.trim()){case"[]":case"[ ]":le="unchecked";break;case"[x]":le="checked";break;case"-":case"*":le="bullet";break;default:le="ordered"}this.quill.insertText(L.index," ",d.default.sources.USER),this.quill.history.cutoff();var ue=new a.default().retain(L.index-ne).delete(G+1).retain(re.length()-2-ne).retain(1,{list:le});this.quill.updateContents(ue,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(L.index-G,d.default.sources.SILENT)}},"code exit":{key:K.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(L){var B=this.quill.getLine(L.index),G=g(B,2),z=G[0],J=G[1],re=new a.default().retain(L.index+z.length()-J-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(re,d.default.sources.USER)}},"embed left":Z(K.keys.LEFT,!1),"embed left shift":Z(K.keys.LEFT,!0),"embed right":Z(K.keys.RIGHT,!1),"embed right shift":Z(K.keys.RIGHT,!0)}};function Z(P,L){var B,G=P===K.keys.LEFT?"prefix":"suffix";return B={key:P,shiftKey:L,altKey:null},p(B,G,/^$/),p(B,"handler",function(J){var re=J.index;P===K.keys.RIGHT&&(re+=J.length+1);var ne=this.quill.getLeaf(re),le=g(ne,1),ue=le[0];return ue instanceof h.default.Embed?(P===K.keys.LEFT?L?this.quill.setSelection(J.index-1,J.length+1,d.default.sources.USER):this.quill.setSelection(J.index-1,d.default.sources.USER):L?this.quill.setSelection(J.index,J.length+1,d.default.sources.USER):this.quill.setSelection(J.index+J.length+1,d.default.sources.USER),!1):!0}),B}function D(P,L){if(!(P.index===0||this.quill.getLength()<=1)){var B=this.quill.getLine(P.index),G=g(B,1),z=G[0],J={};if(L.offset===0){var re=this.quill.getLine(P.index-1),ne=g(re,1),le=ne[0];if(le!=null&&le.length()>1){var ue=z.formats(),he=this.quill.getFormat(P.index-1,1);J=i.default.attributes.diff(ue,he)||{}}}var fe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(L.prefix)?2:1;this.quill.deleteText(P.index-fe,fe,d.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(P.index-fe,fe,J,d.default.sources.USER),this.quill.focus()}}function C(P,L){var B=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(L.suffix)?2:1;if(!(P.index>=this.quill.getLength()-B)){var G={},z=0,J=this.quill.getLine(P.index),re=g(J,1),ne=re[0];if(L.offset>=ne.length()-1){var le=this.quill.getLine(P.index+1),ue=g(le,1),he=ue[0];if(he){var fe=ne.formats(),V=this.quill.getFormat(P.index,1);G=i.default.attributes.diff(fe,V)||{},z=he.length()}}this.quill.deleteText(P.index,B,d.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(P.index+z-1,B,G,d.default.sources.USER)}}function N(P){var L=this.quill.getLines(P),B={};if(L.length>1){var G=L[0].formats(),z=L[L.length-1].formats();B=i.default.attributes.diff(z,G)||{}}this.quill.deleteText(P,d.default.sources.USER),Object.keys(B).length>0&&this.quill.formatLine(P.index,1,B,d.default.sources.USER),this.quill.setSelection(P.index,d.default.sources.SILENT),this.quill.focus()}function j(P,L){var B=this;P.length>0&&this.quill.scroll.deleteAt(P.index,P.length);var G=Object.keys(L.format).reduce(function(z,J){return h.default.query(J,h.default.Scope.BLOCK)&&!Array.isArray(L.format[J])&&(z[J]=L.format[J]),z},{});this.quill.insertText(P.index,`
`,G,d.default.sources.USER),this.quill.setSelection(P.index+1,d.default.sources.SILENT),this.quill.focus(),Object.keys(L.format).forEach(function(z){G[z]==null&&(Array.isArray(L.format[z])||z!=="link"&&B.quill.format(z,L.format[z],d.default.sources.USER))})}function M(P){return{key:K.keys.TAB,shiftKey:!P,format:{"code-block":!0},handler:function(B){var G=h.default.query("code-block"),z=B.index,J=B.length,re=this.quill.scroll.descendant(G,z),ne=g(re,2),le=ne[0],ue=ne[1];if(le!=null){var he=this.quill.getIndex(le),fe=le.newlineIndex(ue,!0)+1,V=le.newlineIndex(he+ue+J),W=le.domNode.textContent.slice(fe,V).split(`
`);ue=0,W.forEach(function(X,Q){P?(le.insertAt(fe+ue,G.TAB),ue+=G.TAB.length,Q===0?z+=G.TAB.length:J+=G.TAB.length):X.startsWith(G.TAB)&&(le.deleteAt(fe+ue,G.TAB.length),ue-=G.TAB.length,Q===0?z-=G.TAB.length:J-=G.TAB.length),ue+=X.length+1}),this.quill.update(d.default.sources.USER),this.quill.setSelection(z,J,d.default.sources.SILENT)}}}}function H(P){return{key:P[0].toUpperCase(),shortKey:!0,handler:function(B,G){this.quill.format(P,!G.format[P],d.default.sources.USER)}}}function U(P){if(typeof P=="string"||typeof P=="number")return U({key:P});if((typeof P>"u"?"undefined":O(P))==="object"&&(P=(0,v.default)(P,!1)),typeof P.key=="string")if(K.keys[P.key.toUpperCase()]!=null)P.key=K.keys[P.key.toUpperCase()];else if(P.key.length===1)P.key=P.key.toUpperCase().charCodeAt(0);else return null;return P.shortKey&&(P[F]=P.shortKey,delete P.shortKey),P}f.default=K,f.SHORTKEY=F},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function i(o,h){var n=[],d=!0,w=!1,A=void 0;try{for(var T=o[Symbol.iterator](),k;!(d=(k=T.next()).done)&&(n.push(k.value),!(h&&n.length===h));d=!0);}catch(m){w=!0,A=m}finally{try{!d&&T.return&&T.return()}finally{if(w)throw A}}return n}return function(o,h){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return i(o,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function i(o,h,n){o===null&&(o=Function.prototype);var d=Object.getOwnPropertyDescriptor(o,h);if(d===void 0){var w=Object.getPrototypeOf(o);return w===null?void 0:i(w,h,n)}else{if("value"in d)return d.value;var A=d.get;return A===void 0?void 0:A.call(n)}},b=function(){function i(o,h){for(var n=0;n<h.length;n++){var d=h[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(o,d.key,d)}}return function(o,h,n){return h&&i(o.prototype,h),n&&i(o,n),o}}(),y=s(0),v=e(y),c=s(7),r=e(c);function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function u(i,o){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:i}function a(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(i,o):i.__proto__=o)}var l=function(i){a(o,i),b(o,null,[{key:"value",value:function(){}}]);function o(h,n){t(this,o);var d=u(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h));return d.selection=n,d.textNode=document.createTextNode(o.CONTENTS),d.domNode.appendChild(d.textNode),d._length=0,d}return b(o,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(n,d){if(this._length!==0)return g(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"format",this).call(this,n,d);for(var w=this,A=0;w!=null&&w.statics.scope!==v.default.Scope.BLOCK_BLOT;)A+=w.offset(w.parent),w=w.parent;w!=null&&(this._length=o.CONTENTS.length,w.optimize(),w.formatAt(A,o.CONTENTS.length,n,d),this._length=0)}},{key:"index",value:function(n,d){return n===this.textNode?0:g(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"index",this).call(this,n,d)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){g(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var n=this.textNode,d=this.selection.getNativeRange(),w=void 0,A=void 0,T=void 0;if(d!=null&&d.start.node===n&&d.end.node===n){var k=[n,d.start.offset,d.end.offset];w=k[0],A=k[1],T=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==o.CONTENTS){var m=this.textNode.data.split(o.CONTENTS).join("");this.next instanceof r.default?(w=this.next.domNode,this.next.insertAt(0,m),this.textNode.data=o.CONTENTS):(this.textNode.data=m,this.parent.insertBefore(v.default.create(this.textNode),this),this.textNode=document.createTextNode(o.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),A!=null){var p=[A,T].map(function(x){return Math.max(0,Math.min(w.data.length,x-1))}),_=O(p,2);return A=_[0],T=_[1],{startNode:w,startOffset:A,endNode:w,endOffset:T}}}}},{key:"update",value:function(n,d){var w=this;if(n.some(function(T){return T.type==="characterData"&&T.target===w.textNode})){var A=this.restore();A&&(d.range=A)}}},{key:"value",value:function(){return""}}]),o}(v.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\uFEFF",f.default=l},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=s(0),g=v(O),b=s(4),y=v(b);function v(u){return u&&u.__esModule?u:{default:u}}function c(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function r(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:u}function e(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}var t=function(u){e(a,u);function a(){return c(this,a),r(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return a}(g.default.Container);t.allowedChildren=[y.default,b.BlockEmbed,t],f.default=t},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.ColorStyle=f.ColorClass=f.ColorAttributor=void 0;var O=function(){function l(i,o){for(var h=0;h<o.length;h++){var n=o[h];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,o,h){return o&&l(i.prototype,o),h&&l(i,h),i}}(),g=function l(i,o,h){i===null&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,o);if(n===void 0){var d=Object.getPrototypeOf(i);return d===null?void 0:l(d,o,h)}else{if("value"in n)return n.value;var w=n.get;return w===void 0?void 0:w.call(h)}},b=s(0),y=v(b);function v(l){return l&&l.__esModule?l:{default:l}}function c(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}function r(l,i){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:l}function e(l,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);l.prototype=Object.create(i&&i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(l,i):l.__proto__=i)}var t=function(l){e(i,l);function i(){return c(this,i),r(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return O(i,[{key:"value",value:function(h){var n=g(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"value",this).call(this,h);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(d){return("00"+parseInt(d).toString(16)).slice(-2)}).join("")):n}}]),i}(y.default.Attributor.Style),u=new y.default.Attributor.Class("color","ql-color",{scope:y.default.Scope.INLINE}),a=new t("color","color",{scope:y.default.Scope.INLINE});f.ColorAttributor=t,f.ColorClass=u,f.ColorStyle=a},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.sanitize=f.default=void 0;var O=function(){function a(l,i){for(var o=0;o<i.length;o++){var h=i[o];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,i,o){return i&&a(l.prototype,i),o&&a(l,o),l}}(),g=function a(l,i,o){l===null&&(l=Function.prototype);var h=Object.getOwnPropertyDescriptor(l,i);if(h===void 0){var n=Object.getPrototypeOf(l);return n===null?void 0:a(n,i,o)}else{if("value"in h)return h.value;var d=h.get;return d===void 0?void 0:d.call(o)}},b=s(6),y=v(b);function v(a){return a&&a.__esModule?a:{default:a}}function c(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function r(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:a}function e(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}var t=function(a){e(l,a);function l(){return c(this,l),r(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return O(l,[{key:"format",value:function(o,h){if(o!==this.statics.blotName||!h)return g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"format",this).call(this,o,h);h=this.constructor.sanitize(h),this.domNode.setAttribute("href",h)}}],[{key:"create",value:function(o){var h=g(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,o);return o=this.sanitize(o),h.setAttribute("href",o),h.setAttribute("rel","noopener noreferrer"),h.setAttribute("target","_blank"),h}},{key:"formats",value:function(o){return o.getAttribute("href")}},{key:"sanitize",value:function(o){return u(o,this.PROTOCOL_WHITELIST)?o:this.SANITIZED_URL}}]),l}(y.default);t.blotName="link",t.tagName="A",t.SANITIZED_URL="about:blank",t.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function u(a,l){var i=document.createElement("a");i.href=a;var o=i.href.slice(0,i.href.indexOf(":"));return l.indexOf(o)>-1}f.default=t,f.sanitize=u},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},g=function(){function l(i,o){for(var h=0;h<o.length;h++){var n=o[h];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,o,h){return o&&l(i.prototype,o),h&&l(i,h),i}}(),b=s(23),y=r(b),v=s(107),c=r(v);function r(l){return l&&l.__esModule?l:{default:l}}function e(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}var t=0;function u(l,i){l.setAttribute(i,l.getAttribute(i)!=="true")}var a=function(){function l(i){var o=this;e(this,l),this.select=i,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){o.togglePicker()}),this.label.addEventListener("keydown",function(h){switch(h.keyCode){case y.default.keys.ENTER:o.togglePicker();break;case y.default.keys.ESCAPE:o.escape(),h.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return g(l,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(o){var h=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),o.hasAttribute("value")&&n.setAttribute("data-value",o.getAttribute("value")),o.textContent&&n.setAttribute("data-label",o.textContent),n.addEventListener("click",function(){h.selectItem(n,!0)}),n.addEventListener("keydown",function(d){switch(d.keyCode){case y.default.keys.ENTER:h.selectItem(n,!0),d.preventDefault();break;case y.default.keys.ESCAPE:h.escape(),d.preventDefault();break}}),n}},{key:"buildLabel",value:function(){var o=document.createElement("span");return o.classList.add("ql-picker-label"),o.innerHTML=c.default,o.tabIndex="0",o.setAttribute("role","button"),o.setAttribute("aria-expanded","false"),this.container.appendChild(o),o}},{key:"buildOptions",value:function(){var o=this,h=document.createElement("span");h.classList.add("ql-picker-options"),h.setAttribute("aria-hidden","true"),h.tabIndex="-1",h.id="ql-picker-options-"+t,t+=1,this.label.setAttribute("aria-controls",h.id),this.options=h,[].slice.call(this.select.options).forEach(function(n){var d=o.buildItem(n);h.appendChild(d),n.selected===!0&&o.selectItem(d)}),this.container.appendChild(h)}},{key:"buildPicker",value:function(){var o=this;[].slice.call(this.select.attributes).forEach(function(h){o.container.setAttribute(h.name,h.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var o=this;this.close(),setTimeout(function(){return o.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.container.querySelector(".ql-selected");if(o!==n&&(n!=null&&n.classList.remove("ql-selected"),o!=null&&(o.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(o.parentNode.children,o),o.hasAttribute("data-value")?this.label.setAttribute("data-value",o.getAttribute("data-value")):this.label.removeAttribute("data-value"),o.hasAttribute("data-label")?this.label.setAttribute("data-label",o.getAttribute("data-label")):this.label.removeAttribute("data-label"),h))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":O(Event))==="object"){var d=document.createEvent("Event");d.initEvent("change",!0,!0),this.select.dispatchEvent(d)}this.close()}}},{key:"update",value:function(){var o=void 0;if(this.select.selectedIndex>-1){var h=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];o=this.select.options[this.select.selectedIndex],this.selectItem(h)}else this.selectItem(null);var n=o!=null&&o!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),l}();f.default=a},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=s(0),g=I(O),b=s(5),y=I(b),v=s(4),c=I(v),r=s(16),e=I(r),t=s(25),u=I(t),a=s(24),l=I(a),i=s(35),o=I(i),h=s(6),n=I(h),d=s(22),w=I(d),A=s(7),T=I(A),k=s(55),m=I(k),p=s(42),_=I(p),x=s(23),q=I(x);function I(F){return F&&F.__esModule?F:{default:F}}y.default.register({"blots/block":c.default,"blots/block/embed":v.BlockEmbed,"blots/break":e.default,"blots/container":u.default,"blots/cursor":l.default,"blots/embed":o.default,"blots/inline":n.default,"blots/scroll":w.default,"blots/text":T.default,"modules/clipboard":m.default,"modules/history":_.default,"modules/keyboard":q.default}),g.default.register(c.default,e.default,l.default,n.default,w.default,T.default),f.default=y.default},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=s(1),g=function(){function b(y){this.domNode=y,this.domNode[O.DATA_KEY]={blot:this}}return Object.defineProperty(b.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),b.create=function(y){if(this.tagName==null)throw new O.ParchmentError("Blot definition missing tagName");var v;return Array.isArray(this.tagName)?(typeof y=="string"&&(y=y.toUpperCase(),parseInt(y).toString()===y&&(y=parseInt(y))),typeof y=="number"?v=document.createElement(this.tagName[y-1]):this.tagName.indexOf(y)>-1?v=document.createElement(y):v=document.createElement(this.tagName[0])):v=document.createElement(this.tagName),this.className&&v.classList.add(this.className),v},b.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},b.prototype.clone=function(){var y=this.domNode.cloneNode(!1);return O.create(y)},b.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[O.DATA_KEY]},b.prototype.deleteAt=function(y,v){var c=this.isolate(y,v);c.remove()},b.prototype.formatAt=function(y,v,c,r){var e=this.isolate(y,v);if(O.query(c,O.Scope.BLOT)!=null&&r)e.wrap(c,r);else if(O.query(c,O.Scope.ATTRIBUTE)!=null){var t=O.create(this.statics.scope);e.wrap(t),t.format(c,r)}},b.prototype.insertAt=function(y,v,c){var r=c==null?O.create("text",v):O.create(v,c),e=this.split(y);this.parent.insertBefore(r,e)},b.prototype.insertInto=function(y,v){v===void 0&&(v=null),this.parent!=null&&this.parent.children.remove(this);var c=null;y.children.insertBefore(this,v),v!=null&&(c=v.domNode),(this.domNode.parentNode!=y.domNode||this.domNode.nextSibling!=c)&&y.domNode.insertBefore(this.domNode,c),this.parent=y,this.attach()},b.prototype.isolate=function(y,v){var c=this.split(y);return c.split(v),c},b.prototype.length=function(){return 1},b.prototype.offset=function(y){return y===void 0&&(y=this.parent),this.parent==null||this==y?0:this.parent.children.offset(this)+this.parent.offset(y)},b.prototype.optimize=function(y){this.domNode[O.DATA_KEY]!=null&&delete this.domNode[O.DATA_KEY].mutations},b.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},b.prototype.replace=function(y){y.parent!=null&&(y.parent.insertBefore(this,y.next),y.remove())},b.prototype.replaceWith=function(y,v){var c=typeof y=="string"?O.create(y,v):y;return c.replace(this),c},b.prototype.split=function(y,v){return y===0?this:this.next},b.prototype.update=function(y,v){},b.prototype.wrap=function(y,v){var c=typeof y=="string"?O.create(y,v):y;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},b.blotName="abstract",b}();f.default=g},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=s(12),g=s(32),b=s(33),y=s(1),v=function(){function c(r){this.attributes={},this.domNode=r,this.build()}return c.prototype.attribute=function(r,e){e?r.add(this.domNode,e)&&(r.value(this.domNode)!=null?this.attributes[r.attrName]=r:delete this.attributes[r.attrName]):(r.remove(this.domNode),delete this.attributes[r.attrName])},c.prototype.build=function(){var r=this;this.attributes={};var e=O.default.keys(this.domNode),t=g.default.keys(this.domNode),u=b.default.keys(this.domNode);e.concat(t).concat(u).forEach(function(a){var l=y.query(a,y.Scope.ATTRIBUTE);l instanceof O.default&&(r.attributes[l.attrName]=l)})},c.prototype.copy=function(r){var e=this;Object.keys(this.attributes).forEach(function(t){var u=e.attributes[t].value(e.domNode);r.format(t,u)})},c.prototype.move=function(r){var e=this;this.copy(r),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},c.prototype.values=function(){var r=this;return Object.keys(this.attributes).reduce(function(e,t){return e[t]=r.attributes[t].value(r.domNode),e},{})},c}();f.default=v},function(E,f,s){var O=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,r){c.__proto__=r}||function(c,r){for(var e in r)r.hasOwnProperty(e)&&(c[e]=r[e])};return function(c,r){v(c,r);function e(){this.constructor=c}c.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}();Object.defineProperty(f,"__esModule",{value:!0});var g=s(12);function b(v,c){var r=v.getAttribute("class")||"";return r.split(/\s+/).filter(function(e){return e.indexOf(c+"-")===0})}var y=function(v){O(c,v);function c(){return v!==null&&v.apply(this,arguments)||this}return c.keys=function(r){return(r.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},c.prototype.add=function(r,e){return this.canAdd(r,e)?(this.remove(r),r.classList.add(this.keyName+"-"+e),!0):!1},c.prototype.remove=function(r){var e=b(r,this.keyName);e.forEach(function(t){r.classList.remove(t)}),r.classList.length===0&&r.removeAttribute("class")},c.prototype.value=function(r){var e=b(r,this.keyName)[0]||"",t=e.slice(this.keyName.length+1);return this.canAdd(r,t)?t:""},c}(g.default);f.default=y},function(E,f,s){var O=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,r){c.__proto__=r}||function(c,r){for(var e in r)r.hasOwnProperty(e)&&(c[e]=r[e])};return function(c,r){v(c,r);function e(){this.constructor=c}c.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}();Object.defineProperty(f,"__esModule",{value:!0});var g=s(12);function b(v){var c=v.split("-"),r=c.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return c[0]+r}var y=function(v){O(c,v);function c(){return v!==null&&v.apply(this,arguments)||this}return c.keys=function(r){return(r.getAttribute("style")||"").split(";").map(function(e){var t=e.split(":");return t[0].trim()})},c.prototype.add=function(r,e){return this.canAdd(r,e)?(r.style[b(this.keyName)]=e,!0):!1},c.prototype.remove=function(r){r.style[b(this.keyName)]="",r.getAttribute("style")||r.removeAttribute("style")},c.prototype.value=function(r){var e=r.style[b(this.keyName)];return this.canAdd(r,e)?e:""},c}(g.default);f.default=y},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function y(v,c){for(var r=0;r<c.length;r++){var e=c[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(v,e.key,e)}}return function(v,c,r){return c&&y(v.prototype,c),r&&y(v,r),v}}();function g(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}var b=function(){function y(v,c){g(this,y),this.quill=v,this.options=c,this.modules={}}return O(y,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(r){c.modules[r]==null&&c.addModule(r)})}},{key:"addModule",value:function(c){var r=this.quill.constructor.import("modules/"+c);return this.modules[c]=new r(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),y}();b.DEFAULTS={modules:{}},b.themes={default:b},f.default=b},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function i(o,h){for(var n=0;n<h.length;n++){var d=h[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(o,d.key,d)}}return function(o,h,n){return h&&i(o.prototype,h),n&&i(o,n),o}}(),g=function i(o,h,n){o===null&&(o=Function.prototype);var d=Object.getOwnPropertyDescriptor(o,h);if(d===void 0){var w=Object.getPrototypeOf(o);return w===null?void 0:i(w,h,n)}else{if("value"in d)return d.value;var A=d.get;return A===void 0?void 0:A.call(n)}},b=s(0),y=r(b),v=s(7),c=r(v);function r(i){return i&&i.__esModule?i:{default:i}}function e(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function t(i,o){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:i}function u(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(i,o):i.__proto__=o)}var a="\uFEFF",l=function(i){u(o,i);function o(h){e(this,o);var n=t(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(d){n.contentNode.appendChild(d)}),n.leftGuard=document.createTextNode(a),n.rightGuard=document.createTextNode(a),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return O(o,[{key:"index",value:function(n,d){return n===this.leftGuard?0:n===this.rightGuard?1:g(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"index",this).call(this,n,d)}},{key:"restore",value:function(n){var d=void 0,w=void 0,A=n.data.split(a).join("");if(n===this.leftGuard)if(this.prev instanceof c.default){var T=this.prev.length();this.prev.insertAt(T,A),d={startNode:this.prev.domNode,startOffset:T+A.length}}else w=document.createTextNode(A),this.parent.insertBefore(y.default.create(w),this),d={startNode:w,startOffset:A.length};else n===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,A),d={startNode:this.next.domNode,startOffset:A.length}):(w=document.createTextNode(A),this.parent.insertBefore(y.default.create(w),this.next),d={startNode:w,startOffset:A.length}));return n.data=a,d}},{key:"update",value:function(n,d){var w=this;n.forEach(function(A){if(A.type==="characterData"&&(A.target===w.leftGuard||A.target===w.rightGuard)){var T=w.restore(A.target);T&&(d.range=T)}})}}]),o}(y.default.Embed);f.default=l},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.AlignStyle=f.AlignClass=f.AlignAttribute=void 0;var O=s(0),g=b(O);function b(e){return e&&e.__esModule?e:{default:e}}var y={scope:g.default.Scope.BLOCK,whitelist:["right","center","justify"]},v=new g.default.Attributor.Attribute("align","align",y),c=new g.default.Attributor.Class("align","ql-align",y),r=new g.default.Attributor.Style("align","text-align",y);f.AlignAttribute=v,f.AlignClass=c,f.AlignStyle=r},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.BackgroundStyle=f.BackgroundClass=void 0;var O=s(0),g=y(O),b=s(26);function y(r){return r&&r.__esModule?r:{default:r}}var v=new g.default.Attributor.Class("background","ql-bg",{scope:g.default.Scope.INLINE}),c=new b.ColorAttributor("background","background-color",{scope:g.default.Scope.INLINE});f.BackgroundClass=v,f.BackgroundStyle=c},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.DirectionStyle=f.DirectionClass=f.DirectionAttribute=void 0;var O=s(0),g=b(O);function b(e){return e&&e.__esModule?e:{default:e}}var y={scope:g.default.Scope.BLOCK,whitelist:["rtl"]},v=new g.default.Attributor.Attribute("direction","dir",y),c=new g.default.Attributor.Class("direction","ql-direction",y),r=new g.default.Attributor.Style("direction","direction",y);f.DirectionAttribute=v,f.DirectionClass=c,f.DirectionStyle=r},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.FontClass=f.FontStyle=void 0;var O=function(){function i(o,h){for(var n=0;n<h.length;n++){var d=h[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(o,d.key,d)}}return function(o,h,n){return h&&i(o.prototype,h),n&&i(o,n),o}}(),g=function i(o,h,n){o===null&&(o=Function.prototype);var d=Object.getOwnPropertyDescriptor(o,h);if(d===void 0){var w=Object.getPrototypeOf(o);return w===null?void 0:i(w,h,n)}else{if("value"in d)return d.value;var A=d.get;return A===void 0?void 0:A.call(n)}},b=s(0),y=v(b);function v(i){return i&&i.__esModule?i:{default:i}}function c(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function r(i,o){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:i}function e(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(i,o):i.__proto__=o)}var t={scope:y.default.Scope.INLINE,whitelist:["serif","monospace"]},u=new y.default.Attributor.Class("font","ql-font",t),a=function(i){e(o,i);function o(){return c(this,o),r(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return O(o,[{key:"value",value:function(n){return g(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"value",this).call(this,n).replace(/["']/g,"")}}]),o}(y.default.Attributor.Style),l=new a("font","font-family",t);f.FontStyle=l,f.FontClass=u},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.SizeStyle=f.SizeClass=void 0;var O=s(0),g=b(O);function b(c){return c&&c.__esModule?c:{default:c}}var y=new g.default.Attributor.Class("size","ql-size",{scope:g.default.Scope.INLINE,whitelist:["small","large","huge"]}),v=new g.default.Attributor.Style("size","font-size",{scope:g.default.Scope.INLINE,whitelist:["10px","18px","32px"]});f.SizeClass=y,f.SizeStyle=v},function(E,f,s){E.exports={align:{"":s(76),center:s(77),right:s(78),justify:s(79)},background:s(80),blockquote:s(81),bold:s(82),clean:s(83),code:s(58),"code-block":s(58),color:s(84),direction:{"":s(85),rtl:s(86)},float:{center:s(87),full:s(88),left:s(89),right:s(90)},formula:s(91),header:{1:s(92),2:s(93)},italic:s(94),image:s(95),indent:{"+1":s(96),"-1":s(97)},link:s(98),list:{ordered:s(99),bullet:s(100),check:s(101)},script:{sub:s(102),super:s(103)},strike:s(104),underline:s(105),video:s(106)}},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.getLastChangeIndex=f.default=void 0;var O=function(){function h(n,d){for(var w=0;w<d.length;w++){var A=d[w];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(n,A.key,A)}}return function(n,d,w){return d&&h(n.prototype,d),w&&h(n,w),n}}(),g=s(0),b=e(g),y=s(5),v=e(y),c=s(9),r=e(c);function e(h){return h&&h.__esModule?h:{default:h}}function t(h,n){if(!(h instanceof n))throw new TypeError("Cannot call a class as a function")}function u(h,n){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:h}function a(h,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);h.prototype=Object.create(n&&n.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(h,n):h.__proto__=n)}var l=function(h){a(n,h);function n(d,w){t(this,n);var A=u(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,d,w));return A.lastRecorded=0,A.ignoreChange=!1,A.clear(),A.quill.on(v.default.events.EDITOR_CHANGE,function(T,k,m,p){T!==v.default.events.TEXT_CHANGE||A.ignoreChange||(!A.options.userOnly||p===v.default.sources.USER?A.record(k,m):A.transform(k))}),A.quill.keyboard.addBinding({key:"Z",shortKey:!0},A.undo.bind(A)),A.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},A.redo.bind(A)),/Win/i.test(navigator.platform)&&A.quill.keyboard.addBinding({key:"Y",shortKey:!0},A.redo.bind(A)),A}return O(n,[{key:"change",value:function(w,A){if(this.stack[w].length!==0){var T=this.stack[w].pop();this.stack[A].push(T),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(T[w],v.default.sources.USER),this.ignoreChange=!1;var k=o(T[w]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(w,A){if(w.ops.length!==0){this.stack.redo=[];var T=this.quill.getContents().diff(A),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var m=this.stack.undo.pop();T=T.compose(m.undo),w=m.redo.compose(w)}else this.lastRecorded=k;this.stack.undo.push({redo:w,undo:T}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(w){this.stack.undo.forEach(function(A){A.undo=w.transform(A.undo,!0),A.redo=w.transform(A.redo,!0)}),this.stack.redo.forEach(function(A){A.undo=w.transform(A.undo,!0),A.redo=w.transform(A.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),n}(r.default);l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function i(h){var n=h.ops[h.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(function(d){return b.default.query(d,b.default.Scope.BLOCK)!=null}):!1}function o(h){var n=h.reduce(function(w,A){return w+=A.delete||0,w},0),d=h.length()-n;return i(h)&&(d-=1),d}f.default=l,f.getLastChangeIndex=o},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.BaseTooltip=void 0;var O=function(){function j(M,H){for(var U=0;U<H.length;U++){var P=H[U];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(M,P.key,P)}}return function(M,H,U){return H&&j(M.prototype,H),U&&j(M,U),M}}(),g=function j(M,H,U){M===null&&(M=Function.prototype);var P=Object.getOwnPropertyDescriptor(M,H);if(P===void 0){var L=Object.getPrototypeOf(M);return L===null?void 0:j(L,H,U)}else{if("value"in P)return P.value;var B=P.get;return B===void 0?void 0:B.call(U)}},b=s(3),y=k(b),v=s(2),c=k(v),r=s(8),e=k(r),t=s(23),u=k(t),a=s(34),l=k(a),i=s(59),o=k(i),h=s(60),n=k(h),d=s(28),w=k(d),A=s(61),T=k(A);function k(j){return j&&j.__esModule?j:{default:j}}function m(j,M){if(!(j instanceof M))throw new TypeError("Cannot call a class as a function")}function p(j,M){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:j}function _(j,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);j.prototype=Object.create(M&&M.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(j,M):j.__proto__=M)}var x=[!1,"center","right","justify"],q=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],I=[!1,"serif","monospace"],F=["1","2","3",!1],K=["small",!1,"large","huge"],Z=function(j){_(M,j);function M(H,U){m(this,M);var P=p(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,H,U)),L=function B(G){if(!document.body.contains(H.root))return document.body.removeEventListener("click",B);P.tooltip!=null&&!P.tooltip.root.contains(G.target)&&document.activeElement!==P.tooltip.textbox&&!P.quill.hasFocus()&&P.tooltip.hide(),P.pickers!=null&&P.pickers.forEach(function(z){z.container.contains(G.target)||z.close()})};return H.emitter.listenDOM("click",document.body,L),P}return O(M,[{key:"addModule",value:function(U){var P=g(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"addModule",this).call(this,U);return U==="toolbar"&&this.extendToolbar(P),P}},{key:"buildButtons",value:function(U,P){U.forEach(function(L){var B=L.getAttribute("class")||"";B.split(/\s+/).forEach(function(G){if(G.startsWith("ql-")&&(G=G.slice(3),P[G]!=null))if(G==="direction")L.innerHTML=P[G][""]+P[G].rtl;else if(typeof P[G]=="string")L.innerHTML=P[G];else{var z=L.value||"";z!=null&&P[G][z]&&(L.innerHTML=P[G][z])}})})}},{key:"buildPickers",value:function(U,P){var L=this;this.pickers=U.map(function(G){if(G.classList.contains("ql-align"))return G.querySelector("option")==null&&N(G,x),new n.default(G,P.align);if(G.classList.contains("ql-background")||G.classList.contains("ql-color")){var z=G.classList.contains("ql-background")?"background":"color";return G.querySelector("option")==null&&N(G,q,z==="background"?"#ffffff":"#000000"),new o.default(G,P[z])}else return G.querySelector("option")==null&&(G.classList.contains("ql-font")?N(G,I):G.classList.contains("ql-header")?N(G,F):G.classList.contains("ql-size")&&N(G,K)),new w.default(G)});var B=function(){L.pickers.forEach(function(z){z.update()})};this.quill.on(e.default.events.EDITOR_CHANGE,B)}}]),M}(l.default);Z.DEFAULTS=(0,y.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var M=this,H=this.container.querySelector("input.ql-image[type=file]");H==null&&(H=document.createElement("input"),H.setAttribute("type","file"),H.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),H.classList.add("ql-image"),H.addEventListener("change",function(){if(H.files!=null&&H.files[0]!=null){var U=new FileReader;U.onload=function(P){var L=M.quill.getSelection(!0);M.quill.updateContents(new c.default().retain(L.index).delete(L.length).insert({image:P.target.result}),e.default.sources.USER),M.quill.setSelection(L.index+1,e.default.sources.SILENT),H.value=""},U.readAsDataURL(H.files[0])}}),this.container.appendChild(H)),H.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var D=function(j){_(M,j);function M(H,U){m(this,M);var P=p(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,H,U));return P.textbox=P.root.querySelector('input[type="text"]'),P.listen(),P}return O(M,[{key:"listen",value:function(){var U=this;this.textbox.addEventListener("keydown",function(P){u.default.match(P,"enter")?(U.save(),P.preventDefault()):u.default.match(P,"escape")&&(U.cancel(),P.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),P!=null?this.textbox.value=P:U!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+U)||""),this.root.setAttribute("data-mode",U)}},{key:"restoreFocus",value:function(){var U=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=U}},{key:"save",value:function(){var U=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var P=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",U,e.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",U,e.default.sources.USER)),this.quill.root.scrollTop=P;break}case"video":U=C(U);case"formula":{if(!U)break;var L=this.quill.getSelection(!0);if(L!=null){var B=L.index+L.length;this.quill.insertEmbed(B,this.root.getAttribute("data-mode"),U,e.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(B+1," ",e.default.sources.USER),this.quill.setSelection(B+2,e.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),M}(T.default);function C(j){var M=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return M?(M[1]||"https")+"://www.youtube.com/embed/"+M[2]+"?showinfo=0":(M=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(M[1]||"https")+"://player.vimeo.com/video/"+M[2]+"/":j}function N(j,M){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;M.forEach(function(U){var P=document.createElement("option");U===H?P.setAttribute("selected","selected"):P.setAttribute("value",U),j.appendChild(P)})}f.BaseTooltip=D,f.default=Z},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function g(){this.head=this.tail=null,this.length=0}return g.prototype.append=function(){for(var b=[],y=0;y<arguments.length;y++)b[y]=arguments[y];this.insertBefore(b[0],null),b.length>1&&this.append.apply(this,b.slice(1))},g.prototype.contains=function(b){for(var y,v=this.iterator();y=v();)if(y===b)return!0;return!1},g.prototype.insertBefore=function(b,y){b&&(b.next=y,y!=null?(b.prev=y.prev,y.prev!=null&&(y.prev.next=b),y.prev=b,y===this.head&&(this.head=b)):this.tail!=null?(this.tail.next=b,b.prev=this.tail,this.tail=b):(b.prev=null,this.head=this.tail=b),this.length+=1)},g.prototype.offset=function(b){for(var y=0,v=this.head;v!=null;){if(v===b)return y;y+=v.length(),v=v.next}return-1},g.prototype.remove=function(b){this.contains(b)&&(b.prev!=null&&(b.prev.next=b.next),b.next!=null&&(b.next.prev=b.prev),b===this.head&&(this.head=b.next),b===this.tail&&(this.tail=b.prev),this.length-=1)},g.prototype.iterator=function(b){return b===void 0&&(b=this.head),function(){var y=b;return b!=null&&(b=b.next),y}},g.prototype.find=function(b,y){y===void 0&&(y=!1);for(var v,c=this.iterator();v=c();){var r=v.length();if(b<r||y&&b===r&&(v.next==null||v.next.length()!==0))return[v,b];b-=r}return[null,0]},g.prototype.forEach=function(b){for(var y,v=this.iterator();y=v();)b(y)},g.prototype.forEachAt=function(b,y,v){if(!(y<=0))for(var c=this.find(b),r=c[0],e=c[1],t,u=b-e,a=this.iterator(r);(t=a())&&u<b+y;){var l=t.length();b>u?v(t,b-u,Math.min(y,u+l-b)):v(t,0,Math.min(l,b+y-u)),u+=l}},g.prototype.map=function(b){return this.reduce(function(y,v){return y.push(b(v)),y},[])},g.prototype.reduce=function(b,y){for(var v,c=this.iterator();v=c();)y=b(y,v);return y},g}();f.default=O},function(E,f,s){var O=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var u in t)t.hasOwnProperty(u)&&(e[u]=t[u])};return function(e,t){r(e,t);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)}}();Object.defineProperty(f,"__esModule",{value:!0});var g=s(17),b=s(1),y={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},v=100,c=function(r){O(e,r);function e(t){var u=r.call(this,t)||this;return u.scroll=u,u.observer=new MutationObserver(function(a){u.update(a)}),u.observer.observe(u.domNode,y),u.attach(),u}return e.prototype.detach=function(){r.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(t,u){this.update(),t===0&&u===this.length()?this.children.forEach(function(a){a.remove()}):r.prototype.deleteAt.call(this,t,u)},e.prototype.formatAt=function(t,u,a,l){this.update(),r.prototype.formatAt.call(this,t,u,a,l)},e.prototype.insertAt=function(t,u,a){this.update(),r.prototype.insertAt.call(this,t,u,a)},e.prototype.optimize=function(t,u){var a=this;t===void 0&&(t=[]),u===void 0&&(u={}),r.prototype.optimize.call(this,u);for(var l=[].slice.call(this.observer.takeRecords());l.length>0;)t.push(l.pop());for(var i=function(d,w){w===void 0&&(w=!0),!(d==null||d===a)&&d.domNode.parentNode!=null&&(d.domNode[b.DATA_KEY].mutations==null&&(d.domNode[b.DATA_KEY].mutations=[]),w&&i(d.parent))},o=function(d){d.domNode[b.DATA_KEY]==null||d.domNode[b.DATA_KEY].mutations==null||(d instanceof g.default&&d.children.forEach(o),d.optimize(u))},h=t,n=0;h.length>0;n+=1){if(n>=v)throw new Error("[Parchment] Maximum optimize iterations reached");for(h.forEach(function(d){var w=b.find(d.target,!0);w!=null&&(w.domNode===d.target&&(d.type==="childList"?(i(b.find(d.previousSibling,!1)),[].forEach.call(d.addedNodes,function(A){var T=b.find(A,!1);i(T,!1),T instanceof g.default&&T.children.forEach(function(k){i(k,!1)})})):d.type==="attributes"&&i(w.prev)),i(w))}),this.children.forEach(o),h=[].slice.call(this.observer.takeRecords()),l=h.slice();l.length>0;)t.push(l.pop())}},e.prototype.update=function(t,u){var a=this;u===void 0&&(u={}),t=t||this.observer.takeRecords(),t.map(function(l){var i=b.find(l.target,!0);return i==null?null:i.domNode[b.DATA_KEY].mutations==null?(i.domNode[b.DATA_KEY].mutations=[l],i):(i.domNode[b.DATA_KEY].mutations.push(l),null)}).forEach(function(l){l==null||l===a||l.domNode[b.DATA_KEY]==null||l.update(l.domNode[b.DATA_KEY].mutations||[],u)}),this.domNode[b.DATA_KEY].mutations!=null&&r.prototype.update.call(this,this.domNode[b.DATA_KEY].mutations,u),this.optimize(t,u)},e.blotName="scroll",e.defaultChild="block",e.scope=b.Scope.BLOCK_BLOT,e.tagName="DIV",e}(g.default);f.default=c},function(E,f,s){var O=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])};return function(r,e){c(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}();Object.defineProperty(f,"__esModule",{value:!0});var g=s(18),b=s(1);function y(c,r){if(Object.keys(c).length!==Object.keys(r).length)return!1;for(var e in c)if(c[e]!==r[e])return!1;return!0}var v=function(c){O(r,c);function r(){return c!==null&&c.apply(this,arguments)||this}return r.formats=function(e){if(e.tagName!==r.tagName)return c.formats.call(this,e)},r.prototype.format=function(e,t){var u=this;e===this.statics.blotName&&!t?(this.children.forEach(function(a){a instanceof g.default||(a=a.wrap(r.blotName,!0)),u.attributes.copy(a)}),this.unwrap()):c.prototype.format.call(this,e,t)},r.prototype.formatAt=function(e,t,u,a){if(this.formats()[u]!=null||b.query(u,b.Scope.ATTRIBUTE)){var l=this.isolate(e,t);l.format(u,a)}else c.prototype.formatAt.call(this,e,t,u,a)},r.prototype.optimize=function(e){c.prototype.optimize.call(this,e);var t=this.formats();if(Object.keys(t).length===0)return this.unwrap();var u=this.next;u instanceof r&&u.prev===this&&y(t,u.formats())&&(u.moveChildren(this),u.remove())},r.blotName="inline",r.scope=b.Scope.INLINE_BLOT,r.tagName="SPAN",r}(g.default);f.default=v},function(E,f,s){var O=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,r){c.__proto__=r}||function(c,r){for(var e in r)r.hasOwnProperty(e)&&(c[e]=r[e])};return function(c,r){v(c,r);function e(){this.constructor=c}c.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}();Object.defineProperty(f,"__esModule",{value:!0});var g=s(18),b=s(1),y=function(v){O(c,v);function c(){return v!==null&&v.apply(this,arguments)||this}return c.formats=function(r){var e=b.query(c.blotName).tagName;if(r.tagName!==e)return v.formats.call(this,r)},c.prototype.format=function(r,e){b.query(r,b.Scope.BLOCK)!=null&&(r===this.statics.blotName&&!e?this.replaceWith(c.blotName):v.prototype.format.call(this,r,e))},c.prototype.formatAt=function(r,e,t,u){b.query(t,b.Scope.BLOCK)!=null?this.format(t,u):v.prototype.formatAt.call(this,r,e,t,u)},c.prototype.insertAt=function(r,e,t){if(t==null||b.query(e,b.Scope.INLINE)!=null)v.prototype.insertAt.call(this,r,e,t);else{var u=this.split(r),a=b.create(e,t);u.parent.insertBefore(a,u)}},c.prototype.update=function(r,e){navigator.userAgent.match(/Trident/)?this.build():v.prototype.update.call(this,r,e)},c.blotName="block",c.scope=b.Scope.BLOCK_BLOT,c.tagName="P",c}(g.default);f.default=y},function(E,f,s){var O=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,c){v.__proto__=c}||function(v,c){for(var r in c)c.hasOwnProperty(r)&&(v[r]=c[r])};return function(v,c){y(v,c);function r(){this.constructor=v}v.prototype=c===null?Object.create(c):(r.prototype=c.prototype,new r)}}();Object.defineProperty(f,"__esModule",{value:!0});var g=s(19),b=function(y){O(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.formats=function(c){},v.prototype.format=function(c,r){y.prototype.formatAt.call(this,0,this.length(),c,r)},v.prototype.formatAt=function(c,r,e,t){c===0&&r===this.length()?this.format(e,t):y.prototype.formatAt.call(this,c,r,e,t)},v.prototype.formats=function(){return this.statics.formats(this.domNode)},v}(g.default);f.default=b},function(E,f,s){var O=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,r){c.__proto__=r}||function(c,r){for(var e in r)r.hasOwnProperty(e)&&(c[e]=r[e])};return function(c,r){v(c,r);function e(){this.constructor=c}c.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}();Object.defineProperty(f,"__esModule",{value:!0});var g=s(19),b=s(1),y=function(v){O(c,v);function c(r){var e=v.call(this,r)||this;return e.text=e.statics.value(e.domNode),e}return c.create=function(r){return document.createTextNode(r)},c.value=function(r){var e=r.data;return e.normalize&&(e=e.normalize()),e},c.prototype.deleteAt=function(r,e){this.domNode.data=this.text=this.text.slice(0,r)+this.text.slice(r+e)},c.prototype.index=function(r,e){return this.domNode===r?e:-1},c.prototype.insertAt=function(r,e,t){t==null?(this.text=this.text.slice(0,r)+e+this.text.slice(r),this.domNode.data=this.text):v.prototype.insertAt.call(this,r,e,t)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(r){v.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(r,e){return[this.domNode,r]},c.prototype.split=function(r,e){if(e===void 0&&(e=!1),!e){if(r===0)return this;if(r===this.length())return this.next}var t=b.create(this.domNode.splitText(r));return this.parent.insertBefore(t,this.next),this.text=this.statics.value(this.domNode),t},c.prototype.update=function(r,e){var t=this;r.some(function(u){return u.type==="characterData"&&u.target===t.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=b.Scope.INLINE_BLOT,c}(g.default);f.default=y},function(E,f,s){var O=document.createElement("div");if(O.classList.toggle("test-class",!1),O.classList.contains("test-class")){var g=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(b,y){return arguments.length>1&&!this.contains(b)==!y?y:g.call(this,b)}}String.prototype.startsWith||(String.prototype.startsWith=function(b,y){return y=y||0,this.substr(y,b.length)===b}),String.prototype.endsWith||(String.prototype.endsWith=function(b,y){var v=this.toString();(typeof y!="number"||!isFinite(y)||Math.floor(y)!==y||y>v.length)&&(y=v.length),y-=b.length;var c=v.indexOf(b,y);return c!==-1&&c===y}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(y){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof y!="function")throw new TypeError("predicate must be a function");for(var v=Object(this),c=v.length>>>0,r=arguments[1],e,t=0;t<c;t++)if(e=v[t],y.call(r,e,t,v))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(E,f){var s=-1,O=1,g=0;function b(n,d,w){if(n==d)return n?[[g,n]]:[];(w<0||n.length<w)&&(w=null);var A=r(n,d),T=n.substring(0,A);n=n.substring(A),d=d.substring(A),A=e(n,d);var k=n.substring(n.length-A);n=n.substring(0,n.length-A),d=d.substring(0,d.length-A);var m=y(n,d);return T&&m.unshift([g,T]),k&&m.push([g,k]),u(m),w!=null&&(m=i(m,w)),m=o(m),m}function y(n,d){var w;if(!n)return[[O,d]];if(!d)return[[s,n]];var A=n.length>d.length?n:d,T=n.length>d.length?d:n,k=A.indexOf(T);if(k!=-1)return w=[[O,A.substring(0,k)],[g,T],[O,A.substring(k+T.length)]],n.length>d.length&&(w[0][0]=w[2][0]=s),w;if(T.length==1)return[[s,n],[O,d]];var m=t(n,d);if(m){var p=m[0],_=m[1],x=m[2],q=m[3],I=m[4],F=b(p,x),K=b(_,q);return F.concat([[g,I]],K)}return v(n,d)}function v(n,d){for(var w=n.length,A=d.length,T=Math.ceil((w+A)/2),k=T,m=2*T,p=new Array(m),_=new Array(m),x=0;x<m;x++)p[x]=-1,_[x]=-1;p[k+1]=0,_[k+1]=0;for(var q=w-A,I=q%2!=0,F=0,K=0,Z=0,D=0,C=0;C<T;C++){for(var N=-C+F;N<=C-K;N+=2){var j=k+N,M;N==-C||N!=C&&p[j-1]<p[j+1]?M=p[j+1]:M=p[j-1]+1;for(var H=M-N;M<w&&H<A&&n.charAt(M)==d.charAt(H);)M++,H++;if(p[j]=M,M>w)K+=2;else if(H>A)F+=2;else if(I){var U=k+q-N;if(U>=0&&U<m&&_[U]!=-1){var P=w-_[U];if(M>=P)return c(n,d,M,H)}}}for(var L=-C+Z;L<=C-D;L+=2){var U=k+L,P;L==-C||L!=C&&_[U-1]<_[U+1]?P=_[U+1]:P=_[U-1]+1;for(var B=P-L;P<w&&B<A&&n.charAt(w-P-1)==d.charAt(A-B-1);)P++,B++;if(_[U]=P,P>w)D+=2;else if(B>A)Z+=2;else if(!I){var j=k+q-L;if(j>=0&&j<m&&p[j]!=-1){var M=p[j],H=k+M-j;if(P=w-P,M>=P)return c(n,d,M,H)}}}}return[[s,n],[O,d]]}function c(n,d,w,A){var T=n.substring(0,w),k=d.substring(0,A),m=n.substring(w),p=d.substring(A),_=b(T,k),x=b(m,p);return _.concat(x)}function r(n,d){if(!n||!d||n.charAt(0)!=d.charAt(0))return 0;for(var w=0,A=Math.min(n.length,d.length),T=A,k=0;w<T;)n.substring(k,T)==d.substring(k,T)?(w=T,k=w):A=T,T=Math.floor((A-w)/2+w);return T}function e(n,d){if(!n||!d||n.charAt(n.length-1)!=d.charAt(d.length-1))return 0;for(var w=0,A=Math.min(n.length,d.length),T=A,k=0;w<T;)n.substring(n.length-T,n.length-k)==d.substring(d.length-T,d.length-k)?(w=T,k=w):A=T,T=Math.floor((A-w)/2+w);return T}function t(n,d){var w=n.length>d.length?n:d,A=n.length>d.length?d:n;if(w.length<4||A.length*2<w.length)return null;function T(K,Z,D){for(var C=K.substring(D,D+Math.floor(K.length/4)),N=-1,j="",M,H,U,P;(N=Z.indexOf(C,N+1))!=-1;){var L=r(K.substring(D),Z.substring(N)),B=e(K.substring(0,D),Z.substring(0,N));j.length<B+L&&(j=Z.substring(N-B,N)+Z.substring(N,N+L),M=K.substring(0,D-B),H=K.substring(D+L),U=Z.substring(0,N-B),P=Z.substring(N+L))}return j.length*2>=K.length?[M,H,U,P,j]:null}var k=T(w,A,Math.ceil(w.length/4)),m=T(w,A,Math.ceil(w.length/2)),p;if(!k&&!m)return null;m?k?p=k[4].length>m[4].length?k:m:p=m:p=k;var _,x,q,I;n.length>d.length?(_=p[0],x=p[1],q=p[2],I=p[3]):(q=p[0],I=p[1],_=p[2],x=p[3]);var F=p[4];return[_,x,q,I,F]}function u(n){n.push([g,""]);for(var d=0,w=0,A=0,T="",k="",m;d<n.length;)switch(n[d][0]){case O:A++,k+=n[d][1],d++;break;case s:w++,T+=n[d][1],d++;break;case g:w+A>1?(w!==0&&A!==0&&(m=r(k,T),m!==0&&(d-w-A>0&&n[d-w-A-1][0]==g?n[d-w-A-1][1]+=k.substring(0,m):(n.splice(0,0,[g,k.substring(0,m)]),d++),k=k.substring(m),T=T.substring(m)),m=e(k,T),m!==0&&(n[d][1]=k.substring(k.length-m)+n[d][1],k=k.substring(0,k.length-m),T=T.substring(0,T.length-m))),w===0?n.splice(d-A,w+A,[O,k]):A===0?n.splice(d-w,w+A,[s,T]):n.splice(d-w-A,w+A,[s,T],[O,k]),d=d-w-A+(w?1:0)+(A?1:0)+1):d!==0&&n[d-1][0]==g?(n[d-1][1]+=n[d][1],n.splice(d,1)):d++,A=0,w=0,T="",k="";break}n[n.length-1][1]===""&&n.pop();var p=!1;for(d=1;d<n.length-1;)n[d-1][0]==g&&n[d+1][0]==g&&(n[d][1].substring(n[d][1].length-n[d-1][1].length)==n[d-1][1]?(n[d][1]=n[d-1][1]+n[d][1].substring(0,n[d][1].length-n[d-1][1].length),n[d+1][1]=n[d-1][1]+n[d+1][1],n.splice(d-1,1),p=!0):n[d][1].substring(0,n[d+1][1].length)==n[d+1][1]&&(n[d-1][1]+=n[d+1][1],n[d][1]=n[d][1].substring(n[d+1][1].length)+n[d+1][1],n.splice(d+1,1),p=!0)),d++;p&&u(n)}var a=b;a.INSERT=O,a.DELETE=s,a.EQUAL=g,E.exports=a;function l(n,d){if(d===0)return[g,n];for(var w=0,A=0;A<n.length;A++){var T=n[A];if(T[0]===s||T[0]===g){var k=w+T[1].length;if(d===k)return[A+1,n];if(d<k){n=n.slice();var m=d-w,p=[T[0],T[1].slice(0,m)],_=[T[0],T[1].slice(m)];return n.splice(A,1,p,_),[A+1,n]}else w=k}}throw new Error("cursor_pos is out of bounds!")}function i(n,d){var w=l(n,d),A=w[1],T=w[0],k=A[T],m=A[T+1];if(k==null)return n;if(k[0]!==g)return n;if(m!=null&&k[1]+m[1]===m[1]+k[1])return A.splice(T,2,m,k),h(A,T,2);if(m!=null&&m[1].indexOf(k[1])===0){A.splice(T,2,[m[0],k[1]],[0,k[1]]);var p=m[1].slice(k[1].length);return p.length>0&&A.splice(T+2,0,[m[0],p]),h(A,T,3)}else return n}function o(n){for(var d=!1,w=function(m){return m.charCodeAt(0)>=56320&&m.charCodeAt(0)<=57343},A=function(m){return m.charCodeAt(m.length-1)>=55296&&m.charCodeAt(m.length-1)<=56319},T=2;T<n.length;T+=1)n[T-2][0]===g&&A(n[T-2][1])&&n[T-1][0]===s&&w(n[T-1][1])&&n[T][0]===O&&w(n[T][1])&&(d=!0,n[T-1][1]=n[T-2][1].slice(-1)+n[T-1][1],n[T][1]=n[T-2][1].slice(-1)+n[T][1],n[T-2][1]=n[T-2][1].slice(0,-1));if(!d)return n;for(var k=[],T=0;T<n.length;T+=1)n[T][1].length>0&&k.push(n[T]);return k}function h(n,d,w){for(var A=d+w-1;A>=0&&A>=d-1;A--)if(A+1<n.length){var T=n[A],k=n[A+1];T[0]===k[1]&&n.splice(A,2,[T[0],T[1]+k[1]])}return n}},function(E,f){f=E.exports=typeof Object.keys=="function"?Object.keys:s,f.shim=s;function s(O){var g=[];for(var b in O)g.push(b);return g}},function(E,f){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";f=E.exports=s?O:g,f.supported=O;function O(b){return Object.prototype.toString.call(b)=="[object Arguments]"}f.unsupported=g;function g(b){return b&&typeof b=="object"&&typeof b.length=="number"&&Object.prototype.hasOwnProperty.call(b,"callee")&&!Object.prototype.propertyIsEnumerable.call(b,"callee")||!1}},function(E,f){var s=Object.prototype.hasOwnProperty,O="~";function g(){}Object.create&&(g.prototype=Object.create(null),new g().__proto__||(O=!1));function b(v,c,r){this.fn=v,this.context=c,this.once=r||!1}function y(){this._events=new g,this._eventsCount=0}y.prototype.eventNames=function(){var c=[],r,e;if(this._eventsCount===0)return c;for(e in r=this._events)s.call(r,e)&&c.push(O?e.slice(1):e);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(r)):c},y.prototype.listeners=function(c,r){var e=O?O+c:c,t=this._events[e];if(r)return!!t;if(!t)return[];if(t.fn)return[t.fn];for(var u=0,a=t.length,l=new Array(a);u<a;u++)l[u]=t[u].fn;return l},y.prototype.emit=function(c,r,e,t,u,a){var l=O?O+c:c;if(!this._events[l])return!1;var i=this._events[l],o=arguments.length,h,n;if(i.fn){switch(i.once&&this.removeListener(c,i.fn,void 0,!0),o){case 1:return i.fn.call(i.context),!0;case 2:return i.fn.call(i.context,r),!0;case 3:return i.fn.call(i.context,r,e),!0;case 4:return i.fn.call(i.context,r,e,t),!0;case 5:return i.fn.call(i.context,r,e,t,u),!0;case 6:return i.fn.call(i.context,r,e,t,u,a),!0}for(n=1,h=new Array(o-1);n<o;n++)h[n-1]=arguments[n];i.fn.apply(i.context,h)}else{var d=i.length,w;for(n=0;n<d;n++)switch(i[n].once&&this.removeListener(c,i[n].fn,void 0,!0),o){case 1:i[n].fn.call(i[n].context);break;case 2:i[n].fn.call(i[n].context,r);break;case 3:i[n].fn.call(i[n].context,r,e);break;case 4:i[n].fn.call(i[n].context,r,e,t);break;default:if(!h)for(w=1,h=new Array(o-1);w<o;w++)h[w-1]=arguments[w];i[n].fn.apply(i[n].context,h)}}return!0},y.prototype.on=function(c,r,e){var t=new b(r,e||this),u=O?O+c:c;return this._events[u]?this._events[u].fn?this._events[u]=[this._events[u],t]:this._events[u].push(t):(this._events[u]=t,this._eventsCount++),this},y.prototype.once=function(c,r,e){var t=new b(r,e||this,!0),u=O?O+c:c;return this._events[u]?this._events[u].fn?this._events[u]=[this._events[u],t]:this._events[u].push(t):(this._events[u]=t,this._eventsCount++),this},y.prototype.removeListener=function(c,r,e,t){var u=O?O+c:c;if(!this._events[u])return this;if(!r)return--this._eventsCount===0?this._events=new g:delete this._events[u],this;var a=this._events[u];if(a.fn)a.fn===r&&(!t||a.once)&&(!e||a.context===e)&&(--this._eventsCount===0?this._events=new g:delete this._events[u]);else{for(var l=0,i=[],o=a.length;l<o;l++)(a[l].fn!==r||t&&!a[l].once||e&&a[l].context!==e)&&i.push(a[l]);i.length?this._events[u]=i.length===1?i[0]:i:--this._eventsCount===0?this._events=new g:delete this._events[u]}return this},y.prototype.removeAllListeners=function(c){var r;return c?(r=O?O+c:c,this._events[r]&&(--this._eventsCount===0?this._events=new g:delete this._events[r])):(this._events=new g,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prototype.setMaxListeners=function(){return this},y.prefixed=O,y.EventEmitter=y,typeof E<"u"&&(E.exports=y)},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.matchText=f.matchSpacing=f.matchNewline=f.matchBlot=f.matchAttributor=f.default=void 0;var O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},g=function(){function V(W,X){var Q=[],$=!0,ie=!1,ae=void 0;try{for(var oe=W[Symbol.iterator](),ve;!($=(ve=oe.next()).done)&&(Q.push(ve.value),!(X&&Q.length===X));$=!0);}catch(pe){ie=!0,ae=pe}finally{try{!$&&oe.return&&oe.return()}finally{if(ie)throw ae}}return Q}return function(W,X){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return V(W,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(){function V(W,X){for(var Q=0;Q<X.length;Q++){var $=X[Q];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(W,$.key,$)}}return function(W,X,Q){return X&&V(W.prototype,X),Q&&V(W,Q),W}}(),y=s(3),v=_(y),c=s(2),r=_(c),e=s(0),t=_(e),u=s(5),a=_(u),l=s(10),i=_(l),o=s(9),h=_(o),n=s(36),d=s(37),w=s(13),A=_(w),T=s(26),k=s(38),m=s(39),p=s(40);function _(V){return V&&V.__esModule?V:{default:V}}function x(V,W,X){return W in V?Object.defineProperty(V,W,{value:X,enumerable:!0,configurable:!0,writable:!0}):V[W]=X,V}function q(V,W){if(!(V instanceof W))throw new TypeError("Cannot call a class as a function")}function I(V,W){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:V}function F(V,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);V.prototype=Object.create(W&&W.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(V,W):V.__proto__=W)}var K=(0,i.default)("quill:clipboard"),Z="__ql-matcher",D=[[Node.TEXT_NODE,fe],[Node.TEXT_NODE,le],["br",J],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,z],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,he],["li",ne],["b",B.bind(B,"bold")],["i",B.bind(B,"italic")],["style",re]],C=[n.AlignAttribute,k.DirectionAttribute].reduce(function(V,W){return V[W.keyName]=W,V},{}),N=[n.AlignStyle,d.BackgroundStyle,T.ColorStyle,k.DirectionStyle,m.FontStyle,p.SizeStyle].reduce(function(V,W){return V[W.keyName]=W,V},{}),j=function(V){F(W,V);function W(X,Q){q(this,W);var $=I(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,X,Q));return $.quill.root.addEventListener("paste",$.onPaste.bind($)),$.container=$.quill.addContainer("ql-clipboard"),$.container.setAttribute("contenteditable",!0),$.container.setAttribute("tabindex",-1),$.matchers=[],D.concat($.options.matchers).forEach(function(ie){var ae=g(ie,2),oe=ae[0],ve=ae[1];!Q.matchVisual&&ve===ue||$.addMatcher(oe,ve)}),$}return b(W,[{key:"addMatcher",value:function(Q,$){this.matchers.push([Q,$])}},{key:"convert",value:function(Q){if(typeof Q=="string")return this.container.innerHTML=Q.replace(/\>\r?\n +\</g,"><"),this.convert();var $=this.quill.getFormat(this.quill.selection.savedRange.index);if($[A.default.blotName]){var ie=this.container.innerText;return this.container.innerHTML="",new r.default().insert(ie,x({},A.default.blotName,$[A.default.blotName]))}var ae=this.prepareMatching(),oe=g(ae,2),ve=oe[0],pe=oe[1],se=L(this.container,ve,pe);return U(se,`
`)&&se.ops[se.ops.length-1].attributes==null&&(se=se.compose(new r.default().retain(se.length()-1).delete(1))),K.log("convert",this.container.innerHTML,se),this.container.innerHTML="",se}},{key:"dangerouslyPasteHTML",value:function(Q,$){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.default.sources.API;if(typeof Q=="string")this.quill.setContents(this.convert(Q),$),this.quill.setSelection(0,a.default.sources.SILENT);else{var ae=this.convert($);this.quill.updateContents(new r.default().retain(Q).concat(ae),ie),this.quill.setSelection(Q+ae.length(),a.default.sources.SILENT)}}},{key:"onPaste",value:function(Q){var $=this;if(!(Q.defaultPrevented||!this.quill.isEnabled())){var ie=this.quill.getSelection(),ae=new r.default().retain(ie.index),oe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(a.default.sources.SILENT),setTimeout(function(){ae=ae.concat($.convert()).delete(ie.length),$.quill.updateContents(ae,a.default.sources.USER),$.quill.setSelection(ae.length()-ie.length,a.default.sources.SILENT),$.quill.scrollingContainer.scrollTop=oe,$.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Q=this,$=[],ie=[];return this.matchers.forEach(function(ae){var oe=g(ae,2),ve=oe[0],pe=oe[1];switch(ve){case Node.TEXT_NODE:ie.push(pe);break;case Node.ELEMENT_NODE:$.push(pe);break;default:[].forEach.call(Q.container.querySelectorAll(ve),function(se){se[Z]=se[Z]||[],se[Z].push(pe)});break}}),[$,ie]}}]),W}(h.default);j.DEFAULTS={matchers:[],matchVisual:!0};function M(V,W,X){return(typeof W>"u"?"undefined":O(W))==="object"?Object.keys(W).reduce(function(Q,$){return M(Q,$,W[$])},V):V.reduce(function(Q,$){return $.attributes&&$.attributes[W]?Q.push($):Q.insert($.insert,(0,v.default)({},x({},W,X),$.attributes))},new r.default)}function H(V){if(V.nodeType!==Node.ELEMENT_NODE)return{};var W="__ql-computed-style";return V[W]||(V[W]=window.getComputedStyle(V))}function U(V,W){for(var X="",Q=V.ops.length-1;Q>=0&&X.length<W.length;--Q){var $=V.ops[Q];if(typeof $.insert!="string")break;X=$.insert+X}return X.slice(-1*W.length)===W}function P(V){if(V.childNodes.length===0)return!1;var W=H(V);return["block","list-item"].indexOf(W.display)>-1}function L(V,W,X){return V.nodeType===V.TEXT_NODE?X.reduce(function(Q,$){return $(V,Q)},new r.default):V.nodeType===V.ELEMENT_NODE?[].reduce.call(V.childNodes||[],function(Q,$){var ie=L($,W,X);return $.nodeType===V.ELEMENT_NODE&&(ie=W.reduce(function(ae,oe){return oe($,ae)},ie),ie=($[Z]||[]).reduce(function(ae,oe){return oe($,ae)},ie)),Q.concat(ie)},new r.default):new r.default}function B(V,W,X){return M(X,V,!0)}function G(V,W){var X=t.default.Attributor.Attribute.keys(V),Q=t.default.Attributor.Class.keys(V),$=t.default.Attributor.Style.keys(V),ie={};return X.concat(Q).concat($).forEach(function(ae){var oe=t.default.query(ae,t.default.Scope.ATTRIBUTE);oe!=null&&(ie[oe.attrName]=oe.value(V),ie[oe.attrName])||(oe=C[ae],oe!=null&&(oe.attrName===ae||oe.keyName===ae)&&(ie[oe.attrName]=oe.value(V)||void 0),oe=N[ae],oe!=null&&(oe.attrName===ae||oe.keyName===ae)&&(oe=N[ae],ie[oe.attrName]=oe.value(V)||void 0))}),Object.keys(ie).length>0&&(W=M(W,ie)),W}function z(V,W){var X=t.default.query(V);if(X==null)return W;if(X.prototype instanceof t.default.Embed){var Q={},$=X.value(V);$!=null&&(Q[X.blotName]=$,W=new r.default().insert(Q,X.formats(V)))}else typeof X.formats=="function"&&(W=M(W,X.blotName,X.formats(V)));return W}function J(V,W){return U(W,`
`)||W.insert(`
`),W}function re(){return new r.default}function ne(V,W){var X=t.default.query(V);if(X==null||X.blotName!=="list-item"||!U(W,`
`))return W;for(var Q=-1,$=V.parentNode;!$.classList.contains("ql-clipboard");)(t.default.query($)||{}).blotName==="list"&&(Q+=1),$=$.parentNode;return Q<=0?W:W.compose(new r.default().retain(W.length()-1).retain(1,{indent:Q}))}function le(V,W){return U(W,`
`)||(P(V)||W.length()>0&&V.nextSibling&&P(V.nextSibling))&&W.insert(`
`),W}function ue(V,W){if(P(V)&&V.nextElementSibling!=null&&!U(W,`

`)){var X=V.offsetHeight+parseFloat(H(V).marginTop)+parseFloat(H(V).marginBottom);V.nextElementSibling.offsetTop>V.offsetTop+X*1.5&&W.insert(`
`)}return W}function he(V,W){var X={},Q=V.style||{};return Q.fontStyle&&H(V).fontStyle==="italic"&&(X.italic=!0),Q.fontWeight&&(H(V).fontWeight.startsWith("bold")||parseInt(H(V).fontWeight)>=700)&&(X.bold=!0),Object.keys(X).length>0&&(W=M(W,X)),parseFloat(Q.textIndent||0)>0&&(W=new r.default().insert("	").concat(W)),W}function fe(V,W){var X=V.data;if(V.parentNode.tagName==="O:P")return W.insert(X.trim());if(X.trim().length===0&&V.parentNode.classList.contains("ql-clipboard"))return W;if(!H(V.parentNode).whiteSpace.startsWith("pre")){var Q=function(ie,ae){return ae=ae.replace(/[^\u00a0]/g,""),ae.length<1&&ie?" ":ae};X=X.replace(/\r\n/g," ").replace(/\n/g," "),X=X.replace(/\s\s+/g,Q.bind(Q,!0)),(V.previousSibling==null&&P(V.parentNode)||V.previousSibling!=null&&P(V.previousSibling))&&(X=X.replace(/^\s+/,Q.bind(Q,!1))),(V.nextSibling==null&&P(V.parentNode)||V.nextSibling!=null&&P(V.nextSibling))&&(X=X.replace(/\s+$/,Q.bind(Q,!1)))}return W.insert(X)}f.default=j,f.matchAttributor=G,f.matchBlot=z,f.matchNewline=le,f.matchSpacing=ue,f.matchText=fe},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function u(a,l){for(var i=0;i<l.length;i++){var o=l[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,i){return l&&u(a.prototype,l),i&&u(a,i),a}}(),g=function u(a,l,i){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var h=Object.getPrototypeOf(a);return h===null?void 0:u(h,l,i)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(i)}},b=s(6),y=v(b);function v(u){return u&&u.__esModule?u:{default:u}}function c(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function r(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:u}function e(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}var t=function(u){e(a,u);function a(){return c(this,a),r(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return O(a,[{key:"optimize",value:function(i){g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"optimize",this).call(this,i),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return g(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),a}(y.default);t.blotName="bold",t.tagName=["STRONG","B"],f.default=t},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.addControls=f.default=void 0;var O=function(){function p(_,x){var q=[],I=!0,F=!1,K=void 0;try{for(var Z=_[Symbol.iterator](),D;!(I=(D=Z.next()).done)&&(q.push(D.value),!(x&&q.length===x));I=!0);}catch(C){F=!0,K=C}finally{try{!I&&Z.return&&Z.return()}finally{if(F)throw K}}return q}return function(_,x){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return p(_,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function p(_,x){for(var q=0;q<x.length;q++){var I=x[q];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,x,q){return x&&p(_.prototype,x),q&&p(_,q),_}}(),b=s(2),y=i(b),v=s(0),c=i(v),r=s(5),e=i(r),t=s(10),u=i(t),a=s(9),l=i(a);function i(p){return p&&p.__esModule?p:{default:p}}function o(p,_,x){return _ in p?Object.defineProperty(p,_,{value:x,enumerable:!0,configurable:!0,writable:!0}):p[_]=x,p}function h(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function n(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function d(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var w=(0,u.default)("quill:toolbar"),A=function(p){d(_,p);function _(x,q){h(this,_);var I=n(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,x,q));if(Array.isArray(I.options.container)){var F=document.createElement("div");k(F,I.options.container),x.container.parentNode.insertBefore(F,x.container),I.container=F}else typeof I.options.container=="string"?I.container=document.querySelector(I.options.container):I.container=I.options.container;if(!(I.container instanceof HTMLElement)){var K;return K=w.error("Container required for toolbar",I.options),n(I,K)}return I.container.classList.add("ql-toolbar"),I.controls=[],I.handlers={},Object.keys(I.options.handlers).forEach(function(Z){I.addHandler(Z,I.options.handlers[Z])}),[].forEach.call(I.container.querySelectorAll("button, select"),function(Z){I.attach(Z)}),I.quill.on(e.default.events.EDITOR_CHANGE,function(Z,D){Z===e.default.events.SELECTION_CHANGE&&I.update(D)}),I.quill.on(e.default.events.SCROLL_OPTIMIZE,function(){var Z=I.quill.selection.getRange(),D=O(Z,1),C=D[0];I.update(C)}),I}return g(_,[{key:"addHandler",value:function(q,I){this.handlers[q]=I}},{key:"attach",value:function(q){var I=this,F=[].find.call(q.classList,function(Z){return Z.indexOf("ql-")===0});if(F){if(F=F.slice(3),q.tagName==="BUTTON"&&q.setAttribute("type","button"),this.handlers[F]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[F]==null){w.warn("ignoring attaching to disabled format",F,q);return}if(c.default.query(F)==null){w.warn("ignoring attaching to nonexistent format",F,q);return}}var K=q.tagName==="SELECT"?"change":"click";q.addEventListener(K,function(Z){var D=void 0;if(q.tagName==="SELECT"){if(q.selectedIndex<0)return;var C=q.options[q.selectedIndex];C.hasAttribute("selected")?D=!1:D=C.value||!1}else q.classList.contains("ql-active")?D=!1:D=q.value||!q.hasAttribute("value"),Z.preventDefault();I.quill.focus();var N=I.quill.selection.getRange(),j=O(N,1),M=j[0];if(I.handlers[F]!=null)I.handlers[F].call(I,D);else if(c.default.query(F).prototype instanceof c.default.Embed){if(D=prompt("Enter "+F),!D)return;I.quill.updateContents(new y.default().retain(M.index).delete(M.length).insert(o({},F,D)),e.default.sources.USER)}else I.quill.format(F,D,e.default.sources.USER);I.update(M)}),this.controls.push([F,q])}}},{key:"update",value:function(q){var I=q==null?{}:this.quill.getFormat(q);this.controls.forEach(function(F){var K=O(F,2),Z=K[0],D=K[1];if(D.tagName==="SELECT"){var C=void 0;if(q==null)C=null;else if(I[Z]==null)C=D.querySelector("option[selected]");else if(!Array.isArray(I[Z])){var N=I[Z];typeof N=="string"&&(N=N.replace(/\"/g,'\\"')),C=D.querySelector('option[value="'+N+'"]')}C==null?(D.value="",D.selectedIndex=-1):C.selected=!0}else if(q==null)D.classList.remove("ql-active");else if(D.hasAttribute("value")){var j=I[Z]===D.getAttribute("value")||I[Z]!=null&&I[Z].toString()===D.getAttribute("value")||I[Z]==null&&!D.getAttribute("value");D.classList.toggle("ql-active",j)}else D.classList.toggle("ql-active",I[Z]!=null)})}}]),_}(l.default);A.DEFAULTS={};function T(p,_,x){var q=document.createElement("button");q.setAttribute("type","button"),q.classList.add("ql-"+_),x!=null&&(q.value=x),p.appendChild(q)}function k(p,_){Array.isArray(_[0])||(_=[_]),_.forEach(function(x){var q=document.createElement("span");q.classList.add("ql-formats"),x.forEach(function(I){if(typeof I=="string")T(q,I);else{var F=Object.keys(I)[0],K=I[F];Array.isArray(K)?m(q,F,K):T(q,F,K)}}),p.appendChild(q)})}function m(p,_,x){var q=document.createElement("select");q.classList.add("ql-"+_),x.forEach(function(I){var F=document.createElement("option");I!==!1?F.setAttribute("value",I):F.setAttribute("selected","selected"),q.appendChild(F)}),p.appendChild(q)}A.DEFAULTS={container:null,handlers:{clean:function(){var _=this,x=this.quill.getSelection();if(x!=null)if(x.length==0){var q=this.quill.getFormat();Object.keys(q).forEach(function(I){c.default.query(I,c.default.Scope.INLINE)!=null&&_.quill.format(I,!1)})}else this.quill.removeFormat(x,e.default.sources.USER)},direction:function(_){var x=this.quill.getFormat().align;_==="rtl"&&x==null?this.quill.format("align","right",e.default.sources.USER):!_&&x==="right"&&this.quill.format("align",!1,e.default.sources.USER),this.quill.format("direction",_,e.default.sources.USER)},indent:function(_){var x=this.quill.getSelection(),q=this.quill.getFormat(x),I=parseInt(q.indent||0);if(_==="+1"||_==="-1"){var F=_==="+1"?1:-1;q.direction==="rtl"&&(F*=-1),this.quill.format("indent",I+F,e.default.sources.USER)}},link:function(_){_===!0&&(_=prompt("Enter link URL:")),this.quill.format("link",_,e.default.sources.USER)},list:function(_){var x=this.quill.getSelection(),q=this.quill.getFormat(x);_==="check"?q.list==="checked"||q.list==="unchecked"?this.quill.format("list",!1,e.default.sources.USER):this.quill.format("list","unchecked",e.default.sources.USER):this.quill.format("list",_,e.default.sources.USER)}}},f.default=A,f.addControls=k},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function u(a,l){for(var i=0;i<l.length;i++){var o=l[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,i){return l&&u(a.prototype,l),i&&u(a,i),a}}(),g=function u(a,l,i){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var h=Object.getPrototypeOf(a);return h===null?void 0:u(h,l,i)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(i)}},b=s(28),y=v(b);function v(u){return u&&u.__esModule?u:{default:u}}function c(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function r(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:u}function e(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}var t=function(u){e(a,u);function a(l,i){c(this,a);var o=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return o.label.innerHTML=i,o.container.classList.add("ql-color-picker"),[].slice.call(o.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(h){h.classList.add("ql-primary")}),o}return O(a,[{key:"buildItem",value:function(i){var o=g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"buildItem",this).call(this,i);return o.style.backgroundColor=i.getAttribute("value")||"",o}},{key:"selectItem",value:function(i,o){g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"selectItem",this).call(this,i,o);var h=this.label.querySelector(".ql-color-label"),n=i&&i.getAttribute("data-value")||"";h&&(h.tagName==="line"?h.style.stroke=n:h.style.fill=n)}}]),a}(y.default);f.default=t},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function u(a,l){for(var i=0;i<l.length;i++){var o=l[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,i){return l&&u(a.prototype,l),i&&u(a,i),a}}(),g=function u(a,l,i){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var h=Object.getPrototypeOf(a);return h===null?void 0:u(h,l,i)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(i)}},b=s(28),y=v(b);function v(u){return u&&u.__esModule?u:{default:u}}function c(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function r(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:u}function e(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}var t=function(u){e(a,u);function a(l,i){c(this,a);var o=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return o.container.classList.add("ql-icon-picker"),[].forEach.call(o.container.querySelectorAll(".ql-picker-item"),function(h){h.innerHTML=i[h.getAttribute("data-value")||""]}),o.defaultItem=o.container.querySelector(".ql-selected"),o.selectItem(o.defaultItem),o}return O(a,[{key:"selectItem",value:function(i,o){g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"selectItem",this).call(this,i,o),i=i||this.defaultItem,this.label.innerHTML=i.innerHTML}}]),a}(y.default);f.default=t},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function y(v,c){for(var r=0;r<c.length;r++){var e=c[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(v,e.key,e)}}return function(v,c,r){return c&&y(v.prototype,c),r&&y(v,r),v}}();function g(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}var b=function(){function y(v,c){var r=this;g(this,y),this.quill=v,this.boundsContainer=c||document.body,this.root=v.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"}),this.hide()}return O(y,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var r=c.left+c.width/2-this.root.offsetWidth/2,e=c.bottom+this.quill.root.scrollTop;this.root.style.left=r+"px",this.root.style.top=e+"px",this.root.classList.remove("ql-flip");var t=this.boundsContainer.getBoundingClientRect(),u=this.root.getBoundingClientRect(),a=0;if(u.right>t.right&&(a=t.right-u.right,this.root.style.left=r+a+"px"),u.left<t.left&&(a=t.left-u.left,this.root.style.left=r+a+"px"),u.bottom>t.bottom){var l=u.bottom-u.top,i=c.bottom-c.top+l;this.root.style.top=e-i+"px",this.root.classList.add("ql-flip")}return a}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),y}();f.default=b},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function m(p,_){var x=[],q=!0,I=!1,F=void 0;try{for(var K=p[Symbol.iterator](),Z;!(q=(Z=K.next()).done)&&(x.push(Z.value),!(_&&x.length===_));q=!0);}catch(D){I=!0,F=D}finally{try{!q&&K.return&&K.return()}finally{if(I)throw F}}return x}return function(p,_){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return m(p,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function m(p,_,x){p===null&&(p=Function.prototype);var q=Object.getOwnPropertyDescriptor(p,_);if(q===void 0){var I=Object.getPrototypeOf(p);return I===null?void 0:m(I,_,x)}else{if("value"in q)return q.value;var F=q.get;return F===void 0?void 0:F.call(x)}},b=function(){function m(p,_){for(var x=0;x<_.length;x++){var q=_[x];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(p,q.key,q)}}return function(p,_,x){return _&&m(p.prototype,_),x&&m(p,x),p}}(),y=s(3),v=h(y),c=s(8),r=h(c),e=s(43),t=h(e),u=s(27),a=h(u),l=s(15),i=s(41),o=h(i);function h(m){return m&&m.__esModule?m:{default:m}}function n(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function d(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function w(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],T=function(m){w(p,m);function p(_,x){n(this,p),x.modules.toolbar!=null&&x.modules.toolbar.container==null&&(x.modules.toolbar.container=A);var q=d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,_,x));return q.quill.container.classList.add("ql-snow"),q}return b(p,[{key:"extendToolbar",value:function(x){x.container.classList.add("ql-snow"),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),o.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),o.default),this.tooltip=new k(this.quill,this.options.bounds),x.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(q,I){x.handlers.link.call(x,!I.format.link)})}}]),p}(t.default);T.DEFAULTS=(0,v.default)(!0,{},t.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(p){if(p){var _=this.quill.getSelection();if(_==null||_.length==0)return;var x=this.quill.getText(_);/^\S+@\S+\.\S+$/.test(x)&&x.indexOf("mailto:")!==0&&(x="mailto:"+x);var q=this.quill.theme.tooltip;q.edit("link",x)}else this.quill.format("link",!1)}}}}});var k=function(m){w(p,m);function p(_,x){n(this,p);var q=d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,_,x));return q.preview=q.root.querySelector("a.ql-preview"),q}return b(p,[{key:"listen",value:function(){var x=this;g(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(q){x.root.classList.contains("ql-editing")?x.save():x.edit("link",x.preview.textContent),q.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(q){if(x.linkRange!=null){var I=x.linkRange;x.restoreFocus(),x.quill.formatText(I,"link",!1,r.default.sources.USER),delete x.linkRange}q.preventDefault(),x.hide()}),this.quill.on(r.default.events.SELECTION_CHANGE,function(q,I,F){if(q!=null){if(q.length===0&&F===r.default.sources.USER){var K=x.quill.scroll.descendant(a.default,q.index),Z=O(K,2),D=Z[0],C=Z[1];if(D!=null){x.linkRange=new l.Range(q.index-C,D.length());var N=a.default.formats(D.domNode);x.preview.textContent=N,x.preview.setAttribute("href",N),x.show(),x.position(x.quill.getBounds(x.linkRange));return}}else delete x.linkRange;x.hide()}})}},{key:"show",value:function(){g(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),p}(e.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),f.default=T},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=s(29),g=$(O),b=s(36),y=s(38),v=s(64),c=s(65),r=$(c),e=s(66),t=$(e),u=s(67),a=$(u),l=s(37),i=s(26),o=s(39),h=s(40),n=s(56),d=$(n),w=s(68),A=$(w),T=s(27),k=$(T),m=s(69),p=$(m),_=s(70),x=$(_),q=s(71),I=$(q),F=s(72),K=$(F),Z=s(73),D=$(Z),C=s(13),N=$(C),j=s(74),M=$(j),H=s(75),U=$(H),P=s(57),L=$(P),B=s(41),G=$(B),z=s(28),J=$(z),re=s(59),ne=$(re),le=s(60),ue=$(le),he=s(61),fe=$(he),V=s(108),W=$(V),X=s(62),Q=$(X);function $(ie){return ie&&ie.__esModule?ie:{default:ie}}g.default.register({"attributors/attribute/direction":y.DirectionAttribute,"attributors/class/align":b.AlignClass,"attributors/class/background":l.BackgroundClass,"attributors/class/color":i.ColorClass,"attributors/class/direction":y.DirectionClass,"attributors/class/font":o.FontClass,"attributors/class/size":h.SizeClass,"attributors/style/align":b.AlignStyle,"attributors/style/background":l.BackgroundStyle,"attributors/style/color":i.ColorStyle,"attributors/style/direction":y.DirectionStyle,"attributors/style/font":o.FontStyle,"attributors/style/size":h.SizeStyle},!0),g.default.register({"formats/align":b.AlignClass,"formats/direction":y.DirectionClass,"formats/indent":v.IndentClass,"formats/background":l.BackgroundStyle,"formats/color":i.ColorStyle,"formats/font":o.FontClass,"formats/size":h.SizeClass,"formats/blockquote":r.default,"formats/code-block":N.default,"formats/header":t.default,"formats/list":a.default,"formats/bold":d.default,"formats/code":C.Code,"formats/italic":A.default,"formats/link":k.default,"formats/script":p.default,"formats/strike":x.default,"formats/underline":I.default,"formats/image":K.default,"formats/video":D.default,"formats/list/item":u.ListItem,"modules/formula":M.default,"modules/syntax":U.default,"modules/toolbar":L.default,"themes/bubble":W.default,"themes/snow":Q.default,"ui/icons":G.default,"ui/picker":J.default,"ui/icon-picker":ue.default,"ui/color-picker":ne.default,"ui/tooltip":fe.default},!0),f.default=g.default},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.IndentClass=void 0;var O=function(){function a(l,i){for(var o=0;o<i.length;o++){var h=i[o];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,i,o){return i&&a(l.prototype,i),o&&a(l,o),l}}(),g=function a(l,i,o){l===null&&(l=Function.prototype);var h=Object.getOwnPropertyDescriptor(l,i);if(h===void 0){var n=Object.getPrototypeOf(l);return n===null?void 0:a(n,i,o)}else{if("value"in h)return h.value;var d=h.get;return d===void 0?void 0:d.call(o)}},b=s(0),y=v(b);function v(a){return a&&a.__esModule?a:{default:a}}function c(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function r(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:a}function e(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}var t=function(a){e(l,a);function l(){return c(this,l),r(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return O(l,[{key:"add",value:function(o,h){if(h==="+1"||h==="-1"){var n=this.value(o)||0;h=h==="+1"?n+1:n-1}return h===0?(this.remove(o),!0):g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"add",this).call(this,o,h)}},{key:"canAdd",value:function(o,h){return g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,o,h)||g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,o,parseInt(h))}},{key:"value",value:function(o){return parseInt(g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"value",this).call(this,o))||void 0}}]),l}(y.default.Attributor.Class),u=new t("indent","ql-indent",{scope:y.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});f.IndentClass=u},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=s(4),g=b(O);function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(e){c(t,e);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(g.default);r.blotName="blockquote",r.tagName="blockquote",f.default=r},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function t(u,a){for(var l=0;l<a.length;l++){var i=a[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(u,i.key,i)}}return function(u,a,l){return a&&t(u.prototype,a),l&&t(u,l),u}}(),g=s(4),b=y(g);function y(t){return t&&t.__esModule?t:{default:t}}function v(t,u){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}function c(t,u){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:t}function r(t,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);t.prototype=Object.create(u&&u.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(t,u):t.__proto__=u)}var e=function(t){r(u,t);function u(){return v(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return O(u,null,[{key:"formats",value:function(l){return this.tagName.indexOf(l.tagName)+1}}]),u}(b.default);e.blotName="header",e.tagName=["H1","H2","H3","H4","H5","H6"],f.default=e},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.ListItem=void 0;var O=function(){function n(d,w){for(var A=0;A<w.length;A++){var T=w[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}return function(d,w,A){return w&&n(d.prototype,w),A&&n(d,A),d}}(),g=function n(d,w,A){d===null&&(d=Function.prototype);var T=Object.getOwnPropertyDescriptor(d,w);if(T===void 0){var k=Object.getPrototypeOf(d);return k===null?void 0:n(k,w,A)}else{if("value"in T)return T.value;var m=T.get;return m===void 0?void 0:m.call(A)}},b=s(0),y=t(b),v=s(4),c=t(v),r=s(25),e=t(r);function t(n){return n&&n.__esModule?n:{default:n}}function u(n,d,w){return d in n?Object.defineProperty(n,d,{value:w,enumerable:!0,configurable:!0,writable:!0}):n[d]=w,n}function a(n,d){if(!(n instanceof d))throw new TypeError("Cannot call a class as a function")}function l(n,d){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:n}function i(n,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);n.prototype=Object.create(d&&d.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(n,d):n.__proto__=d)}var o=function(n){i(d,n);function d(){return a(this,d),l(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return O(d,[{key:"format",value:function(A,T){A===h.blotName&&!T?this.replaceWith(y.default.create(this.statics.scope)):g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,A,T)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(A,T){return this.parent.isolate(this.offset(this.parent),this.length()),A===this.parent.statics.blotName?(this.parent.replaceWith(A,T),this):(this.parent.unwrap(),g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"replaceWith",this).call(this,A,T))}}],[{key:"formats",value:function(A){return A.tagName===this.tagName?void 0:g(d.__proto__||Object.getPrototypeOf(d),"formats",this).call(this,A)}}]),d}(c.default);o.blotName="list-item",o.tagName="LI";var h=function(n){i(d,n),O(d,null,[{key:"create",value:function(A){var T=A==="ordered"?"OL":"UL",k=g(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,T);return(A==="checked"||A==="unchecked")&&k.setAttribute("data-checked",A==="checked"),k}},{key:"formats",value:function(A){if(A.tagName==="OL")return"ordered";if(A.tagName==="UL")return A.hasAttribute("data-checked")?A.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function d(w){a(this,d);var A=l(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,w)),T=function(m){if(m.target.parentNode===w){var p=A.statics.formats(w),_=y.default.find(m.target);p==="checked"?_.format("list","unchecked"):p==="unchecked"&&_.format("list","checked")}};return w.addEventListener("touchstart",T),w.addEventListener("mousedown",T),A}return O(d,[{key:"format",value:function(A,T){this.children.length>0&&this.children.tail.format(A,T)}},{key:"formats",value:function(){return u({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(A,T){if(A instanceof o)g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insertBefore",this).call(this,A,T);else{var k=T==null?this.length():T.offset(this),m=this.split(k);m.parent.insertBefore(A,m)}}},{key:"optimize",value:function(A){g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"optimize",this).call(this,A);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&T.domNode.tagName===this.domNode.tagName&&T.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(T.moveChildren(this),T.remove())}},{key:"replace",value:function(A){if(A.statics.blotName!==this.statics.blotName){var T=y.default.create(this.statics.defaultChild);A.moveChildren(T),this.appendChild(T)}g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"replace",this).call(this,A)}}]),d}(e.default);h.blotName="list",h.scope=y.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[o],f.ListItem=o,f.default=h},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=s(56),g=b(O);function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(e){c(t,e);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(g.default);r.blotName="italic",r.tagName=["EM","I"],f.default=r},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function u(a,l){for(var i=0;i<l.length;i++){var o=l[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,i){return l&&u(a.prototype,l),i&&u(a,i),a}}(),g=function u(a,l,i){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var h=Object.getPrototypeOf(a);return h===null?void 0:u(h,l,i)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(i)}},b=s(6),y=v(b);function v(u){return u&&u.__esModule?u:{default:u}}function c(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function r(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:u}function e(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}var t=function(u){e(a,u);function a(){return c(this,a),r(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return O(a,null,[{key:"create",value:function(i){return i==="super"?document.createElement("sup"):i==="sub"?document.createElement("sub"):g(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this,i)}},{key:"formats",value:function(i){if(i.tagName==="SUB")return"sub";if(i.tagName==="SUP")return"super"}}]),a}(y.default);t.blotName="script",t.tagName=["SUB","SUP"],f.default=t},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=s(6),g=b(O);function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(e){c(t,e);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(g.default);r.blotName="strike",r.tagName="S",f.default=r},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=s(6),g=b(O);function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(e){c(t,e);function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(g.default);r.blotName="underline",r.tagName="U",f.default=r},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function l(i,o){for(var h=0;h<o.length;h++){var n=o[h];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,o,h){return o&&l(i.prototype,o),h&&l(i,h),i}}(),g=function l(i,o,h){i===null&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,o);if(n===void 0){var d=Object.getPrototypeOf(i);return d===null?void 0:l(d,o,h)}else{if("value"in n)return n.value;var w=n.get;return w===void 0?void 0:w.call(h)}},b=s(0),y=c(b),v=s(27);function c(l){return l&&l.__esModule?l:{default:l}}function r(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}function e(l,i){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:l}function t(l,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);l.prototype=Object.create(i&&i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(l,i):l.__proto__=i)}var u=["alt","height","width"],a=function(l){t(i,l);function i(){return r(this,i),e(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return O(i,[{key:"format",value:function(h,n){u.indexOf(h)>-1?n?this.domNode.setAttribute(h,n):this.domNode.removeAttribute(h):g(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"format",this).call(this,h,n)}}],[{key:"create",value:function(h){var n=g(i.__proto__||Object.getPrototypeOf(i),"create",this).call(this,h);return typeof h=="string"&&n.setAttribute("src",this.sanitize(h)),n}},{key:"formats",value:function(h){return u.reduce(function(n,d){return h.hasAttribute(d)&&(n[d]=h.getAttribute(d)),n},{})}},{key:"match",value:function(h){return/\.(jpe?g|gif|png)$/.test(h)||/^data:image\/.+;base64/.test(h)}},{key:"sanitize",value:function(h){return(0,v.sanitize)(h,["http","https","data"])?h:"//:0"}},{key:"value",value:function(h){return h.getAttribute("src")}}]),i}(y.default.Embed);a.blotName="image",a.tagName="IMG",f.default=a},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0});var O=function(){function l(i,o){for(var h=0;h<o.length;h++){var n=o[h];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,o,h){return o&&l(i.prototype,o),h&&l(i,h),i}}(),g=function l(i,o,h){i===null&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,o);if(n===void 0){var d=Object.getPrototypeOf(i);return d===null?void 0:l(d,o,h)}else{if("value"in n)return n.value;var w=n.get;return w===void 0?void 0:w.call(h)}},b=s(4),y=s(27),v=c(y);function c(l){return l&&l.__esModule?l:{default:l}}function r(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}function e(l,i){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:l}function t(l,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);l.prototype=Object.create(i&&i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(l,i):l.__proto__=i)}var u=["height","width"],a=function(l){t(i,l);function i(){return r(this,i),e(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return O(i,[{key:"format",value:function(h,n){u.indexOf(h)>-1?n?this.domNode.setAttribute(h,n):this.domNode.removeAttribute(h):g(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"format",this).call(this,h,n)}}],[{key:"create",value:function(h){var n=g(i.__proto__||Object.getPrototypeOf(i),"create",this).call(this,h);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(h)),n}},{key:"formats",value:function(h){return u.reduce(function(n,d){return h.hasAttribute(d)&&(n[d]=h.getAttribute(d)),n},{})}},{key:"sanitize",value:function(h){return v.default.sanitize(h)}},{key:"value",value:function(h){return h.getAttribute("src")}}]),i}(b.BlockEmbed);a.blotName="video",a.className="ql-video",a.tagName="IFRAME",f.default=a},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.FormulaBlot=void 0;var O=function(){function h(n,d){for(var w=0;w<d.length;w++){var A=d[w];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(n,A.key,A)}}return function(n,d,w){return d&&h(n.prototype,d),w&&h(n,w),n}}(),g=function h(n,d,w){n===null&&(n=Function.prototype);var A=Object.getOwnPropertyDescriptor(n,d);if(A===void 0){var T=Object.getPrototypeOf(n);return T===null?void 0:h(T,d,w)}else{if("value"in A)return A.value;var k=A.get;return k===void 0?void 0:k.call(w)}},b=s(35),y=t(b),v=s(5),c=t(v),r=s(9),e=t(r);function t(h){return h&&h.__esModule?h:{default:h}}function u(h,n){if(!(h instanceof n))throw new TypeError("Cannot call a class as a function")}function a(h,n){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:h}function l(h,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);h.prototype=Object.create(n&&n.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(h,n):h.__proto__=n)}var i=function(h){l(n,h);function n(){return u(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return O(n,null,[{key:"create",value:function(w){var A=g(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,w);return typeof w=="string"&&(window.katex.render(w,A,{throwOnError:!1,errorColor:"#f00"}),A.setAttribute("data-value",w)),A}},{key:"value",value:function(w){return w.getAttribute("data-value")}}]),n}(y.default);i.blotName="formula",i.className="ql-formula",i.tagName="SPAN";var o=function(h){l(n,h),O(n,null,[{key:"register",value:function(){c.default.register(i,!0)}}]);function n(){u(this,n);var d=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return d}return n}(e.default);f.FormulaBlot=i,f.default=o},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.CodeToken=f.CodeBlock=void 0;var O=function(){function w(A,T){for(var k=0;k<T.length;k++){var m=T[k];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,T,k){return T&&w(A.prototype,T),k&&w(A,k),A}}(),g=function w(A,T,k){A===null&&(A=Function.prototype);var m=Object.getOwnPropertyDescriptor(A,T);if(m===void 0){var p=Object.getPrototypeOf(A);return p===null?void 0:w(p,T,k)}else{if("value"in m)return m.value;var _=m.get;return _===void 0?void 0:_.call(k)}},b=s(0),y=a(b),v=s(5),c=a(v),r=s(9),e=a(r),t=s(13),u=a(t);function a(w){return w&&w.__esModule?w:{default:w}}function l(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")}function i(w,A){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:w}function o(w,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);w.prototype=Object.create(A&&A.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(w,A):w.__proto__=A)}var h=function(w){o(A,w);function A(){return l(this,A),i(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return O(A,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),g(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var m=this.domNode.textContent;this.cachedText!==m&&((m.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(m),this.domNode.normalize(),this.attach()),this.cachedText=m)}}]),A}(u.default);h.className="ql-syntax";var n=new y.default.Attributor.Class("token","hljs",{scope:y.default.Scope.INLINE}),d=function(w){o(A,w),O(A,null,[{key:"register",value:function(){c.default.register(n,!0),c.default.register(h,!0)}}]);function A(T,k){l(this,A);var m=i(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T,k));if(typeof m.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var p=null;return m.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(p),p=setTimeout(function(){m.highlight(),p=null},m.options.interval)}),m.highlight(),m}return O(A,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var m=this.quill.getSelection();this.quill.scroll.descendants(h).forEach(function(p){p.highlight(k.options.highlight)}),this.quill.update(c.default.sources.SILENT),m!=null&&this.quill.setSelection(m,c.default.sources.SILENT)}}}]),A}(e.default);d.DEFAULTS={highlight:function(){return window.hljs==null?null:function(w){var A=window.hljs.highlightAuto(w);return A.value}}(),interval:1e3},f.CodeBlock=h,f.CodeToken=n,f.default=d},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(E,f){E.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(E,f){E.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(E,f){E.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(E,f){E.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(E,f){E.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(E,f,s){Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.BubbleTooltip=void 0;var O=function A(T,k,m){T===null&&(T=Function.prototype);var p=Object.getOwnPropertyDescriptor(T,k);if(p===void 0){var _=Object.getPrototypeOf(T);return _===null?void 0:A(_,k,m)}else{if("value"in p)return p.value;var x=p.get;return x===void 0?void 0:x.call(m)}},g=function(){function A(T,k){for(var m=0;m<k.length;m++){var p=k[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(T,p.key,p)}}return function(T,k,m){return k&&A(T.prototype,k),m&&A(T,m),T}}(),b=s(3),y=l(b),v=s(8),c=l(v),r=s(43),e=l(r),t=s(15),u=s(41),a=l(u);function l(A){return A&&A.__esModule?A:{default:A}}function i(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function o(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function h(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var n=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],d=function(A){h(T,A);function T(k,m){i(this,T),m.modules.toolbar!=null&&m.modules.toolbar.container==null&&(m.modules.toolbar.container=n);var p=o(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,k,m));return p.quill.container.classList.add("ql-bubble"),p}return g(T,[{key:"extendToolbar",value:function(m){this.tooltip=new w(this.quill,this.options.bounds),this.tooltip.root.appendChild(m.container),this.buildButtons([].slice.call(m.container.querySelectorAll("button")),a.default),this.buildPickers([].slice.call(m.container.querySelectorAll("select")),a.default)}}]),T}(e.default);d.DEFAULTS=(0,y.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){T?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var w=function(A){h(T,A);function T(k,m){i(this,T);var p=o(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,k,m));return p.quill.on(c.default.events.EDITOR_CHANGE,function(_,x,q,I){if(_===c.default.events.SELECTION_CHANGE)if(x!=null&&x.length>0&&I===c.default.sources.USER){p.show(),p.root.style.left="0px",p.root.style.width="",p.root.style.width=p.root.offsetWidth+"px";var F=p.quill.getLines(x.index,x.length);if(F.length===1)p.position(p.quill.getBounds(x));else{var K=F[F.length-1],Z=p.quill.getIndex(K),D=Math.min(K.length()-1,x.index+x.length-Z),C=p.quill.getBounds(new t.Range(Z,D));p.position(C)}}else document.activeElement!==p.textbox&&p.quill.hasFocus()&&p.hide()}),p}return g(T,[{key:"listen",value:function(){var m=this;O(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){m.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!m.root.classList.contains("ql-hidden")){var p=m.quill.getSelection();p!=null&&m.position(m.quill.getBounds(p))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(m){var p=O(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"position",this).call(this,m),_=this.root.querySelector(".ql-tooltip-arrow");if(_.style.marginLeft="",p===0)return p;_.style.marginLeft=-1*p-_.offsetWidth/2+"px"}}]),T}(r.BaseTooltip);w.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),f.BubbleTooltip=w,f.default=d},function(E,f,s){E.exports=s(63)}]).default})}(Ne)),Ne.exports}var ye,ai;function Ea(){if(ai)return ye;ai=1;var S=ye&&ye.__extends||function(){var c=function(r,e){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,u){t.__proto__=u}||function(t,u){for(var a in u)u.hasOwnProperty(a)&&(t[a]=u[a])},c(r,e)};return function(r,e){c(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),R=ye&&ye.__assign||function(){return R=Object.assign||function(c){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(c[u]=r[u])}return c},R.apply(this,arguments)},E=ye&&ye.__spreadArrays||function(){for(var c=0,r=0,e=arguments.length;r<e;r++)c+=arguments[r].length;for(var t=Array(c),u=0,r=0;r<e;r++)for(var a=arguments[r],l=0,i=a.length;l<i;l++,u++)t[u]=a[l];return t},f=ye&&ye.__importDefault||function(c){return c&&c.__esModule?c:{default:c}},s=f(Ci()),O=f(Mi()),g=f(ma()),b=f(_a()),y=function(c){S(r,c);function r(e){var t=c.call(this,e)||this;t.dirtyProps=["modules","formats","bounds","theme","children"],t.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],t.state={generation:0},t.selection=null,t.onEditorChange=function(a,l,i,o){var h,n,d,w;a==="text-change"?(n=(h=t).onEditorChangeText)===null||n===void 0||n.call(h,t.editor.root.innerHTML,l,o,t.unprivilegedEditor):a==="selection-change"&&((w=(d=t).onEditorChangeSelection)===null||w===void 0||w.call(d,l,o,t.unprivilegedEditor))};var u=t.isControlled()?e.value:e.defaultValue;return t.value=u??"",t}return r.prototype.validateProps=function(e){var t;if(s.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(s.default.Children.count(e.children)){var u=s.default.Children.only(e.children);if(((t=u)===null||t===void 0?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},r.prototype.shouldComponentUpdate=function(e,t){var u=this,a;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var l=this.getEditorContents(),i=(a=e.value,a??"");this.isEqualValue(i,l)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),E(this.cleanProps,this.dirtyProps).some(function(o){return!g.default(e[o],u.props[o])})},r.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(u){return!g.default(e[u],t.props[u])})},r.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},r.prototype.componentWillUnmount=function(){this.destroyEditor()},r.prototype.componentDidUpdate=function(e,t){var u=this;if(this.editor&&this.shouldComponentRegenerate(e)){var a=this.editor.getContents(),l=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:l},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var i=this.regenerationSnapshot,a=i.delta,o=i.selection;delete this.regenerationSnapshot,this.instantiateEditor();var h=this.editor;h.setContents(a),v(function(){return u.setEditorSelection(h,o)})}},r.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},r.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},r.prototype.isControlled=function(){return"value"in this.props},r.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},r.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},r.prototype.createEditor=function(e,t){var u=new b.default(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(u,t.tabIndex),this.hookEditor(u),u},r.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},r.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},r.prototype.getEditorContents=function(){return this.value},r.prototype.getEditorSelection=function(){return this.selection},r.prototype.isDelta=function(e){return e&&e.ops},r.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?g.default(e.ops,t.ops):g.default(e,t)},r.prototype.setEditorContents=function(e,t){var u=this;this.value=t;var a=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert(t)):e.setContents(t),v(function(){return u.setEditorSelection(e,a)})},r.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var u=e.getLength();t.index=Math.max(0,Math.min(t.index,u-1)),t.length=Math.max(0,Math.min(t.length,u-1-t.index)),e.setSelection(t)}},r.prototype.setEditorTabIndex=function(e,t){var u,a;!((a=(u=e)===null||u===void 0?void 0:u.scroll)===null||a===void 0)&&a.domNode&&(e.scroll.domNode.tabIndex=t)},r.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},r.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},r.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=O.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e},r.prototype.renderEditingArea=function(){var e=this,t=this.props,u=t.children,a=t.preserveWhitespace,l=this.state.generation,i={key:l,ref:function(o){e.editingArea=o}};return s.default.Children.count(u)?s.default.cloneElement(s.default.Children.only(u),i):a?s.default.createElement("pre",R({},i)):s.default.createElement("div",R({},i))},r.prototype.render=function(){var e;return s.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,e??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},r.prototype.onEditorChangeText=function(e,t,u,a){var l,i;if(this.editor){var o=this.isDelta(this.value)?a.getContents():a.getHTML();o!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=o,(i=(l=this.props).onChange)===null||i===void 0||i.call(l,e,t,u,a))}},r.prototype.onEditorChangeSelection=function(e,t,u){var a,l,i,o,h,n;if(this.editor){var d=this.getEditorSelection(),w=!d&&e,A=d&&!e;g.default(e,d)||(this.selection=e,(l=(a=this.props).onChangeSelection)===null||l===void 0||l.call(a,e,t,u),w?(o=(i=this.props).onFocus)===null||o===void 0||o.call(i,e,t,u):A&&((n=(h=this.props).onBlur)===null||n===void 0||n.call(h,d,t,u)))}},r.prototype.focus=function(){this.editor&&this.editor.focus()},r.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},r.displayName="React Quill",r.Quill=b.default,r.defaultProps={theme:"snow",modules:{},readOnly:!1},r}(s.default.Component);function v(c){Promise.resolve().then(c)}return ye=y,ye}var Oa=Ea();const Aa=fi(Oa);var Te={},li;function Ta(){if(li)return Te;li=1,Te.match=O,Te.parse=g;var S=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,R=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,E=/^(?:(min|max)-)?(.+)/,f=/(em|rem|px|cm|mm|in|pt|pc)?$/,s=/(dpi|dpcm|dppx)?$/;function O(c,r){return g(c).some(function(e){var t=e.inverse,u=e.type==="all"||r.type===e.type;if(u&&t||!(u||t))return!1;var a=e.expressions.every(function(l){var i=l.feature,o=l.modifier,h=l.value,n=r[i];if(!n)return!1;switch(i){case"orientation":case"scan":return n.toLowerCase()===h.toLowerCase();case"width":case"height":case"device-width":case"device-height":h=v(h),n=v(n);break;case"resolution":h=y(h),n=y(n);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":h=b(h),n=b(n);break;case"grid":case"color":case"color-index":case"monochrome":h=parseInt(h,10)||1,n=parseInt(n,10)||0;break}switch(o){case"min":return n>=h;case"max":return n<=h;default:return n===h}});return a&&!t||!a&&t})}function g(c){return c.split(",").map(function(r){r=r.trim();var e=r.match(S),t=e[1],u=e[2],a=e[3]||"",l={};return l.inverse=!!t&&t.toLowerCase()==="not",l.type=u?u.toLowerCase():"all",a=a.match(/\([^\)]+\)/g)||[],l.expressions=a.map(function(i){var o=i.match(R),h=o[1].toLowerCase().match(E);return{modifier:h[1],feature:h[2],value:o[2]}}),l})}function b(c){var r=Number(c),e;return r||(e=c.match(/^(\d+)\s*\/\s*(\d+)$/),r=e[1]/e[2]),r}function y(c){var r=parseFloat(c),e=String(c).match(s)[1];switch(e){case"dpcm":return r/2.54;case"dppx":return r*96;default:return r}}function v(c){var r=parseFloat(c),e=String(c).match(f)[1];switch(e){case"em":return r*16;case"rem":return r*16;case"cm":return r*96/2.54;case"mm":return r*96/2.54/10;case"in":return r*96;case"pt":return r*72;case"pc":return r*72/12;default:return r}}return Te}var vr,ui;function wa(){if(ui)return vr;ui=1;var S=Ta().match,R=typeof window<"u"?window.matchMedia:null;function E(s,O,g){var b=this,y;R&&!g&&(y=R.call(window,s)),y?(this.matches=y.matches,this.media=y.media,y.addListener(r)):(this.matches=S(s,O),this.media=s),this.addListener=v,this.removeListener=c,this.dispose=e;function v(t){y&&y.addListener(t)}function c(t){y&&y.removeListener(t)}function r(t){b.matches=t.matches,b.media=t.media}function e(){y&&y.removeListener(r)}}function f(s,O,g){return new E(s,O,g)}return vr=f,vr}var xa=wa();const Na=fi(xa);var ka=/[A-Z]/g,Sa=/^ms-/,pr={};function qa(S){return"-"+S.toLowerCase()}function Oi(S){if(pr.hasOwnProperty(S))return pr[S];var R=S.replace(ka,qa);return pr[S]=Sa.test(R)?"-"+R:R}function Ra(S,R){if(S===R)return!0;if(!S||!R)return!1;const E=Object.keys(S),f=Object.keys(R),s=E.length;if(f.length!==s)return!1;for(let O=0;O<s;O++){const g=E[O];if(S[g]!==R[g]||!Object.prototype.hasOwnProperty.call(R,g))return!1}return!0}const de=ee.oneOfType([ee.string,ee.number]),Ai={all:ee.bool,grid:ee.bool,aural:ee.bool,braille:ee.bool,handheld:ee.bool,print:ee.bool,projection:ee.bool,screen:ee.bool,tty:ee.bool,tv:ee.bool,embossed:ee.bool},Pa={orientation:ee.oneOf(["portrait","landscape"]),scan:ee.oneOf(["progressive","interlace"]),aspectRatio:ee.string,deviceAspectRatio:ee.string,height:de,deviceHeight:de,width:de,deviceWidth:de,color:ee.bool,colorIndex:ee.bool,monochrome:ee.bool,resolution:de,type:Object.keys(Ai)},{type:al,...La}=Pa,ja={minAspectRatio:ee.string,maxAspectRatio:ee.string,minDeviceAspectRatio:ee.string,maxDeviceAspectRatio:ee.string,minHeight:de,maxHeight:de,minDeviceHeight:de,maxDeviceHeight:de,minWidth:de,maxWidth:de,minDeviceWidth:de,maxDeviceWidth:de,minColor:ee.number,maxColor:ee.number,minColorIndex:ee.number,maxColorIndex:ee.number,minMonochrome:ee.number,maxMonochrome:ee.number,minResolution:de,maxResolution:de,...La},Ia={...Ai,...ja};var Ca={all:Ia};const Ma=S=>`not ${S}`,Da=(S,R)=>{const E=Oi(S);return typeof R=="number"&&(R=`${R}px`),R===!0?E:R===!1?Ma(E):`(${E}: ${R})`},Ba=S=>S.join(" and "),Fa=S=>{const R=[];return Object.keys(Ca.all).forEach(E=>{const f=S[E];f!=null&&R.push(Da(E,f))}),Ba(R)},Ua=te.createContext(void 0),Ha=S=>S.query||Fa(S),si=S=>S?Object.keys(S).reduce((E,f)=>(E[Oi(f)]=S[f],E),{}):void 0,Ti=()=>{const S=te.useRef(!1);return te.useEffect(()=>{S.current=!0},[]),S.current},Ka=S=>{const R=te.useContext(Ua),E=()=>si(S)||si(R),[f,s]=te.useState(E);return te.useEffect(()=>{const O=E();Ra(f,O)||s(O)},[S,R]),f},Ga=S=>{const R=()=>Ha(S),[E,f]=te.useState(R);return te.useEffect(()=>{const s=R();E!==s&&f(s)},[S]),E},za=(S,R)=>{const E=()=>Na(S,R||{},!!R),[f,s]=te.useState(E),O=Ti();return te.useEffect(()=>{if(O){const g=E();return s(g),()=>{g&&g.dispose()}}},[S,R]),f},Va=S=>{const[R,E]=te.useState(S.matches);return te.useEffect(()=>{const f=s=>{E(s.matches)};return S.addListener(f),E(S.matches),()=>{S.removeListener(f)}},[S]),R},Wa=(S,R,E)=>{const f=Ka(R),s=Ga(S);if(!s)throw new Error("Invalid or missing MediaQuery!");const O=za(s,f),g=Va(O);return Ti(),te.useEffect(()=>{},[g]),te.useEffect(()=>()=>{O&&O.dispose()},[]),g},wi=ge.memo(()=>Y.jsx("button",{className:"ql-undo custom-button","data-label":"Undo","aria-label":"Undo",children:Y.jsx(Ui,{})}));wi.displayName="CustomUndo";const xi=ge.memo(()=>Y.jsx("button",{className:"ql-redo custom-button","data-label":"Redo","aria-label":"Redo",children:Y.jsx(Hi,{})}));xi.displayName="CustomRedo";const Ni=({showAdjustButton:S,selectedText:R,isAdjusting:E,onConfirmAdjustment:f,onAiAdjustment:s,originalSelectedText:O,onRejectAdjustment:g,isEditing:b})=>{const{adjustText:y,error:v,setError:c,isApplyingAdjustment:r}=te.useContext(gr),[e,t]=te.useState(""),[u,a]=te.useState(!1),l=te.useRef(null),i=te.useRef(null),o=te.useRef(!1),[h,n]=te.useState(!1),d=te.useCallback(m=>{m.key==="Escape"&&(typeof s=="function"&&s(!1),t(""))},[s]),w=te.useCallback(m=>{m.stopPropagation(),m.preventDefault(),s(!0,R)},[s,R]),A=te.useCallback(async m=>{m.preventDefault(),m.stopPropagation();const p=R||O||"";if(!(!p.trim()||!e.trim())){n(!0);try{const _=await y(e,p);_?(await s(_),a(!0)):console.error("Keine Vorschläge von der API erhalten")}catch{c("Error adjusting text. Please try again.")}finally{n(!1)}}},[R,O,e,y,s,c]),T=te.useCallback(()=>{f(),a(!1),t(""),s(!1)},[f,s]);te.useEffect(()=>{},[E]),te.useEffect(()=>{const m=p=>{if(o.current){o.current=!1;return}setTimeout(()=>{l.current&&!l.current.contains(p.target)&&s(!1)},100)};return E&&document.addEventListener("click",m),()=>{document.removeEventListener("click",m)}},[E,s]),te.useEffect(()=>{E&&i.current&&i.current.focus()},[E]),te.useEffect(()=>{if(v){const m=setTimeout(()=>c(null),5e3);return()=>clearTimeout(m)}},[v,c]);const k=Wa({maxWidth:768});return Y.jsxs("div",{className:`editor-toolbar-wrapper ${b?"":"read-only"}`,ref:l,children:[Y.jsxs("div",{id:"toolbar",className:"ql-toolbar ql-snow",children:[Y.jsxs("span",{className:"ql-formats",children:[Y.jsx("button",{className:"ql-bold","aria-label":"Bold"}),Y.jsx("button",{className:"ql-italic","aria-label":"Italic"}),Y.jsx("button",{className:"ql-underline","aria-label":"Underline"})]}),Y.jsxs("span",{className:"ql-formats",children:[Y.jsx("button",{className:"ql-list",value:"ordered","aria-label":"Ordered List"}),Y.jsx("button",{className:"ql-list",value:"bullet","aria-label":"Bullet List"})]}),Y.jsxs("span",{className:"ql-formats",children:[Y.jsx(wi,{}),Y.jsx(xi,{})]}),!k&&(S||E||u)&&Y.jsxs("span",{className:`ql-formats adjust-text-container ${E?"adjusting":""}`,children:[E&&Y.jsxs(Y.Fragment,{children:[!u&&Y.jsxs("form",{onSubmit:A,className:"adjust-form",children:[Y.jsxs("div",{className:"input-wrapper",children:[Y.jsx("input",{ref:i,type:"text",value:e,onChange:m=>{t(m.target.value)},onKeyDown:d,placeholder:"Verbesserungsvorschlag",className:"adjust-input"}),Y.jsx("button",{type:"button",onClick:()=>{s(!1)},className:"cancel-adjust","aria-label":"Cancel Adjustment",children:"×"})]}),Y.jsx("button",{type:"submit",className:`adjust-submit ${h?"loading":""}`,"aria-label":"Submit Adjustment",disabled:h,children:h?Y.jsx(xe,{className:"loading-icon"}):Y.jsx("span",{className:"icon",children:"➤"})})]}),u&&Y.jsxs("div",{className:"confirmation-container",children:[Y.jsx("p",{children:"Anpassung annehmen?"}),Y.jsxs("div",{className:"confirmation-buttons",children:[Y.jsx("button",{onClick:T,className:"confirm-adjust","aria-label":"Accept Adjustment",disabled:r,children:r?Y.jsx(xe,{className:"loading-icon"}):"✓"}),Y.jsx("button",{onClick:()=>{g(),a(!1),t(""),s(!1)},className:"reject-adjust","aria-label":"Reject Adjustment",children:"✗"})]})]})]}),!E&&S&&R&&Y.jsx("button",{className:"ql-adjust-text custom-button",onClick:w,"aria-label":"Gruenerator AI-Anpassung",children:Y.jsxs("span",{className:"adjust-content",children:[Y.jsx(xe,{size:16,className:"adjust-icon"}),Y.jsx("span",{className:"adjust-text",children:"Grünerator AI-Anpassung"})]})})]})]}),!k&&v&&Y.jsxs("p",{className:"error-message",children:["Error: ",v]})]})};Ni.propTypes={showAdjustButton:ee.bool.isRequired,selectedText:ee.string.isRequired,isAdjusting:ee.bool.isRequired,onConfirmAdjustment:ee.func.isRequired,onAiAdjustment:ee.func.isRequired,originalSelectedText:ee.string.isRequired,onRejectAdjustment:ee.func.isRequired,isEditing:ee.bool.isRequired};const $a=ge.memo(Ni),Za=(S,R)=>{function E(){if(S.current){const f=S.current.getEditor();if(f&&f.root)if(window.matchMedia("(max-width: 768px)").matches&&R){f.root.style.setProperty("overflow-y","auto","important");const O=window.innerHeight,g=f.root.getBoundingClientRect().top,b=O-g-20;f.root.style.setProperty("max-height",`${b}px`,"important"),console.log("[Editor] Mobile Scrolling aktiviert:",{maxHeight:b,overflowY:"auto"})}else f.root.style.removeProperty("overflow-y"),f.root.style.removeProperty("max-height"),console.log("[Editor] Scrolling zurückgesetzt")}}return E(),window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E)}},ki=ge.forwardRef((S,R)=>Y.jsx(Aa,{...S,ref:R}));ki.displayName="QuillWrapper";const we=["TWITTER:","FACEBOOK:","INSTAGRAM:","LINKEDIN:","AKTIONSIDEEN:","INSTAGRAM REEL:"],Er=ge.memo(({setEditorInstance:S=()=>{}})=>{const{value:R,updateValue:E,isEditing:f,isAdjusting:s,activePlatform:O,facebookValue:g,instagramValue:b,twitterValue:y,linkedinValue:v,reelScriptValue:c,actionIdeasValue:r,handleAiAdjustment:e,handleAcceptAdjustment:t,handleRejectAdjustment:u,selectedText:a,setSelectedText:l,highlightedRange:i,setHighlightedRange:o,adjustText:h,error:n,newSelectedText:d,removeAllHighlights:w,originalContent:A,setOriginalContent:T,setIsApplyingAdjustment:k}=te.useContext(gr);console.log("[Editor] isEditing Status:",f),console.log("[Editor] isAdjusting Status:",s),console.log("[Editor] activePlatform:",O),console.log("[Editor] value:",R),console.log("[Editor] value Typ:",typeof R),console.log("[Editor] value Länge:",R?R.length:0);const m=te.useRef(null),p=te.useRef(""),[_,x]=te.useState(R),[q,I]=te.useState(!1),F=te.useMemo(()=>"ontouchstart"in window||navigator.maxTouchPoints>0,[]),K=te.useRef(!1);te.useEffect(()=>{if(O){const L={facebook:g,instagram:b,twitter:y,linkedin:v,reelScript:c,actionIdeas:r}[O]||"";x(L)}else x(R)},[R,O,g,b,y,v,c,r]);const Z=te.useCallback((L,B)=>{console.log("[Editor] Content Change:",{source:B,isEditing:f,content:L.substring(0,100)+"..."}),x(L),f&&B==="user"&&E(L)},[f,E]),D=te.useCallback((L,B="html")=>{var z;const G=(z=m.current)==null?void 0:z.getEditor();if(G){K.current=!0;try{B==="html"?G.root.innerHTML=L:G.setText(L),x(L),O&&E(L)}catch{G.setText(L)}finally{K.current=!1}}},[O,E]);te.useEffect(()=>{S&&S({setContent:D,getHtmlContent:()=>{var L;return(L=m.current)==null?void 0:L.root.innerHTML},getDelta:()=>{var L;return(L=m.current)==null?void 0:L.getEditor().getContents()},focus:()=>{var L;return(L=m.current)==null?void 0:L.getEditor().focus()}})},[S,D]);const C=te.useCallback(L=>{var G;const B=(G=m.current)==null?void 0:G.getEditor();if(B)if(L&&L.length>0&&!s){const z=B.getText(L.index,L.length);l(z),o(L),I(!0),T(B.root.innerHTML),F||je(B,L.index,L.length)}else s||(l(""),o(null),I(!1),w(B))},[s,F,l,o,I,T,w]),N=te.useCallback(L=>{C(L)},[C]);te.useEffect(()=>{var B;const L=(B=m.current)==null?void 0:B.getEditor();if(L)return L.on("selection-change",N),()=>{L.off("selection-change",N)}},[N]),te.useEffect(()=>{var B;const L=(B=m.current)==null?void 0:B.getEditor();if(L&&F){const G=()=>{const z=L.getSelection();z&&z.length>0?(C(z),je(L,z.index,z.length)):(l(""),o(null),I(!1),w(L))};return L.root.addEventListener("touchend",G),()=>{L.root.removeEventListener("touchend",G)}}},[je,F,C,l,o,I,w]);const j=te.useMemo(()=>["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","code-block","script","align","color","background","clean","protected"],[]),M=te.useMemo(()=>({toolbar:{container:"#toolbar",handlers:{undo:function(){this.quill.history.undo()},redo:function(){this.quill.history.redo()}}},clipboard:{matchVisual:!0},history:{delay:1e3,maxStack:100,userOnly:!0}}),[]);te.useEffect(()=>{if(m.current)try{const L=m.current.getEditor();console.log("[Editor] Aktiviere/Deaktiviere Editor:",{isEditing:f,isAdjusting:s,enabled:f&&!s}),L.enable(f&&!s)}catch(L){console.error("[Editor] Fehler beim Aktivieren/Deaktivieren des Editors:",L)}},[f,s]),te.useEffect(()=>Za(m,f),[f,m]);const H=te.useCallback((L,B=!0)=>{var z;const G=(z=m.current)==null?void 0:z.getEditor();if(G&&i){G.deleteText(i.index,i.length),G.insertText(i.index,L,B?{color:"#000000",background:"#e6ffe6"}:{}),G.setSelection(i.index+L.length,0);const J=G.root.innerHTML;x(J),E(J)}},[i,E]);te.useEffect(()=>{d&&i&&H(d)},[d,i,H]),te.useEffect(()=>{if(m.current){const L=m.current.getEditor();let B={};L.getText().split(`
`).forEach((J,re)=>{we.forEach(ne=>{J.trim().toUpperCase()===ne&&(B[re]=J)})}),L.on("text-change",(J,re,ne)=>{if(ne==="user"){const ue=L.getText().split(`
`);let he=0,fe=!1,V=!1;const W=new Set;if(ue.forEach(Q=>{we.forEach($=>{Q.trim().toUpperCase()===$&&W.add($)})}),ue.forEach((Q,$)=>{if(B[$]){const ie=B[$];if(Q.trim().toUpperCase()!==ie.trim().toUpperCase()&&!W.has(ie.trim().toUpperCase())){const ae=he;fe=!0,L.deleteText(ae,Q.length),L.insertText(ae,ie,{color:"#000000",background:"#f0f0f0"}),W.add(ie.trim().toUpperCase())}}he+=Q.length+1}),V=L.root.innerHTML!==_,fe||V){const Q={},$=L.getText().split(`
`);let ie=!1;const ae=new Set;if($.forEach((oe,ve)=>{we.forEach(pe=>{if(oe.trim().toUpperCase()===pe)if(!ae.has(pe))Q[ve]=oe,ae.add(pe);else{const se=he;L.deleteText(se,oe.length+1),fe=!0}else oe.trim().length>0&&(ie=!0)})}),ie){B=Q;const oe=L.root.innerHTML;oe!==_&&(x(oe),E(oe))}}}})}},[E]),te.useEffect(()=>{!f&&_&&we.some(B=>_.toUpperCase().includes(B))&&_!==p.current&&(p.current=_,_.replace(/<[^>]*>/g,"").trim().length>0&&(x(_),E(_)))},[f,_,E]);const U=te.useCallback((L,B)=>{var G;if(typeof L=="boolean")e(L,B);else if(typeof L=="string"){const z=(G=m.current)==null?void 0:G.getEditor();z&&i&&(z.deleteText(i.index,i.length),z.insertText(i.index,L,{color:"#000000",background:"#ffff99"}),x(z.root.innerHTML)),e(!0,L)}},[e,i]),P=te.useCallback(()=>{var L;if(d){const B=(L=m.current)==null?void 0:L.getEditor();if(B){if(k(!0),i)B.formatText(i.index,d.length,{background:"#e6ffe6"});else{const G=B.getLength();B.insertText(G,d,{color:"#000000",background:"#e6ffe6"})}t(),o(null),l(""),e(!1)}}},[H,t,d,i,o,l,e]);return Y.jsxs("div",{className:"text-editor",children:[Y.jsx($a,{readOnly:!f,onAdjustText:h,isAdjusting:s,onConfirmAdjustment:P,onAiAdjustment:U,showAdjustButton:q,selectedText:a,originalSelectedText:a,newSelectedText:d,onRejectAdjustment:u,isEditing:f,showConfirmation:!!d,removeAllHighlights:w,originalContent:A}),Y.jsx(ki,{ref:m,value:_,onChange:Z,onChangeSelection:N,modules:M,formats:j,readOnly:!f||s,theme:"snow",placeholder:f?"Start writing...":"",preserveWhitespace:!0,scrollingContainer:"html"}),n&&Y.jsxs("p",{className:"error-message",children:["Error: ",n]})]})});Er.propTypes={setEditorInstance:ee.func};Er.displayName="Editor";const yr=ge.memo(Er),Ya={TWITTER:{displayName:"Twitter",icon:eo,color:"#1DA1F2",copyText:"Tweet kopieren"},FACEBOOK:{displayName:"Facebook",icon:Ji,color:"#4267B2",copyText:"Facebook-Post kopieren"},INSTAGRAM:{displayName:"Instagram",icon:Xi,color:"#E1306C",copyText:"Instagram-Post kopieren"},LINKEDIN:{displayName:"LinkedIn",icon:Qi,color:"#0077B5",copyText:"LinkedIn-Post kopieren"},TIKTOK:{displayName:"TikTok",icon:Yi,color:"#000000",copyText:"TikTok-Text kopieren"},MESSENGER:{displayName:"Messenger",icon:Zi,color:"#25D366",copyText:"Messenger-Text kopieren"},ACTIONIDEAS:{displayName:"Aktionsideen",icon:$i,color:"#4caf50",copyText:"Aktionsidee kopieren"},"INSTAGRAM REEL":{displayName:"Instagram Reel",icon:Wi,color:"#E1306C",copyText:"Reel-Text kopieren"},PRESSEMITTEILUNG:{displayName:"Pressemitteilung",icon:Vi,color:"#2E7D32",copyText:"Pressemitteilung kopieren"},SUCHANFRAGE:{displayName:"Suchanfrage",icon:ci,color:"#FF9800",copyText:"Suchanfrage kopieren"},SUCHERGEBNIS:{displayName:"Suchergebnisse",icon:zi,color:"#4285F4",copyText:"Suchergebnisse kopieren"},ANTRAG:{displayName:"Antrag",icon:Gi,color:"#388E3C",copyText:"Antrag kopieren"},QUELLEN:{displayName:"Quellen",icon:Ki,color:"#607D8B",copyText:"Quellen kopieren"}},Si=({content:S})=>{const{isEditing:R}=te.useContext(gr),[E,f]=te.useState(null),s=v=>{Li(v),f(v),setTimeout(()=>{f(null)},2e3)},O=v=>v?v.replace(/<p>/g,"").replace(/<\/p>/g,`
`).replace(/<br\s*\/?>/g,`
`).replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/\n\s*\n\s*\n/g,`

`).trim():"",g=()=>{if(!S)return null;const v=O(S);if(console.log("[PlatformContainer] Bereinigter Inhalt:",v.substring(0,100)+"..."),v.includes("---PLATFORM_BREAK---")){console.log("[PlatformContainer] Platform Breaks gefunden, teile Inhalt auf");const u=v.split("---PLATFORM_BREAK---");return console.log("[PlatformContainer] Anzahl der Abschnitte nach Aufteilung:",u.length),Y.jsx("div",{className:"platforms-container",children:u.map((a,l)=>{if(!a.trim())return null;const i=a.match(/(TWITTER|FACEBOOK|INSTAGRAM|LINKEDIN|TIKTOK|MESSENGER|ACTIONIDEAS|INSTAGRAM REEL|PRESSEMITTEILUNG|SUCHANFRAGE|SUCHERGEBNIS|ANTRAG|QUELLEN):\s*/);if(i){const o=i[1];console.log(`[PlatformContainer] Plattform in Abschnitt ${l} gefunden:`,o);const h=a.slice(i.index+i[0].length).trim();return y(o,h,l)}else return console.log(`[PlatformContainer] Keine Plattform in Abschnitt ${l} gefunden`),Y.jsx("div",{className:"plain-content",children:a},l)})})}const c=[...v.matchAll(/(TWITTER|FACEBOOK|INSTAGRAM|LINKEDIN|TIKTOK|MESSENGER|ACTIONIDEAS|INSTAGRAM REEL|PRESSEMITTEILUNG|SUCHANFRAGE|SUCHERGEBNIS|ANTRAG|QUELLEN):\s*/g)];console.log("[PlatformContainer] Gefundene Platform-Header:",c);const r=v.includes("SUCHERGEBNIS:"),e=v.includes("ANTRAG:");if(console.log("[PlatformContainer] Hat SUCHERGEBNIS-Header:",r),console.log("[PlatformContainer] Hat ANTRAG-Header:",e),c.length===0)return console.log("[PlatformContainer] Keine Platform-Header gefunden, zeige den Inhalt direkt an"),v;if(c.length===1)return console.log("[PlatformContainer] Ein Platform-Header gefunden:",c[0][1]),b(v,c[0]);console.log("[PlatformContainer] Mehrere Platform-Header gefunden:",c.length);const t=c.map((u,a)=>{const l=u.index+u[0].length,i=a<c.length-1?c[a+1].index:v.length,o=u[1],h=v.slice(l,i).trim();return y(o,h,a)});return Y.jsx("div",{className:"platforms-container",children:t})},b=(v,c)=>{const r=c[1],e=v.slice(c.index+c[0].length).trim();return y(r,e,0)},y=(v,c,r)=>{const e=Ya[v]||{displayName:v,icon:ci,color:"#757575",copyText:"Inhalt kopieren"},t=e.icon,u=E===c;return Y.jsxs("div",{className:"platform-content",children:[Y.jsxs("div",{className:"platform-header",children:[Y.jsxs("div",{className:"platform-title",children:[Y.jsx("div",{className:"platform-icon",style:{color:e.color},children:Y.jsx(t,{size:20})}),Y.jsx("h3",{className:"platform-name",children:e.displayName})]}),Y.jsx("div",{className:"display-actions",children:Y.jsx("button",{onClick:()=>s(c),className:"action-button","aria-label":e.copyText,"data-tooltip-id":"action-tooltip","data-tooltip-content":e.copyText,children:u?Y.jsx(to,{size:16}):Y.jsx(ro,{size:16})})})]}),Y.jsx("hr",{className:"platform-divider",style:{borderColor:`${e.color}40`}}),Y.jsx("div",{className:"platform-body",children:Y.jsx("div",{className:"generated-content-wrapper",children:R?Y.jsx(yr,{value:c}):Y.jsx("div",{style:{whiteSpace:"pre-wrap"},children:c})})})]},`${v}-${r}`)};return g()};Si.propTypes={content:ee.string};const Qa=S=>ge.isValidElement(S),Xa=S=>S?["TWITTER:","FACEBOOK:","INSTAGRAM:","LINKEDIN:","AKTIONSIDEEN:","INSTAGRAM REEL:","PRESSEMITTEILUNG:","SUCHANFRAGE:","SUCHERGEBNIS:","ANTRAG:"].some(E=>S.includes(E)):!1,Or=({value:S,generatedContent:R,isEditing:E,usePlatformContainers:f,helpContent:s})=>{if(!S&&!R)return s?Y.jsx(Bi,{content:s.content,tips:s.tips}):null;if(E)return Y.jsx("div",{className:"generated-content-wrapper",children:Y.jsx(yr,{value:S||""})});if(Qa(R))return R;if(f){const O=S||R||"",g=Xa(O),b=O.includes("---PLATFORM_BREAK---");if(g){let y=S||R;return b&&R&&R.length>y.length&&(y=R),Y.jsx("div",{className:"generated-content-wrapper",children:Y.jsx(Si,{content:y},Date.now())})}}return Y.jsx("div",{className:"generated-content-wrapper",children:Y.jsx(yr,{value:S||""})})};Or.propTypes={value:ee.string,generatedContent:ee.oneOfType([ee.string,ee.object,ee.element]),isEditing:ee.bool.isRequired,usePlatformContainers:ee.bool,helpContent:ee.shape({content:ee.string,tips:ee.arrayOf(ee.string)})};Or.defaultProps={usePlatformContainers:!1};const qi=({error:S})=>{if(!S)return null;const R=no(S);return Y.jsx("p",{role:"alert","aria-live":"assertive",className:"error-message",children:R})};qi.propTypes={error:ee.string};const Ri=({title:S,error:R,value:E,generatedContent:f,isEditing:s,allowEditing:O,hideEditButton:g,usePlatformContainers:b,helpContent:y,generatedPost:v,onGeneratePost:c,handleToggleEditMode:r,getExportableContent:e})=>{const[t,u]=ge.useState(!1),a=ge.useCallback(async()=>{if(c){u(!0);try{await c()}catch{}finally{u(!1)}}},[c]),l=ge.useMemo(()=>e(f,E),[e,f,E]);return Y.jsxs("div",{className:"display-container",id:"display-section-container",children:[Y.jsxs("div",{className:"display-header",children:[Y.jsx("h3",{children:S}),f&&Y.jsx(Di,{content:l,onEdit:r,isEditing:s,allowEditing:O,hideEditButton:g,showExport:!0})]}),Y.jsxs("div",{className:"display-content",style:{fontSize:"16px"},children:[Y.jsx(qi,{error:R}),Y.jsx(Or,{value:E,generatedContent:f,isEditing:s,usePlatformContainers:b,helpContent:y})]}),v&&Y.jsxs("div",{className:"generated-post-container",children:[Y.jsx("p",{children:v}),Y.jsx("div",{className:"button-container",children:Y.jsx(Fi,{onClick:a,loading:t,text:Ii.REGENERATE_TEXT,icon:Y.jsx(xe,{}),className:"generate-post-button",ariaLabel:ji.REGENERATE_TEXT})})]})]})};Ri.propTypes={title:ee.string.isRequired,error:ee.string,value:ee.string,generatedContent:ee.oneOfType([ee.string,ee.object,ee.element]),isEditing:ee.bool.isRequired,allowEditing:ee.bool,hideEditButton:ee.bool,usePlatformContainers:ee.bool,helpContent:ee.shape({content:ee.string,tips:ee.arrayOf(ee.string)}),generatedPost:ee.string,onGeneratePost:ee.func,handleToggleEditMode:ee.func.isRequired,getExportableContent:ee.func.isRequired};Ri.defaultProps={allowEditing:!0,hideEditButton:!1,usePlatformContainers:!1};export{Ri as D,Si as P,ol as h};
