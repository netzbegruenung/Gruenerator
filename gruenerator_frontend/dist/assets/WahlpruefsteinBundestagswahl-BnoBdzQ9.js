import{u as v,b as F,c as z,j as t,E as B,F as c,a as E,P as T}from"./index-DyXXXUoc.js";import{b as r}from"./vendor-CPnJIadx.js";/* empty css                  *//* empty css               *//* empty css               *//* empty css                 */import"./HelpDisplay-BuoYnQy0.js";import{B as k}from"./BaseForm-c3ucbGGj.js";import"./DisplaySection-B2S7b4Z_.js";import"./ActionButtons-D6KUb2mX.js";import"./index-CqWIjGOL.js";import"./index-02I5EOAM.js";const K=({showHeaderFooter:d=!0})=>{const[s,m]=r.useState(""),[n,p]=r.useState(""),[o,l]=r.useState(""),g=v(o,1.2,.8,[1e3,2e3]),{submitForm:u,loading:b,success:f,resetSuccess:h,error:x}=F("/wahlpruefsteinbundestagswahl/frage"),{setGeneratedContent:i}=r.useContext(z),w=e=>{switch(e){case"1":return"In diesem Kapitel geht es um die Verbindung von Wirtschaftswachstum und Klimaschutz. Hier finden Sie Antworten zu Themen wie nachhaltige Wirtschaft, Klimaschutz, Digitalisierung und zukunftsfähige Arbeitsplätze.";case"2":return"Dieses Kapitel behandelt soziale Gerechtigkeit und Teilhabe. Hier geht es um bezahlbares Wohnen, faire Löhne, Bildungschancen und ein gerechtes Gesundheitssystem.";case"3":return"In diesem Kapitel werden Fragen der inneren und äußeren Sicherheit behandelt. Themen sind unter anderem Demokratie, Bürgerrechte, Außenpolitik und europäische Zusammenarbeit.";default:return""}},C=r.useCallback(async()=>{if(!(!s.trim()||!n))try{const e=await u({question:s.trim(),selectedChapter:n});if(e){const j=e.replace(/Zitat:/g,"<strong>Zitat:</strong>").replace(/Antwort:/g,"<strong> Antwort:</strong>").replace(/\n/g,"<br />");l(j),i(e),setTimeout(h,3e3)}}catch(e){console.error("Error processing the question:",e)}},[s,n,u,h,i]),S=r.useCallback(e=>{l(e),i(e)},[i]),a={title:"BTW Programm-Kompass",content:"Die Antwort wird in zwei Teilen gegeben: Zuerst die relevanten Zitate aus dem gewählten Kapitel des vorläufigen Wahlprogramms, dann eine Erklärung.",tips:["Die Zitate musst du anschließend UNBEDINGT überprüfen","Beachte, dass sich das finale Wahlprogramm noch ändern kann","Wenn du keine passende Antwort erhältst, versuche die Frage anders zu formulieren"]};return t.jsx(B,{children:t.jsx("div",{className:`container ${d?"with-header":""}`,children:t.jsxs(k,{title:a?a.title:"BTW Programm-Kompass",subtitle:"Stelle eine Frage zum vorläufigen Bundestagswahlprogramm",onSubmit:C,loading:b,success:f,error:x,generatedContent:o,textSize:g,onGeneratedContentChange:S,helpContent:a,children:[t.jsx("h3",{children:t.jsx("label",{htmlFor:"chapter",children:c.SECTION||"Wähle ein Kapitel"})}),t.jsxs("select",{id:"chapter",name:"chapter",value:n,onChange:e=>p(e.target.value),required:!0,children:[t.jsx("option",{value:"",children:"-- Bitte wählen --"}),t.jsx("option",{value:"1",children:"Kapitel 1: In die Zukunft wachsen – ökologisch und ökonomisch"}),t.jsx("option",{value:"2",children:"Kapitel 2: Einfach dabei sein – fair und bezahlbar"}),t.jsx("option",{value:"3",children:"Kapitel 3: Frieden in Freiheit sichern – innen und außen"})]}),n&&t.jsx("p",{className:"help-text chapter-description white-text",children:w(n)}),t.jsx("h3",{children:t.jsx("label",{htmlFor:"question",children:c.QUESTION||"Deine Frage"})}),t.jsx("textarea",{id:"question",name:"question",placeholder:E.QUESTION||"Was möchtest du zum vorläufigen Bundestagswahlprogramm wissen?",value:s,onChange:e=>m(e.target.value),required:!0,style:{height:"120px"}})]})})})};K.propTypes={showHeaderFooter:T.bool};export{K as default};
