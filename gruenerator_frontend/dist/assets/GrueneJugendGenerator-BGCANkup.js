import{u as v,b as D,c as I,j as t,E as J,F as p,a as x,P as M}from"./index-DyXXXUoc.js";import{b as s}from"./vendor-CPnJIadx.js";import{B}from"./BaseForm-c3ucbGGj.js";import{u as L}from"./useSharedContent-C0ZuNfBf.js";import{S as w}from"./AnimatedCheckbox-DTlO6gN8.js";import"./HelpDisplay-BuoYnQy0.js";import"./DisplaySection-B2S7b4Z_.js";import"./ActionButtons-D6KUb2mX.js";import"./index-CqWIjGOL.js";import"./index-02I5EOAM.js";const H=({showHeaderFooter:C=!0})=>{const{initialContent:n}=L(),[l,S]=s.useState(n.thema),[c,b]=s.useState(n.details),[o,j]=s.useState({instagram:n.isFromSharepic,twitter:n.isFromSharepic,tiktok:!1,messenger:!1,reelScript:!1,actionIdeas:!1}),[d,m]=s.useState(""),k=v(d,1.2,.8,[1e3,2e3]),{submitForm:h,loading:F,success:G,resetSuccess:g,error:f}=D("/claude_gruene_jugend"),{setGeneratedContent:i}=s.useContext(I),[u,E]=s.useState(!1),P=s.useCallback(async()=>{const e=Object.keys(o).filter(r=>o[r]),a={thema:l,details:c,platforms:e};console.log("[GrueneJugendGenerator] Sende Formular mit Daten:",a);try{const r=await h(a,u);console.log("[GrueneJugendGenerator] API Antwort erhalten:",r),r&&(console.log("[GrueneJugendGenerator] Setze generierten Content:",r.substring(0,100)+"..."),m(r),i(r),setTimeout(g,3e3))}catch(r){console.error("[GrueneJugendGenerator] Fehler beim Formular-Submit:",r)}},[l,c,o,h,g,i,u]),T=s.useCallback(e=>{console.log("[GrueneJugendGenerator] Content Change Handler aufgerufen mit:",(e==null?void 0:e.substring(0,100))+"..."),m(e),i(e)},[i]),y=s.useCallback(e=>{j(a=>({...a,[e]:!a[e]}))},[]),A=()=>t.jsxs(t.Fragment,{children:[t.jsx("h3",{children:t.jsx("label",{htmlFor:"thema",children:p.THEME})}),t.jsx("input",{id:"thema",type:"text",name:"thema",placeholder:x.THEME,value:l,onChange:e=>S(e.target.value),"aria-required":"true"}),t.jsx("h3",{children:t.jsx("label",{htmlFor:"details",children:p.DETAILS})}),t.jsx("textarea",{id:"details",name:"details",style:{height:"120px"},placeholder:x.DETAILS,value:c,onChange:e=>b(e.target.value),"aria-required":"true"}),t.jsx("h3",{children:"Plattformen & Formate"}),t.jsx("div",{className:"platform-checkboxes",children:Object.entries(o).map(([e,a])=>t.jsx(w,{id:`checkbox-${e}`,checked:a,onChange:()=>y(e),label:e==="actionIdeas"?"Aktionsideen":e==="reelScript"?"Instagram Reel":e==="tiktok"?"TikTok":e==="messenger"?"Messenger":e.charAt(0).toUpperCase()+e.slice(1)},e))})]});return t.jsx(J,{children:t.jsx("div",{className:`container ${C?"with-header":""}`,children:t.jsx(B,{title:"Gr√ºne Jugend",onSubmit:P,loading:F,success:G,error:f,generatedContent:d,textSize:k,onGeneratedContentChange:T,useBackupProvider:u,setUseBackupProvider:E,usePlatformContainers:!0,children:A()})})})};H.propTypes={showHeaderFooter:M.bool};export{H as default};
